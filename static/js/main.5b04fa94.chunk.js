(this.webpackJsonpaoc19=this.webpackJsonpaoc19||[]).push([[0],{21:function(t,e,n){},27:function(t,e,n){t.exports=n(46)},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(23),s=n.n(r),o=(n(32),n(33),n(24)),u=n(11),c=n(1),l=n(2),h=n(4),f=n(3),p=n(5),v=(n(34),n(35),function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.day;return i.a.createElement("header",{className:"App-header"},t&&t>1&&i.a.createElement("input",{className:"prev",type:"button",value:"< Previous",onClick:function(e){e.stopPropagation(),window.location.href="".concat("/aoc19","/#/").concat(t-1)}}),t&&t<25&&i.a.createElement("input",{className:"next",type:"button",value:"Next >",onClick:function(e){e.stopPropagation(),window.location.href="".concat("/aoc19","/#/").concat(t+1)}}),i.a.createElement("div",{onClick:function(){window.location.href="".concat("/aoc19","/")}},i.a.createElement("h1",null,t?"Advent of Code 2019 - Day ".concat(t):"Advent of Code 2019")))}}]),e}(i.a.Component)),d=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(v,null),i.a.createElement("div",{className:"App-grid"},Array.apply(null,{length:25}).map((function(t,e){return i.a.createElement("div",{key:e,onClick:function(t){return window.location.href="".concat("/aoc19","/#/").concat(e+1)}},e+1)}))))}}]),e}(i.a.Component),m=n(13),y=n.n(m),b=n(15),g=(n(37),n(38),function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"input"},"Input:",i.a.createElement("textarea",{placeholder:"<No input yet>",value:this.props.value,onChange:this.props.onChange}),"Number of lines: ",this.props.value?this.props.value.split("\n").length:0)}}]),e}(i.a.Component)),O=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(h.a)(this,Object(f.a)(e).call(this,t))).state={input:null},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"loadInput",value:function(){var t=Object(b.a)(y.a.mark((function t(e){var n,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return t.prev=1,t.next=4,fetch("".concat(this.props.match.params.day,".txt"));case 4:if(!(n=t.sent).ok){t.next=10;break}return t.next=8,n.text();case 8:(a=t.sent).startsWith("<!DOCTYPE html>")||this.setState({input:a.replace(/\r/gm,""),day:this.props.match.params.day});case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(1);case 14:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadInput(this.props.match.params.day)}},{key:"componentDidUpdate",value:function(t){null===this.state.input&&this.loadInput(this.props.match.params.day)}},{key:"render",value:function(){var t=this,e=parseInt(this.props.match.params.day),n=this.state.input;if(e<1||e>25)return i.a.createElement("div",null,i.a.createElement(v,null),i.a.createElement("h1",null,"404 - No such day in Advent of Code!"));var a=this.props.solvers[e-1];return i.a.createElement("div",{className:"App"},i.a.createElement(v,{day:e}),i.a.createElement("div",{className:"solution"},i.a.createElement("div",{className:"data"},i.a.createElement(g,{value:n||"",onChange:function(e){return t.setState({input:e.target.value})}}),a?i.a.createElement(a.a,{header:a.b.hide?"Solution:":"Part 1:",input:n}):i.a.createElement("div",{className:"part1"},"part1"),a?!a.b.hide&&i.a.createElement(a.b,{header:"Part 2:",input:n}):i.a.createElement("div",{className:"part2"},"part1"))))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return e.day!==t.match.params.day?{input:null,day:t.match.params.day}:null}}]),e}(i.a.Component),k=(n(39),function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={},n.show=!0,n.runcontrols=!1,n.running=!1,n.solution=function(t){if(!n.state.solution)return!1;var e=0;return n.state.solution.toString().split("\n").map((function(t){return i.a.createElement("p",{key:e++},t)}))},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"asyncSolve",value:function(){var t=Object(b.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.solve(e)}catch(n){console.log(n),this.setState({error:n})}case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){null!==this.props.input&&this.run(!1)}},{key:"componentDidUpdate",value:function(t){this.props.input!==t.input&&null!==this.props.input&&this.run(!1)}},{key:"run",value:function(t){try{if(this.runControls&&(this.running=t,!this.running))return;if(null===this.props.input)return;this.setState({error:null}),this.asyncSolve(this.props.input)}catch(e){console.log(e),this.setState({error:e})}}},{key:"render",value:function(){var t=this;try{return i.a.createElement("div",{className:"solver"},i.a.createElement("div",{className:"control"},this.props.header,this.runControls&&i.a.createElement("input",{type:"button",value:"Solve",onClick:function(e){return t.run(!0)}})),i.a.createElement("div",{className:"result"},this.customRender?this.customRender():this.state.error?i.a.createElement("div",null,"Error: ",this.state.error.toString()):i.a.createElement(this.solution,null)))}catch(e){return i.a.createElement("div",null,"Error: ",e.toString())}}}]),e}(i.a.Component)),j=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){var e=t&&t.split("\n").filter((function(t){return""!==t})).map((function(t){return Math.floor(parseInt(t)/3)-2})).reduce((function(t,e){return t+e}));this.setState({solution:e})}}]),e}(k),x=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"fuel",value:function(t){var e=Math.floor(t/3)-2;for(t=0;e>0;)t+=e,e=Math.floor(e/3)-2;return t}},{key:"solve",value:function(t){var e=this,n=t&&t.split("\n").filter((function(t){return""!==t})).map((function(t){return e.fuel(parseInt(t))})).reduce((function(t,e){return t+e}));this.setState({solution:n})}}]),e}(k);function E(t,e,n){if(null!==t){var a=t.split(",").map((function(t){return parseInt(t)})),i=0;for(e&&(a[1]=e),n&&(a[2]=n);99!==a[i];){var r=a[i+1],s=a[i+2],o=a[i+3];r=a[r],s=a[s],1===a[i]?a[o]=r+s:2===a[i]&&(a[o]=r*s),i+=4}return a}}var w=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){var e=E(t,12,2);this.setState({solution:e&&e.reduce((function(t,e){return t+",\n"+e}))})}}]),e}(k),C=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){for(var e=0,n=0;n<100;n++)for(var a=0;a<100;a++){var i=E(t,n,a);19690720===i[0]&&(e=100*n+a,this.setState({solution:"Answer: ".concat(e,"\n")+i.reduce((function(t,e){return t+",\n"+e}))}))}}}]),e}(k),F=function(){function t(e,n){Object(c.a)(this,t),this.x=e,this.y=n}return Object(l.a)(t,[{key:"distance",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"toString",value:function(){return"{ x: ".concat(this.x,", y: ").concat(this.y,"}")}}]),t}(),S=function(){function t(e,n,a,i){Object(c.a)(this,t),this.u=e,this.d=n,this.l=a,this.r=i}return Object(l.a)(t,[{key:"union",value:function(e){return new t(Math.max(this.u,e.u),Math.min(this.d,e.d),Math.min(this.l,e.l),Math.max(this.r,e.r))}}]),t}(),P=function(){function t(e){Object(c.a)(this,t),this.g=[],this.cutoff=e}return Object(l.a)(t,[{key:"get",value:function(t,e){return this.g[t]||(this.g[t]=[]),this.g[t][e]}},{key:"set",value:function(t,e,n){this.g[t]||(this.g[t]=[]),this.g[t][e]=n}}]),t}(),T=function(){function t(e){Object(c.a)(this,t),this.instructions=[],this.coordinates=[new F(0,0)],this.bounds=new S(0,0,0,0),this.f=[],this.f.U=new F(0,1),this.f.D=new F(0,-1),this.f.L=new F(-1,0),this.f.R=new F(1,0),this.calculateCoordinates(e.split(",")),this.calculateBounds()}return Object(l.a)(t,[{key:"calculateCoordinates",value:function(t){this.instructions=t;for(var e=0;e<t.length;e++){var n=t[e],a=this.f[n[0]],i=parseInt(n.substring(1)),r=this.coordinates[e],s=new F(r.x+a.x*i,r.y+a.y*i);this.coordinates[e+1]=s}}},{key:"markGrid",value:function(t){t.set(0,0,1);for(var e=0;e<this.instructions.length;e++)for(var n=this.instructions[e],a=this.f[n[0]],i=parseInt(n.substring(1)),r=this.coordinates[e],s=new F(r.x,r.y);i>0;)s.x+=a.x,s.y+=a.y,i--,t.set(s.x,s.y,1)}},{key:"findIntersections",value:function(t){for(var e=[],n=0;n<this.instructions.length;n++)for(var a=this.instructions[n],i=this.f[a[0]],r=parseInt(a.substring(1)),s=this.coordinates[n],o=new F(s.x,s.y);r>0;)o.x+=i.x,o.y+=i.y,r--,void 0!==t.get(o.x,o.y)&&e.push(new F(o.x,o.y));return e}},{key:"distAlong",value:function(t){for(var e=0,n=0;n<this.instructions.length;n++)for(var a=this.instructions[n],i=this.f[a[0]],r=parseInt(a.substring(1)),s=this.coordinates[n],o=new F(s.x,s.y);r>0;)if(o.x+=i.x,o.y+=i.y,r--,e++,o.x===t.x&&o.y===t.y)return e;return e}},{key:"calculateBounds",value:function(){var t=this;this.coordinates.forEach((function(e){e.x>t.bounds.r&&(t.bounds.r=e.x),e.x<t.bounds.l&&(t.bounds.l=e.x),e.y>t.bounds.u&&(t.bounds.u=e.y),e.y<t.bounds.d&&(t.bounds.d=e.y)}))}},{key:"draw",value:function(t,e,n){t.strokeStyle=n,t.beginPath(),t.moveTo(250,250);for(var a=1;a<this.coordinates.length;a++){var i=250+Math.round(250*this.coordinates[a].x/e),r=250-Math.round(250*this.coordinates[a].y/e);t.lineTo(i,r),t.stroke()}}},{key:"toString",value:function(){return"Wire:\n#coordinates: ".concat(this.coordinates.length,"\nbounds: [ Up:").concat(this.bounds.u,", Down:").concat(this.bounds.d,", Left:").concat(this.bounds.l,", Right:").concat(this.bounds.r,"]")}}]),t}(),M=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).state={},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){var e=new P,n=t.split("\n"),a=new T(n[0],e),i=new T(n[1]);a.markGrid(e);var r=i.findIntersections(e),s=0,o=0;r.forEach((function(t){(0===s||t.distance()<s)&&(s=t.distance(),o=t)}));var u,c=0;r.forEach((function(t){var e=a.distAlong(t)+i.distAlong(t);(0===c||e<c)&&(c=e,u=t)}));var l=a.bounds.union(i.bounds),h=100*(Math.floor(Math.max(l.u,-l.d,-l.l,l.r)/100)+1),f=this.refs.canvas.getContext("2d");f.clearRect(0,0,500,500),a.draw(f,h,"#00FF00"),i.draw(f,h,"#0000FF"),this.drawCircle(f,o,5,h,"#FF0000",3),this.drawCircle(f,u,5,h,"#FF0000",3),this.drawOrigin(f,20,h,"#3F3F3F"),this.setState({wireA:a,wireB:i,intersections:r,distance:s,distCoord:o,delay:c,delCoord:u,scaling:h})}},{key:"drawOrigin",value:function(t,e,n,a){t.strokeStyle=a,t.lineWidth=1,t.beginPath(),t.moveTo(250-e,250),t.lineTo(250+e,250),t.stroke(),t.moveTo(250,250-e),t.lineTo(250,250+e),t.stroke(),this.drawCircle(t,new F(0,0),.75*e,n,a,1)}},{key:"drawCircle",value:function(t,e,n,a,i,r){var s=250+Math.round(250*e.x/a),o=250-Math.round(250*e.y/a);t.strokeStyle=i,t.lineWidth=r,t.beginPath(),t.arc(s,o,n,0,2*Math.PI),t.stroke()}},{key:"customRender",value:function(){var t={u:0,d:0,l:0,r:0};return this.state.wireA&&this.state.wireB&&(t=this.state.wireA.bounds.union(this.state.wireB.bounds)),i.a.createElement("div",null,i.a.createElement("canvas",{id:"solution",ref:"canvas",width:"500",height:"500"}),i.a.createElement("p",null,"Wire A: ",this.state.wireA&&this.state.wireA.coordinates.length," coordinates"),i.a.createElement("p",null,"Wire B: ",this.state.wireA&&this.state.wireA.coordinates.length," coordinates"),i.a.createElement("p",null,"Bounds: [ Up: ",t.u,", Down: ",t.d,", Left: ",t.l,", Right: ",t.r,"]"),i.a.createElement("p",null,this.state.intersections&&this.state.intersections.length," intersections"),i.a.createElement("p",null,"Distance to closest intersection: ",this.state.distance," ",this.state.distCoord&&"(".concat(this.state.distCoord.x,",").concat(this.state.distCoord.y,")")),i.a.createElement("p",null,"Delay to closest intersection: ",this.state.delay," ",this.state.distCoord&&"(".concat(this.state.delCoord.x,",").concat(this.state.delCoord.y,")")),i.a.createElement("p",null,"Scaling: ",this.state.scaling))}}]),e}(k),z=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);z.hide=!0;var A=function(){function t(e){Object(c.a)(this,t),this.digits=e.split("").map((function(t){return parseInt(t)}))}return Object(l.a)(t,[{key:"equal",value:function(t){for(var e=0;e<this.digits.length;e++)if(this.digits[e]!==t.digits[e])return!1;return!0}},{key:"lesser",value:function(t){for(var e=0;e<this.digits.length;e++){if(this.digits[e]<t.digits[e])return!0;if(this.digits[e]>t.digits[e])return!1}return!1}},{key:"greater",value:function(t){for(var e=0;e<this.digits.length;e++){if(this.digits[e]<t.digits[e])return!1;if(this.digits[e]>t.digits[e])return!0}return!1}},{key:"inc",value:function(){for(var t=this.digits.length;t>0;)if(t--,this.digits[t]<9){for(this.digits[t]++,t++;t<this.digits.length;)this.digits[t]=this.digits[t-1],t++;return}}},{key:"good",value:function(){for(var t=!1,e=0;e<this.digits.length-1;e++){if(this.digits[e+1]<this.digits[e])return!1;this.digits[e+1]===this.digits[e]&&(t=!0)}return t}},{key:"good2",value:function(){for(var t=1,e=0;e<this.digits.length-1;e++)if(this.digits[e+1]<this.digits[e])return!1;for(var n=1;n<this.digits.length;n++)if(this.digits[n]===this.digits[n-1])t++;else{if(2===t)return!0;t=1}return 2===t}},{key:"toString",value:function(){return this.digits.join()}}]),t}(),R=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve2",value:function(t){for(var e=0,n=parseInt(t.split("-")[1]),a=parseInt(t.split("-")[0]);a<=n;a++){var i=a.toString().split("").map((function(t){return parseInt(t)}));i[0]>i[1]||i[1]>i[2]||i[2]>i[3]||i[3]>i[4]||i[4]>i[5]||i[0]!==i[1]&&i[1]!==i[2]&&i[2]!==i[3]&&i[3]!==i[4]&&i[4]!==i[5]||e++}console.log("#passwords: ".concat(e))}},{key:"solve",value:function(t){for(var e=t.split("-"),n=new A(e[0]),a=new A(e[0]),i=new A(e[1]),r=0,s=0;!a.greater(i);)a.good()&&r++,a.good2()&&s++,a.inc();console.log(new A("112233").good2()),console.log(new A("123444").good2()),console.log(new A("111122").good2()),this.setState({solution:"From: ".concat(n.toString(),"\nTo: ").concat(i.toString(),"\n#passwords(1): ").concat(r,"\n#passwords(2): ").concat(s)})}}]),e}(k),I=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);function N(t,e){if(void 0===t)return"";if(t<0)return"-"+N(-t,e-1);for(var n=t.toString();n.length<e;)n="0"+n;return n}function _(t,e,n){for(var a=e,i=[];n-- >0;)i.push(N(t[a++],5));return"".concat(N(e,4),": {").concat(i.join(", "),"}")}I.hide=!0;var D=[],Y=[],q=function(){function t(){Object(c.a)(this,t),this.p=[]}return Object(l.a)(t,[{key:"debug",value:function(t,e){return"".concat(_(t,e,4)," NOP")}},{key:"op",value:function(t,e){return e+1}}]),t}(),W=function(){function t(){Object(c.a)(this,t),this.p=[!0,!0,!1]}return Object(l.a)(t,[{key:"debug",value:function(t,e,n,a,i){return"".concat(_(t,e,4)," mem[").concat(i,"] = ").concat(n,"+").concat(a," (").concat(n+a,")")}},{key:"op",value:function(t,e,n,a,i){return t[i]=n+a,e+4}}]),t}(),X=function(){function t(){Object(c.a)(this,t),this.p=[!0,!0,!1]}return Object(l.a)(t,[{key:"debug",value:function(t,e,n,a,i){return"".concat(_(t,e,4)," mem[").concat(i,"] = ").concat(n,"*").concat(a," (").concat(n*a,")")}},{key:"op",value:function(t,e,n,a,i){return t[i]=n*a,e+4}}]),t}(),B=function(){function t(){Object(c.a)(this,t),this.p=[!1]}return Object(l.a)(t,[{key:"debug",value:function(t,e,n){return"".concat(_(t,e,2)," input mem[").concat(n,"] (").concat(D[0],")")}},{key:"op",value:function(t,e,n){return t[n]=D.shift(),e+2}}]),t}(),L=function(){function t(){Object(c.a)(this,t),this.p=[!0]}return Object(l.a)(t,[{key:"debug",value:function(t,e,n){return"".concat(_(t,e,2)," output ").concat(n)}},{key:"op",value:function(t,e,n){return Y.push(n),e+2}}]),t}(),Z=function(){function t(){Object(c.a)(this,t),this.p=[!0,!0]}return Object(l.a)(t,[{key:"debug",value:function(t,e,n,a){return"".concat(_(t,e,3)," jmt ").concat(n,", ").concat(a)}},{key:"op",value:function(t,e,n,a){return n?a:e+3}}]),t}(),G=function(){function t(){Object(c.a)(this,t),this.p=[!0,!0]}return Object(l.a)(t,[{key:"debug",value:function(t,e,n,a){return"".concat(_(t,e,3)," jmf ").concat(n,", ").concat(a)}},{key:"op",value:function(t,e,n,a){return n?e+3:a}}]),t}(),J=function(){function t(){Object(c.a)(this,t),this.p=[!0,!0,!1]}return Object(l.a)(t,[{key:"debug",value:function(t,e,n,a,i){return"".concat(_(t,e,4)," less ").concat(n,", ").concat(a,", ").concat(i," (").concat(n<a,")")}},{key:"op",value:function(t,e,n,a,i){return t[i]=n<a?1:0,e+4}}]),t}(),U=function(){function t(){Object(c.a)(this,t),this.p=[!0,!0,!1]}return Object(l.a)(t,[{key:"debug",value:function(t,e,n,a,i){return"".concat(_(t,e,4)," eq ").concat(n,", ").concat(a,", ").concat(i," (").concat(n===a,")")}},{key:"op",value:function(t,e,n,a,i){return t[i]=n===a?1:0,e+4}}]),t}();var K=function(t){function e(){var t,n,a=this;Object(c.a)(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(s)))).runControls=!0,n.state={input:1,disassembly:[],memory:[]},n.memrow=function(t){return null},n.memrows=function(t){for(var e=0,n=[];e<t.value.length;)n.push(i.a.createElement("tr",{key:e},i.a.createElement("td",null,N(e,3),":"),i.a.createElement("td",null,N(t.value[e++],5)),i.a.createElement("td",null,N(t.value[e++],5)),i.a.createElement("td",null,N(t.value[e++],5)),i.a.createElement("td",null,N(t.value[e++],5)),i.a.createElement("td",null,N(t.value[e++],5)),i.a.createElement("td",null,N(t.value[e++],5)),i.a.createElement("td",null,N(t.value[e++],5)),i.a.createElement("td",null,N(t.value[e++],5)),i.a.createElement("td",null,N(t.value[e++],5)),i.a.createElement("td",null,N(t.value[e++],5))));return n},n.memoryTable=function(t){return t.value?i.a.createElement("div",null,i.a.createElement("p",null,"Memory: ",t.value.length," positions"),i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement(a.memrows,{value:t.value})))):null},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){if(t){var e=function(t,e){D=e,Y=[];for(var n=[],a=[new q,new W,new X,new B,new L,new Z,new G,new J,new U],i=0;99!==t[i];){var r=t[i],s=a[r%100],o=t[i+1],u=t[i+2],c=t[i+3];r%1e3<100&&s.p[0]&&(o=t[o]),r%1e4<1e3&&s.p[1]&&(u=t[u]),r%1e5<1e4&&s.p[2]&&(c=t[c]),n.push(s.debug(t,i,o,u,c)),i=s.op(t,i,o,u,c)}return{mem:t,stdout:Y,disassembly:n}}(t.split(",").map((function(t){return parseInt(t)})),[this.state.input]);this.setState({memory:e.mem,output:e.stdout,disassembly:e.disassembly})}}},{key:"result",value:function(){var t=1;return i.a.createElement("div",null,i.a.createElement("div",null,this.state.output&&"Output: "+this.state.output.join(", ")),i.a.createElement("div",null,"Debug:",i.a.createElement("br",null),this.state.disassembly&&this.state.disassembly.map((function(e){return i.a.createElement("span",{key:t++},e,i.a.createElement("br",null))}))),i.a.createElement(this.memoryTable,{value:this.state.memory}))}},{key:"customRender",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement("div",null,"Input: ",i.a.createElement("input",{value:this.state.input,onChange:function(e){return t.setState({input:parseInt(e.target.value)||0})}})),this.state.error?i.a.createElement("div",null,"Error: ",this.state.error.toString()):this.result())}}]),e}(k),H=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).state={input:5,disassembly:[],memory:[]},n}return Object(p.a)(e,t),e}(K),V=function(){function t(e,n){Object(c.a)(this,t),this.id=e,this.orbit=n,this.sat=[]}return Object(l.a)(t,[{key:"setDistance",value:function(t){this.dist=t,this.sat.forEach((function(e){return e.setDistance(t+1)}))}},{key:"setWidth",value:function(){this.sat.forEach((function(t){return t.setWidth()})),0===this.sat.length?this.width=1:this.width=this.sat.map((function(t){return t.width})).reduce((function(t,e){return t+e}))}},{key:"setY",value:function(t){this.y=t+Math.floor(this.width/2),this.sat.forEach((function(e){e.setY(t),t+=e.width}))}},{key:"maxDistance",value:function(){var t=this.dist;return this.sat.forEach((function(e){var n=e.maxDistance();n>t&&(t=n)})),t}},{key:"numberAt",value:function(t){return t===this.dist?1:0===this.sat.length?0:this.sat.map((function(e){return e.numberAt(t)})).reduce((function(t,e){return t+e}))}},{key:"draw",value:function(t,e,n,a,i,r){t.strokeStyle=r,t.lineWidth=1,this.up&&(t.beginPath(),t.moveTo(this.up.dist*a+e,this.up.y*i+n),t.lineTo(this.dist*a+e,this.y*i+n),t.stroke())}},{key:"drawTree",value:function(t,e,n,a,i,r){this.draw(t,e,n,a,i,r),this.sat.forEach((function(s){return s.drawTree(t,e,n,a,i,r)}))}}]),t}(),Q=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).customRender=function(t){return i.a.createElement("div",null,i.a.createElement("p",null,"Orbits: ",n.state.orbits&&n.state.orbits.length),i.a.createElement("p",null,"Count: ",n.state.count),i.a.createElement("p",null,"Hops from you to santa: ",n.state.path&&n.state.path.length-1),i.a.createElement("canvas",{id:"solution",ref:"canvas",width:"600",height:"600"}),!1)},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){var e=t.split("\n").map((function(t){return t.split(")")})).map((function(t){return new V(t[1],t[0])}));e.push(new V("COM",null));var n={};e.forEach((function(t){n[t.id]=t}));var a=0;for(var i in n){var r=n[i];for(r.orbit&&(r.up=n[r.orbit],r.up.sat.push(r));r&&null!==r.orbit;)r=n[r.orbit],a++}var s=n.COM;s.setDistance(0);for(var o=s.maxDistance(),u=[],c=0;c<=o;c++)u.push(s.numberAt(c));s.setWidth(),s.setY(0),console.log(s);var l=560/o,h=500/s.width,f=this.refs.canvas.getContext("2d");f.clearRect(0,0,600,600),s.drawTree(f,20,50,h,l,"#00FF00");var p=n.YOU,v=n.SAN;p.draw(f,20,50,h,l,"#FF0000"),v.draw(f,20,50,h,l,"#FF0000");for(var d=[],m=[];null!==p.orbit;)d.unshift(p.up),p=p.up;for(;null!==v.orbit;)m.unshift(v.up),v=v.up;for(var y=null;d[0].id===m[0].id;)y=d.shift(),m.shift();d.forEach((function(t){t.draw(f,20,50,h,l,"#FF0000")})),m.forEach((function(t){t.draw(f,20,50,h,l,"#FF0000")})),d.reverse(),d.push(y);var b=d.concat(m);this.setState({orbits:e,count:a,path:b})}}]),e}(k),$=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);$.hide=!0;var tt=function(){function t(){var e=this;Object(c.a)(this,t),this.nop={p:[],debug:function(t){return"".concat(e.dass(t,4)," NOP")},op:function(t){return t+1}},this.add={p:[!0,!0,!1],debug:function(t,n,a,i){return"".concat(e.dass(t,4)," mem[").concat(i,"] = ").concat(n,"+").concat(a," (").concat(n+a,")")},op:function(t,n,a,i){return e.mem[i]=n+a,t+4}},this.mul={p:[!0,!0,!1],debug:function(t,n,a,i){return"".concat(e.dass(t,4)," mem[").concat(i,"] = ").concat(n,"*").concat(a," (").concat(n*a,")")},op:function(t,n,a,i){return e.mem[i]=n*a,t+4}},this.input={p:[!1],debug:function(t,n){return"".concat(e.dass(t,2)," input mem[").concat(n,"] (").concat(e.stdin[0],")")},op:function(t,n){return e.mem[n]=e.stdin.shift(),t+2}},this.output={p:[!0],debug:function(t,n){return"".concat(e.dass(t,2)," output ").concat(n)},op:function(t,n){return e.stdout.push(n),t+2}},this.jmt={p:[!0,!0],debug:function(t,n,a){return"".concat(e.dass(t,3)," jmt ").concat(n,", ").concat(a)},op:function(t,e,n){return e?n:t+3}},this.jmf={p:[!0,!0],debug:function(t,n,a){return"".concat(e.dass(t,3)," jmf ").concat(n,", ").concat(a)},op:function(t,e,n){return e?t+3:n}},this.less={p:[!0,!0,!1],debug:function(t,n,a,i){return"".concat(e.dass(t,4)," less ").concat(n,", ").concat(a,", ").concat(i," (").concat(n<a,")")},op:function(t,n,a,i){return e.mem[i]=n<a?1:0,t+4}},this.eq={p:[!0,!0,!1],debug:function(t,n,a,i){return"".concat(e.dass(t,4)," eq ").concat(n,", ").concat(a,", ").concat(i," (").concat(n===a,")")},op:function(t,n,a,i){return e.mem[i]=n===a?1:0,t+4}},this.relative_base=0,this.rbo={p:[!0],debug:function(t,n){return"".concat(e.dass(t,2)," rbo ").concat(n)},op:function(t,n){return e.relative_base+=n,t+2}},this.instr=[this.nop,this.add,this.mul,this.input,this.output,this.jmt,this.jmf,this.less,this.eq,this.rbo],this.mem=[],this.stdin=[],this.stdout=[],this.disass=[],this.ip=0}return Object(l.a)(t,[{key:"fill",value:function(t,e){if(void 0===t)return"";if(t<0)return"-"+this.fill(-t,e-1);for(var n=t.toString();n.length<e;)n="0"+n;return n}},{key:"dass",value:function(t,e){for(var n=t,a=[];e-- >0;)a.push(this.fill(this.mem[n++],5));return"".concat(this.fill(t,4),": {").concat(a.join(", "),"}")}}]),Object(l.a)(t,[{key:"init",value:function(t,e,n){return this.mem=t.split(",").map((function(t){return parseInt(t)})),e&&(this.stdin=e),n&&(this.stdout=n),this.ip=0,this}},{key:"copy",value:function(){var e=new t;return e.mem=this.mem.slice(),e.relative_base=this.relative_base,e.ip=this.ip,e}},{key:"run",value:function(){for(;99!==this.mem[this.ip];){var t=this.mem[this.ip];if(t%100===3&&0===this.stdin.length)return 1;var e=this.instr[t%100],n=this.mem[this.ip+1],a=this.mem[this.ip+2],i=this.mem[this.ip+3];t%1e3<100&&e.p[0]&&(n=this.mem[n]),t%1e3>199&&(n+=this.relative_base,e.p[0]&&(n=this.mem[n])),t%1e4<1e3&&e.p[1]&&(a=this.mem[a]),t%1e4>1999&&(a+=this.relative_base,e.p[1]&&(a=this.mem[a])),t%1e5<1e4&&e.p[2]&&(i=this.mem[i]),t%1e5>19999&&(i+=this.relative_base,e.p[2]&&(i=this.mem[i])),this.debug&&console.log(e.debug(this.ip,n,a,i)),this.ip=e.op(this.ip,n,a,i)}return 0}}]),t}();function et(t,e){t.forEach((function(n){t.forEach((function(a){a!==n&&t.forEach((function(i){i!==a&&i!==n&&t.forEach((function(r){r!==i&&r!==a&&r!==n&&t.forEach((function(t){t!==r&&t!==i&&t!==a&&t!==n&&e([n,a,i,r,t])}))}))}))}))}))}var nt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"calc",value:function(t,e){for(var n=0,a=0;a<5;a++){var i=(new tt).init(t,[e[a],n],[]);i.run(),n=i.stdout[0]}return n}},{key:"solve",value:function(t){var e=this,n=0;et([0,1,2,3,4],(function(a){var i=e.calc(t,a);i>n&&(n=i)})),this.setState({solution:n})}}]),e}(k),at=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"calc",value:function(t,e){for(var n=[e[0],0],a=[e[1]],i=[e[2]],r=[e[3]],s=[e[4]],o=[(new tt).init(t,n,a),(new tt).init(t,a,i),(new tt).init(t,i,r),(new tt).init(t,r,s),(new tt).init(t,s,n)];o.length>0;){var u=o.shift();1===u.run()&&o.push(u)}return n[0]}},{key:"solve",value:function(t){var e=this,n=0;et([5,6,7,8,9],(function(a){var i=e.calc(t,a);console.log("[".concat(a.join(),"] => ").concat(i)),i>n&&(n=i)})),this.setState({solution:n})}}]),e}(k),it=n(10),rt=(n(21),function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.value,n=t.colors;if(!e||!n)return i.a.createElement("div",{className:"css-image"});console.log("rendering"),console.log(e),console.log(n);var a=0,r=0,s=e.filter((function(t){return void 0!==t})),o=Math.max.apply(Math,Object(it.a)(s.map((function(t){return t.length}))));return s.forEach((function(t){for(var e=0;e<o;e++)t[e]=1===t[e]?1:0})),i.a.createElement("div",{className:"css-image"},s.map((function(t){return i.a.createElement("div",{className:"css-image-row",key:a++},t.map((function(t){return i.a.createElement("div",{className:"css-image-pixel",key:r++,style:{backgroundColor:n[t]}})})))})))}}]),e}(i.a.Component));function st(t,e,n,a,i,r){i&&(t.strokeStyle=i),r&&(t.lineWidth=r),t.beginPath(),t.arc(e,n,a,0,2*Math.PI),t.stroke()}function ot(t,e,n,a,i){i&&(t.fillStyle=i),t.beginPath(),t.arc(e,n,a,0,2*Math.PI),t.fill()}function ut(t,e,n,a,i,r,s){r&&(t.strokeStyle=r),s&&(t.lineWidth=s),t.beginPath(),t.moveTo(e,n),t.lineTo(a,i),t.stroke()}function ct(t,e,n,a,i,r){r&&(t.fillStyle=r),t.fillRect(e,n,a-e,i-n)}var lt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).red=[0,255],n.green=[0,255],n.blue=[0,255],n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){for(var e=t.split("").map((function(t){return parseInt(t)})),n=[];e.length>0;)n.push(e.splice(0,150));var a=150,i=null;n.forEach((function(t){var e=t.filter((function(t){return 0===t}));e.length<a&&(a=e.length,i=t)}));for(var r=i.filter((function(t){return 1===t})).length*i.filter((function(t){return 2===t})).length,s=[],o=0;o<150;o++){var u=Math.floor(o/25),c=o%25;0===c&&(s[u]=[],s[u][24]=4,s[u].fill(4,0,25));for(var l=0;l<n.length;l++)4===s[u][c]&&2!==n[l][o]&&(s[u][c]=n[l][o])}this.setState({checksum:r,image:s})}},{key:"customRender",value:function(){var t=0;return i.a.createElement("div",null,i.a.createElement(rt,{value:this.state.image,colors:["black","white"]}),i.a.createElement("p",null,"Checksum: ",this.state.checksum),this.state.text&&i.a.createElement("p",null,"Text:",i.a.createElement("br",null),this.state.text.split("\n").map((function(e){return i.a.createElement("span",{key:t++,style:{fontFamily:"Courier, monospace",whiteSpace:"pre"}},e,i.a.createElement("br",null))}))))}},{key:"drawImage",value:function(t){if(t){for(var e=this.refs.canvas.getContext("2d"),n=e.createImageData(100,24),a=0,i=0;i<24;i++)for(var r=0;r<100;r++){var s=25*Math.floor(i/4)+Math.floor(r/4);n.data[a++]=this.red[t[s]],n.data[a++]=this.green[t[s]],n.data[a++]=this.blue[t[s]],n.data[a++]=255}e.putImageData(n,0,0)}}}]),e}(k),ht=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);ht.hide=!0;var ft=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){var e=[];(new tt).init(t,[1],e).run(),this.setState({solution:"Output: [".concat(e.join(),"]")})}}]),e}(k),pt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){var e=[];(new tt).init(t,[2],e).run(),this.setState({solution:"Output: [".concat(e.join(),"]")})}}]),e}(k),vt=(n(40),function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).scaling=15,n.state={phase:0},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"visible",value:function(t,e,n,a,i){var r=i-n,s=a-e,o=Math.abs(r);for((0===o||0!==s&&Math.abs(s)<o)&&(o=Math.abs(s));o>1;){if(r%o===0&&s%o===0){for(var u=r/o,c=s/o,l=i-u,h=a-c;l!==n||h!==e;){if(0!==t[l][h])return!1;l-=u,h-=c}break}o--}return!0}},{key:"calcVisible",value:function(t,e,n){for(var a=0,i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)0===t[i][r]||i===n&&r===e||!this.visible(t,e,n,r,i)||a++;return a}},{key:"calcAllVisible",value:function(t){for(var e={max:0,count:0,x:-1,y:-1},n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)0!==t[n][a]&&(e.count++,t[n][a]=this.calcVisible(t,a,n),t[n][a]>e.max&&(e.max=t[n][a],e.x=a,e.y=n));return e}},{key:"bearing",value:function(t,e,n,a){var i=n-t,r=a-e,s=Math.sqrt(i*i+r*r),o=0;for(0!==r?(o=Math.PI/2-Math.asin(-r/s),i<0&&(o=-o)):o=Math.PI/2-Math.acos(i/s);o<0;)o+=2*Math.PI;return o}},{key:"calcOrder",value:function(t,e,n,a){for(var i=[],r=0;r<t.length;r++)for(var s=0;s<t[n].length;s++)0===t[r][s]||r===n&&s===e||!this.visible(t,e,n,s,r)||i.push({x:s,y:r,bearing:this.bearing(e,n,s,r)});return(i=i.sort((function(t,e){return t.bearing-e.bearing}))).forEach((function(e){return t[e.y][e.x]=0})),a?a.concat(i):i}},{key:"convert",value:function(t){return(t+.5)*this.scaling}},{key:"drawAsteroids",value:function(t){var e=this,n=this.state.result;st(t,this.convert(n.x),this.convert(n.y),1,"#000000"),this.state.result.destroyOrder.forEach((function(n){return st(t,e.convert(n.x),e.convert(n.y),1,"#000000")}))}},{key:"drawBase",value:function(t){var e=this.state.result;e&&ot(t,this.convert(e.x),this.convert(e.y),3,"#0000FF")}},{key:"shoot",value:function(t){var e=this.state.result,n=e.destroyOrder[0];ut(t,this.convert(e.x),this.convert(e.y),this.convert(n.x),this.convert(n.y),"#FF0000",1)}},{key:"solve",value:function(t){for(var e=this,n=t.split("\n").map((function(t){return t.split("").map((function(t){return"#"===t?1:0}))})),a=this.calcAllVisible(n),i=[];i.length<a.count-1;)i=this.calcOrder(n,a.x,a.y,i);a.destroyOrder=i,a.target=a.destroyOrder[199],setTimeout((function(){return e.updatePhase()}),3e3),this.setState({map:n,count:a.count,result:a,phase:0,text:"Scanning asteroids",blink:!0})}},{key:"updatePhase",value:function(){var t=this;try{var e=this.state,n=e.map,a=e.phase,i=e.destroyed,r=e.result,s=e.count,o=this.refs.canvas.getContext("2d");switch(o.clearRect(0,0,n[0].length*this.scaling,n.length*this.scaling),a>0&&this.drawBase(o),this.drawAsteroids(o),a){case 0:this.setState({phase:1,text:"Asteroids mapped - deploying base",blink:!1}),setTimeout((function(){return t.updatePhase()}),1e3);break;case 1:this.setState({phase:2,text:"Base deployed - calculating fire solution",blink:!0}),setTimeout((function(){return t.updatePhase()}),1e3);break;case 2:i||(i=[]),this.shoot(o);var u=r.destroyOrder.shift();n[u.y][u.x]=0,i.push(u),this.setState({phase:r.destroyOrder.length>0?2:3,count:s-1,text:"Firing!!!",blink:!0,firing:!0,destroyed:i}),setTimeout((function(){return t.updatePhase()}),20);break;case 3:this.setState({phase:3,text:"All targets neutralized, sir!",blink:!1,firing:!1,destroyed:i})}}catch(c){}}},{key:"customRender",value:function(){var t=this.state,e=t.map,n=t.result,a=t.blink,r=t.firing,s=t.count,o=1;return i.a.createElement("div",null,e&&i.a.createElement("p",null,"Map: ","".concat(e.length,"x").concat(e[0].length)),n&&i.a.createElement("p",null,"Asteroids: ","".concat(s)),n&&i.a.createElement("p",null,"Max: ","".concat(n.max)),n&&i.a.createElement("p",null,"Max @ [","".concat(n.x,", ").concat(n.y),"]"),n&&i.a.createElement("p",null,"200th lasered: ","".concat(100*n.target.x+n.target.y)),n&&i.a.createElement("div",null,i.a.createElement("canvas",{id:"solution",ref:"canvas",width:e[0].length*this.scaling,height:e.length*this.scaling,style:{margin:"10px"}}),i.a.createElement("p",{className:a?"blink":void 0,style:{fontWeight:r?"bold":void 0,color:r?"red":"black"}},this.state.text)),n&&i.a.createElement("table",{style:{borderSpacing:"10px 0"}},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Key"),i.a.createElement("th",null,"(X, Y)"),i.a.createElement("th",null,"Bearing"))),i.a.createElement("tbody",null,n.destroyOrder.map((function(t){return i.a.createElement("tr",{key:100*t.x+t.y},i.a.createElement("td",null,o++),i.a.createElement("td",null,100*t.x+t.y),i.a.createElement("td",null,"(",t.x,", ",t.y,")"),i.a.createElement("td",null,t.bearing))})))))}}]),e}(k)),dt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);dt.hide=!0;var mt=function(){function t(e,n){Object(c.a)(this,t),this.step=[{x:0,y:-1},{x:0,y:1},{x:-1,y:0},{x:1,y:0}],this.turn=[[t.left,t.right,t.down,t.up],[t.right,t.left,t.up,t.down]],this.facing=t.up,this.x=e,this.y=n}return Object(l.a)(t,[{key:"move",value:function(t){this.facing=this.turn[t][this.facing],this.x+=this.step[this.facing].x,this.y+=this.step[this.facing].y}}]),t}();mt.up=0,mt.down=1,mt.left=2,mt.right=3;var yt=function(){function t(){Object(c.a)(this,t),this.surface=[]}return Object(l.a)(t,[{key:"validate",value:function(t,e){if(t<0||e<0)throw new Error("Out of bounds: <".concat(t,", ").concat(e,">"));void 0===this.surface[e]&&(this.surface[e]=[])}},{key:"get",value:function(t,e){return this.validate(t,e),this.surface[e][t]}},{key:"set",value:function(t,e,n){this.validate(t,e),this.surface[e][t]=n}},{key:"display",value:function(t){var e=0,n=0,a=this.surface.filter((function(t){return void 0!==t})),r=Math.max.apply(Math,Object(it.a)(a.map((function(t){return t.length}))));return a.forEach((function(t){for(var e=0;e<r;e++)t[e]=1===t[e]?1:0})),i.a.createElement("div",{className:"hull-grid"},a.map((function(t){return i.a.createElement("div",{className:"hull-row",key:e++},t.map((function(t){return i.a.createElement("div",{className:1===t?"hull-white":"hull-black",key:n++})})))})))}}]),t}(),bt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){for(var e=new yt,n=[0],a=[],i=(new tt).init(t,n,a),r=new mt(100,100);1===i.run();)e.set(r.x,r.y,a.shift()),r.move(a.shift()),n.push(1===e.get(r.x,r.y)?1:0);this.setState({hull:e})}},{key:"customRender",value:function(){return i.a.createElement("div",null,this.state.hull&&i.a.createElement("p",null,"Panel count: ",this.state.hull.surface.reduce((function(t,e){return t.concat(e)})).filter((function(t){return void 0!==t})).length),this.state.error&&i.a.createElement("p",null,"Error: ",this.state.error.message))}}]),e}(k),gt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){var e=new yt;e.set(0,0,1);for(var n=(new tt).init(t,[1]),a=new mt(0,0);1===n.run();)e.set(a.x,a.y,n.stdout.shift()),a.move(n.stdout.shift()),n.stdin.push(1===e.get(a.x,a.y)?1:0);this.setState({hull:e})}},{key:"customRender",value:function(){return i.a.createElement("div",null,this.state.hull&&i.a.createElement(rt,{value:this.state.hull.surface,colors:["black","white"]}),this.state.hull&&i.a.createElement("p",null,"Panel count: ",this.state.hull.surface.reduce((function(t,e){return t.concat(e)})).filter((function(t){return void 0!==t})).length),this.state.error&&i.a.createElement("p",null,"Error: ",this.state.error.message))}}]),e}(k),Ot=function(){function t(e){Object(c.a)(this,t),e.startsWith("<")&&(e=e.substring(1)),e.endsWith(">")&&(e=e.substring(0,e.length-1)),e=e.split(", ").map((function(t){return t.split("=")})),this.x=parseInt(e[0][1]),this.y=parseInt(e[1][1]),this.z=parseInt(e[2][1]),this.dx=0,this.dy=0,this.dz=0}return Object(l.a)(t,[{key:"addGravity",value:function(t){this.x>t.x&&(this.dx--,t.dx++),this.x<t.x&&(this.dx++,t.dx--),this.y>t.y&&(this.dy--,t.dy++),this.y<t.y&&(this.dy++,t.dy--),this.z>t.z&&(this.dz--,t.dz++),this.z<t.z&&(this.dz++,t.dz--)}},{key:"move",value:function(){this.x+=this.dx,this.y+=this.dy,this.z+=this.dz}},{key:"potentialEnergy",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"kineticEnergy",value:function(){return Math.abs(this.dx)+Math.abs(this.dy)+Math.abs(this.dz)}},{key:"energy",value:function(){return this.potentialEnergy()*this.kineticEnergy()}},{key:"checksum",value:function(){return this.x+this.y+this.z+this.dx+this.dy+this.dz}},{key:"toString",value:function(){return"".concat(this.name,": <x=").concat(this.x,", y=").concat(this.y,", z=").concat(this.z,"> <dx=").concat(this.dx,", dy=").concat(this.dy,", dz=").concat(this.dz,"> pE=").concat(this.potentialEnergy()," kE=").concat(this.kineticEnergy()," E=").concat(this.energy())}},{key:"toMarkup",value:function(){return i.a.createElement("tr",{key:this.name},i.a.createElement("td",null,this.name),i.a.createElement("td",null,this.x),i.a.createElement("td",null,this.y),i.a.createElement("td",null,this.z),i.a.createElement("td",null,this.dx),i.a.createElement("td",null,this.dy),i.a.createElement("td",null,this.dz),i.a.createElement("td",null,this.potentialEnergy()),i.a.createElement("td",null,this.kineticEnergy()),i.a.createElement("td",null,this.energy()))}}]),t}();function kt(t){for(var e=0;e<t.length;e++)for(var n=e+1;n<t.length;n++)t[e].addGravity(t[n]);t.forEach((function(t){return t.move()}))}function jt(t){var e=t.split("\n").map((function(t){return new Ot(t)}));return e[0].name="Io",e[1].name="Europa",e[2].name="Ganymede",e[3].name="Callisto",e}var xt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"calculate",value:function(t){for(var e=jt(t),n=[e.map((function(t){return t.x.toString()})).join("")],a=[e.map((function(t){return t.y.toString()})).join("")],i=[e.map((function(t){return t.z.toString()})).join("")],r=5e3,s=0,o=0,u=0;0===s||0===o||0===u;){for(var c=Math.max(n.length,a.length,i.length);c<r;c++)kt(e),0===s&&n.push(e.map((function(t){return t.x.toString()})).join("")),0===o&&a.push(e.map((function(t){return t.y.toString()})).join("")),0===u&&i.push(e.map((function(t){return t.z.toString()})).join(""));r*=2,0===s&&(s=this.calculatePeriod(n)),0===o&&(o=this.calculatePeriod(a)),0===u&&(u=this.calculatePeriod(i))}var l=s*o*u,h=l/s,f=l/o,p=l/u;[2,3,5,7,11,13].forEach((function(t){for(;h%t===0&&f%t===0&&p%t===0;)h/=t,f/=t,p/=t,l/=t})),this.setState({period:{tot:l,x:s,y:o,z:u}})}},{key:"calculatePeriod",value:function(t){for(var e=1;e<t.length/2;){for(;e<t.length/2&&t[0]!==t[e];)e++;if(e<t.length/2){for(var n=!0,a=0;a<e;a++)if(t[a]!==t[a+e]){n=!1;break}if(n)return e;e++}}return 0}},{key:"solve",value:function(t){for(var e=this,n=jt(t),a=0;a<1e3;a++)kt(n);this.setState({moons:n}),setTimeout((function(){return e.calculate(t)}),1)}},{key:"customRender",value:function(){var t=this.state,e=t.moons,n=t.period;return e?i.a.createElement("div",null,i.a.createElement("p",null,"Total energy after 1000 steps: ",e.map((function(t){return t.energy()})).reduce((function(t,e){return t+e}))),i.a.createElement("p",null,"\xa0"),function(t){return i.a.createElement("table",{style:{borderSpacing:"10px 0"}},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"X"),i.a.createElement("th",null,"Y"),i.a.createElement("th",null,"Z"),i.a.createElement("th",null,"dX"),i.a.createElement("th",null,"dY"),i.a.createElement("th",null,"dZ"),i.a.createElement("th",null,"pE"),i.a.createElement("th",null,"kE"),i.a.createElement("th",null,"E"))),i.a.createElement("tbody",null,t.map((function(t){return t.toMarkup()}))))}(e),i.a.createElement("p",null,"\xa0"),i.a.createElement("p",null,"Period: ",n?n.tot:"Calculating..."),n&&i.a.createElement("p",null,"Period (X): ",n.x),n&&i.a.createElement("p",null,"Period (Y): ",n.y),n&&i.a.createElement("p",null,"Period (Z): ",n.z)):i.a.createElement("div",null)}}]),e}(k),Et=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);Et.hide=!0;var wt=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(h.a)(this,Object(f.a)(e).call(this,t))).pixel_size=25,n.stdin=[],n.stdout=[],n.screen=[],n.score=0,n.nextInput=0,n.cheat=!1,n.colors=[],n.colorList=["#CFFFCF","#00FF00","#00CF00","#7F7FFF","#3F3FFF","#00007F","#FF7F7F","#FF3F3F","#7F0000","#3F3FFF","#CFCF00","#00CFCF","#CFCFCF","#CFFFCF","#00FF00","#00CF00","#7F7FFF","#3F3FFF","#00007F","#FF7F7F","#FF3F3F","#7F0000","#3F3FFF","#CFCF00","#00CFCF","#CFCFCF"],n.map=["","#","U","=","o"],n.styles=["empty","wall","block","paddle","ball"],document.addEventListener("keydown",(function(t){37===t.keyCode&&(n.nextInput=-1),39===t.keyCode&&(n.nextInput=1)})),document.addEventListener("keyup",(function(t){37!==t.keyCode&&39!==t.keyCode||(n.nextInput=0)})),n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"updateScreen",value:function(){for(var t=this.stdout,e=this.screen,n=0;t.length>0;){var a=t.shift(),i=t.shift(),r=t.shift();-1===a?n=r:(void 0===e[i]&&(e[i]=[]),3===r&&(this.paddle=a),4===r&&(this.ball=a),e[i][a]=r)}return n}},{key:"blockCount",value:function(){return this.screen.map((function(t){return t.filter((function(t){return 2===t})).length})).reduce((function(t,e){return t+e}))}},{key:"drawWalls",value:function(){var t=this.refs.canvas.getContext("2d");t.strokeStyle="#FF0000",t.lineWidth=5,t.beginPath(),t.moveTo(.5*this.pixel_size,(this.screen.length-.5)*this.pixel_size),t.lineTo(.5*this.pixel_size,.5*this.pixel_size),t.lineTo((this.screen[0].length-.5)*this.pixel_size,.5*this.pixel_size),t.lineTo((this.screen[0].length-.5)*this.pixel_size,(this.screen.length-.5)*this.pixel_size),t.stroke()}},{key:"transform",value:function(t){return Math.floor((t+.5)*this.pixel_size)}},{key:"drawGame",value:function(){if(this.refs.canvas){var t=this.refs.canvas.getContext("2d");t.clearRect(this.pixel_size,this.pixel_size,(this.screen[0].length-2)*this.pixel_size,(this.screen.length-1)*this.pixel_size);for(var e=1;e<this.screen.length;e++)for(var n=1;n<this.screen[0].length-1;n++)switch(this.screen[e][n]){case 2:this.colors[e]||(this.colors[e]=this.colorList.shift()),ct(t,this.transform(n-.4),this.transform(e-.2),this.transform(n+.4),this.transform(e+.2),this.colors[e]);break;case 3:ut(t,this.transform(n-.5),this.transform(e),this.transform(n+.5),this.transform(e),"#0000FF",3);break;case 4:ot(t,this.transform(n),this.transform(e),3,"#CFCF00"),st(t,this.transform(n),this.transform(e),3,"#000000",1)}}}},{key:"solve",value:function(t){var e=this;this.computer=(new tt).init(t,this.stdin,this.stdout);var n=this.computer.run();this.updateScreen();var a=this.blockCount();setTimeout((function(){return e.drawWalls()}),10),setTimeout((function(){return e.drawGame()}),10),this.setState({program:t,tiles:a,current:a,result:n})}},{key:"play",value:function(t){this.stdin=[],this.stdout=[],this.score=0,this.cheat=t,this.computer=(new tt).init(this.state.program,this.stdin,this.stdout),this.computer.mem[0]=2,this.move()}},{key:"input",value:function(){0===this.stdin.length&&this.cheat&&(this.nextInput=0,this.ball>this.paddle&&(this.nextInput=1),this.ball<this.paddle&&(this.nextInput=-1)),this.stdin.push(this.nextInput),this.move()}},{key:"move",value:function(){var t=this,e=this.computer.run(),n=this.updateScreen();this.drawGame(),0!==n&&(this.score=n),this.setState({current:this.blockCount(),result:e}),1===e&&setTimeout((function(){return t.input()}),this.cheat?10:1e3)}},{key:"renderImage",value:function(){var t=this,e=0;return i.a.createElement("div",{className:"css-image"},this.screen.map((function(n){return i.a.createElement("div",{className:"css-image-row",key:e++},n.map((function(n){return i.a.createElement("div",{className:"css-image-pixel ".concat(t.styles[n]),key:e++},t.map[n])})))})))}},{key:"customRender",value:function(){var t=this;return i.a.createElement("div",{className:"s13"},i.a.createElement("div",{style:{width:this.screen[0].length*this.pixel_size+"px",display:"flex",flexDirection:"row",justifyContent:"space-between"}},i.a.createElement("p",null,"Tiles: ",this.state.tiles),i.a.createElement("p",null,"Left:",this.state.current),i.a.createElement("p",null,"Score: ",this.score)),i.a.createElement("canvas",{id:"solution",ref:"canvas",width:this.screen[0].length*this.pixel_size,height:this.screen.length*this.pixel_size}),i.a.createElement("div",{className:"controls",style:{width:this.screen[0].length*this.pixel_size+"px"}},i.a.createElement("div",{className:"spacer"}),0===this.state.result&&i.a.createElement("div",null,"Game over! Play again? ",i.a.createElement("input",{type:"button",value:"PLAY",onClick:function(){return t.play(!1)}}),i.a.createElement("input",{type:"button",value:"CHEAT",onClick:function(){return t.play(!0)}})),i.a.createElement("div",{className:"spacer"})))}}]),e}(k),Ct=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);Ct.hide=!0;var Ft=function t(e){Object(c.a)(this,t);var n=(e=e.split(" => "))[1].split(" ");this.output={q:parseInt(n[0]),c:n[1]},this.input=e[0].split(", ").map((function(t){return t.split(" ")})).map((function(t){return{q:parseInt(t[0]),c:t[1]}}))},St=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"calculate",value:function(t,e){for(var n=this,a=[{q:t,c:"FUEL"}],i=0;a.length>0;){var r=a.shift();e[r.c]&&(r.q>=e[r.c]?(r.q-=e[r.c],e[r.c]=0):(e[r.c]-=r.q,r.q=0)),r.q>0&&function(){var t=n.reactions[r.c],s=Math.floor(r.q/t.output.q);r.q%t.output.q!==0&&s++,r.q-=t.output.q*s,r.q<0&&(void 0===e[r.c]?e[r.c]=-r.q:e[r.c]-=r.q),t.input.forEach((function(t){return n=s,void("ORE"===(e=t).c?i+=e.q*n:a.push({c:e.c,q:e.q*n}));var e,n}))}()}return i}},{key:"maxHelper",value:function(){var t=this;if(this.oreneed<1e12){this.setState({maxfuel:this.maxfuel,oreneed:this.oreneed});var e=Math.max(Math.floor((1e12-this.oreneed)/this.oreperfuel),1);this.maxfuel+=e,this.oreneed+=this.calculate(e,this.have),setTimeout((function(){return t.maxHelper()}),1)}else this.setState({done:!0})}},{key:"calcMaxFuel",value:function(){this.needs=[],this.have={},this.oreneed=0,this.maxfuel=0,this.maxHelper()}},{key:"solve",value:function(t){var e=this;t=t.split("\n").map((function(t){return new Ft(t)})),this.reactions={},t.forEach((function(t){return e.reactions[t.output.c]=t})),this.oreperfuel=this.calculate(1,{}),setTimeout((function(){return e.calcMaxFuel()}),1),this.setState({reactions:t.length,ore:this.oreperfuel})}},{key:"customRender",value:function(){return i.a.createElement("div",null,i.a.createElement("p",null,"Reactions: ",this.state.reactions),i.a.createElement("p",null,"Ore required: ",this.state.ore),i.a.createElement("p",null,"Max fuel: ",this.state.maxfuel||"Calculating..."),i.a.createElement("p",null,"Ore load: ",this.state.oreneed||"Calculating..."),i.a.createElement("p",null,this.state.done?"Done!":"Calculating..."))}}]),e}(k),Pt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);Pt.hide=!0;var Tt={c:1,x:0,y:-1},Mt={c:2,x:0,y:1},zt={c:3,x:-1,y:0},At={c:4,x:1,y:0},Rt=["#000000","#7F7F7F","#7F7FCF"],It=function(){function t(){Object(c.a)(this,t),this.map=[]}return Object(l.a)(t,[{key:"get",value:function(t,e){return void 0===this.map[e]&&(this.map[e]=[]),this.map[e][t]}},{key:"set",value:function(t,e,n){void 0===this.map[e]&&(this.map[e]=[]),this.map[e][t]=n}},{key:"height",value:function(){return this.map.length}},{key:"width",value:function(){return Math.max.apply(Math,Object(it.a)(this.map.map((function(t){return void 0===t?0:t.length}))))}}]),t}(),Nt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).pixel_size=5,n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"transform",value:function(t){return(t+50)*this.pixel_size}},{key:"setPos",value:function(t,e,n){(this.map.set(t,e,n),this.refs.canvas)&&ct(this.refs.canvas.getContext("2d"),t=this.transform(t),e=this.transform(e),t+this.pixel_size,e+this.pixel_size,Rt[n])}},{key:"appendPath",value:function(t,e){var n={comp:t.comp.copy(),pos:{x:t.pos.x+e.x,y:t.pos.y+e.y},path:[].concat(Object(it.a)(t.path),[e])};n.comp.stdin.push(e.c),n.comp.run();var a=n.comp.stdout.shift();this.setPos(n.pos.x,n.pos.y,a),0!==a&&this.paths.push(n)}},{key:"search",value:function(){var t=this.paths.shift(),e=this.map.get(t.pos.x,t.pos.y);return 2===e?t:0===e?null:(void 0===this.map.get(t.pos.x+Tt.x,t.pos.y+Tt.y)&&this.appendPath(t,Tt),void 0===this.map.get(t.pos.x+Mt.x,t.pos.y+Mt.y)&&this.appendPath(t,Mt),void 0===this.map.get(t.pos.x+zt.x,t.pos.y+zt.y)&&this.appendPath(t,zt),void 0===this.map.get(t.pos.x+At.x,t.pos.y+At.y)&&this.appendPath(t,At),null)}},{key:"explore",value:function(){for(var t=this,e=0;e<5;e++){if(0===this.paths.length)return;var n=this.search();if(null!==n)return this.setState({path:n}),this.setPos(n.pos.x,n.pos.y,1),this.fillPaths=[{comp:n.comp,pos:n.pos,path:[]}],void setTimeout((function(){return t.fill()}),1)}setTimeout((function(){return t.explore()}),1)}},{key:"appendFill",value:function(t,e){var n={comp:t.comp.copy(),pos:{x:t.pos.x+e.x,y:t.pos.y+e.y},path:[].concat(Object(it.a)(t.path),[e])},a=this.map.get(n.pos.x,n.pos.y);if(2!==a&&0!==a){n.comp.stdin.push(e.c),n.comp.run();var i=n.comp.stdout.shift();this.setPos(n.pos.x,n.pos.y,i),0!==i&&this.fillPaths.push(n)}}},{key:"pumpOxy",value:function(){var t=this.fillPaths.shift();1===this.map.get(t.pos.x,t.pos.y)&&(this.setPos(t.pos.x,t.pos.y,2),(!this.state.fill||this.state.fill.path.length<t.path.length)&&this.setState({fill:t}),this.appendFill(t,Tt),this.appendFill(t,Mt),this.appendFill(t,zt),this.appendFill(t,At))}},{key:"fill",value:function(){for(var t=this,e=0;e<5;e++){if(0===this.fillPaths.length)return;this.pumpOxy()}setTimeout((function(){return t.fill()}),1)}},{key:"solve",value:function(t){var e=this;if(0!==t.length){if(this.map=new It,this.refs.canvas)this.refs.canvas.getContext("2d").clearRect(0,0,100*this.pixel_size,100*this.pixel_size);this.setPos(0,0,1),this.paths=[{comp:(new tt).init(t),pos:{x:0,y:0},path:[]}],setTimeout((function(){return e.explore()}),10)}}},{key:"customRender",value:function(){return i.a.createElement("div",null,i.a.createElement("p",null,"Shortest path: ",this.state.path&&this.state.path.path.length),i.a.createElement("p",null,"Time to fill: ",this.state.fill&&this.state.fill.path.length," minutes"),this.map&&i.a.createElement("canvas",{id:"solution",ref:"canvas",width:100*this.pixel_size,height:100*this.pixel_size}))}}]),e}(k),_t=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);function Dt(t,e){var n=[];n[e-1]=0,n.fill(0,0);for(var a=t-1;a<e;)n.fill(1,a,a+t),a+=2*t,n.fill(-1,a,a+t),a+=2*t;return n}_t.hide=!0;var Yt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){t=t.split("").map((function(t){return parseInt(t)}));var e=parseInt(t.slice(0,7).join("")),n=function(t,e){for(var n=0;n<e;n++){for(var a=[],i=0;i<t.length;i++){var r=Dt(i+1,t.length);a[i]=t[i];for(var s=i+1;s<t.length;s++)a[i]+=t[s]*r[s],a[i]=a[i]%10;a[i]=Math.abs(a[i]%10)}t=a}return t}(t,100).slice(0,8).join(""),a=t.length,i=[];i[100]=t[a-1],i.fill(t[a-1],0,100);for(var r=[],s=1e4*a-2;s>=e;s--){i[0]=t[s%a];for(var o=1;o<101;o++)i[o]=(i[o]+i[o-1])%10;s-e<8&&s-e>-1&&(r[s-e]=i[100])}this.setState({length:t.length,first8:n,offset:e,fromEnd:e-1e4*t.length,relative:e/(1e4*t.length),message:r.join("")})}},{key:"customRender",value:function(){return i.a.createElement("div",null,i.a.createElement("p",null,"Input length: ",this.state.length),i.a.createElement("p",null,"First 8: ",this.state.first8),i.a.createElement("p",null,"Offset: ",this.state.offset),i.a.createElement("p",null,"From end: ",this.state.fromEnd),i.a.createElement("p",null,"Relative: ",this.state.relative),i.a.createElement("p",null,"Message: ",this.state.message))}}]),e}(k),qt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);qt.hide=!0;var Wt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).pixel_size=13,n.state={w:0,h:0,main:"B,C,B,C,B,A,C,A,B,A",subA:"L,8,L,8,R,10,R,4",subB:"R,4,L,10,L,10",subC:"L,8,R,12,R,10,R,4",feed:"y"},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"drawScaffold",value:function(t,e,n){var a=e*this.pixel_size,i=(e+1)*this.pixel_size-1,r=n*this.pixel_size,s=(n+1)*this.pixel_size-1,o=Math.floor((e+.5)*this.pixel_size)-3,u=o+7,c=Math.floor((n+.5)*this.pixel_size)-3,l=c+7;t.strokeStyle="#000000",t.lineWidth=1,t.beginPath(),t.moveTo(a,c),t.lineTo(i,c),t.stroke(),t.beginPath(),t.moveTo(a,l),t.lineTo(i,l),t.stroke(),t.beginPath(),t.moveTo(o,r),t.lineTo(o,s),t.stroke(),t.beginPath(),t.moveTo(u,r),t.lineTo(u,s),t.stroke()}},{key:"drawRobot",value:function(t,e,n,a){ot(t,e=Math.floor((e+.5)*this.pixel_size),n=Math.floor((n+.5)*this.pixel_size),5,"X"===a?"#FF7F7F":"#FFFF7F"),st(t,e,n,5,"#000000")}},{key:"drawImage",value:function(t){var e=this.refs.canvas.getContext("2d");e.clearRect(0,0,this.state.w*this.pixel_size,this.state.h*this.pixel_size);for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)"#"===t[n][a]&&this.drawScaffold(e,a,n),"^<>vV".includes(t[n][a])&&this.drawRobot(e,a,n,t[n][a]),"X"===t[n][a]&&this.drawRobot(e,a,n,t[n][a])}},{key:"solve",value:function(t){for(var e=this,n=(new tt).init(t);1===n.run(););var a=0,i=n.stdout.map((function(t){return String.fromCharCode(t)})).join("").split("\n").filter((function(t){return!t.startsWith("M")})).filter((function(t){return t&&t.length>0})).map((function(t){return t.split("")}));console.log(i);for(var r=1;r<i.length-1;r++)for(var s=1;s<i[r].length-1;s++)"#"===i[r][s]&&"#"===i[r+1][s]&&"#"===i[r-1][s]&&"#"===i[r][s+1]&&"#"===i[r][s-1]&&(a+=s*r);setTimeout((function(){return e.drawImage(i)}),10),this.setState({prg:t,img:i,alignment:a,w:i[0].length,h:i.length})}},{key:"consumeLine",value:function(t){for(;10!==t.stdout[t.read];)t.read++;for(;10===t.stdout[t.read];)t.read++}},{key:"readOutput",value:function(t){var e=this;if(t.read<t.stdout.length-1){for(;"MFC".includes(String.fromCharCode(t.stdout[t.read]));)this.consumeLine(t);for(var n=[],a=0;a<this.state.img.length;a++){n[a]=[];for(var i=0;i<this.state.img[a].length;i++)n[a][i]=String.fromCharCode(t.stdout[t.read++]);this.consumeLine(t)}this.drawImage(n),this.setState({img:n}),setTimeout((function(){return e.readOutput(t)}),20)}else this.setState({dust:t.stdout[t.read]})}},{key:"runProgram",value:function(){var t=(new tt).init(this.state.prg);t.mem[0]=2;for(var e="".concat(this.state.main,"\n").concat(this.state.subA,"\n").concat(this.state.subB,"\n").concat(this.state.subC,"\n").concat(this.state.feed,"\n"),n=0;n<e.length;n++)t.stdin.push(e.charCodeAt(n));t.run(),t.read=0,this.readOutput(t)}},{key:"customRender",value:function(){var t=this,e=0;return i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("p",null,"Alignment: ",this.state.alignment),i.a.createElement("canvas",{id:"solution",ref:"canvas",width:this.state.w*this.pixel_size,height:this.state.h*this.pixel_size}),this.state.output&&this.state.output.map((function(t){return String.fromCharCode(t)})).join("").split("\n").map((function(t){return i.a.createElement("p",{key:e++,style:{whiteSpace:"pre",fontFamily:"monospace"}},t)}))),i.a.createElement("div",{style:{display:"inline-grid",gridTemplateColumns:"auto auto",gridGap:"10px",alignContent:"start"}},i.a.createElement("span",null,"Main program:")," ",i.a.createElement("span",null,i.a.createElement("input",{value:this.state.main,onChange:function(e){return t.setState({main:e.target.value})}})),i.a.createElement("span",null,"Subroutine A:")," ",i.a.createElement("span",null,i.a.createElement("input",{value:this.state.subA,onChange:function(e){return t.setState({subA:e.target.value})}})),i.a.createElement("span",null,"Subroutine B:")," ",i.a.createElement("span",null,i.a.createElement("input",{value:this.state.subB,onChange:function(e){return t.setState({subB:e.target.value})}})),i.a.createElement("span",null,"Subroutine C:")," ",i.a.createElement("span",null,i.a.createElement("input",{value:this.state.subC,onChange:function(e){return t.setState({subC:e.target.value})}})),i.a.createElement("span",null,"Continuous feed:")," ",i.a.createElement("span",null,i.a.createElement("input",{value:this.state.feed,onChange:function(e){return t.setState({feed:e.target.value})}})),i.a.createElement("input",{type:"button",value:"Run!",onClick:function(){return t.runProgram()}})," ",i.a.createElement("span",null),this.state.dust&&i.a.createElement("span",null,"Dust: ",this.state.dust)))}}]),e}(k),Xt=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);Xt.hide=!0;var Bt=n(16);function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var Zt="abcdefghijklmnopqrstuvwxyz",Gt="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Jt={x:0,y:-1},Ut={x:0,y:1},Kt={x:1,y:0},Ht={x:-1,y:0},Vt=function t(e,n,a){Object(c.a)(this,t),this.keys=e,this.distance=n,a&&(this.keys=a.keys+e,this.distance+=a.distance)},Qt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).pixel_size=7,n.preCalc={},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"find",value:function(t,e){for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)if(t[n][a]===e)return{x:a,y:n}}},{key:"tryMove",value:function(t,e,n,a,i,r,s){var o={x:e.x+s.x,y:e.y+s.y},u=n[o.y][o.x];if("#"!==u&&(!Gt.includes(u)||t.keys.includes(u.toLowerCase())))if(!Zt.includes(u)||t.keys.includes(u)){var c=a[e.y][e.x]+1,l=a[o.y][o.x];(0===l||c<l)&&(a[o.y][o.x]=c,i.push(o))}else r.push(new Vt(u,a[e.y][e.x]+1,t))}},{key:"explore",value:function(t,e,n){for(var a=1e3;a>0;a--){if(e.length<1){if(n)return void this.setState({done:!0,paths:[n]});throw new Error("Search failed")}var i=e.shift();if(i.keys.length!==this.keyCount){for(var r=[this.find(t,i.keys[i.keys.length-1])],s=t.map((function(t){return t.map((function(t){return 0}))}));r.length>0;){var o=r.shift();this.tryMove(i,o,t,s,r,e,Jt),this.tryMove(i,o,t,s,r,e,Ut),this.tryMove(i,o,t,s,r,e,Kt),this.tryMove(i,o,t,s,r,e,Ht)}e.sort((function(t,e){return e.keys.length===t.keys.length?t.distance-e.distance:e.keys.length-t.keys.length}))}else(void 0===n||i.distance<n.distance)&&(n=i,console.log("New best: ".concat(n.distance)))}n&&this.setState({paths:[n]})}},{key:"inventory",value:function(t,e,n,a,i,r){var s={x:t.x+r.x,y:t.y+r.y},o=a[s.y][s.x];if("#"!==o){var u=n[t.y][t.x]+1;Zt.includes(o)&&(i.keys.includes(o)||(i.keys+=o),(void 0===i[o]||i[o]>u)&&(i[o]=u));var c=n[s.y][s.x];(0===c||u<c)&&(n[s.y][s.x]=u,e.push(s))}}},{key:"inventoryKeys",value:function(t,e,n){for(var a={doors:"",keys:""},i=[{x:e,y:n}],r=t.map((function(t){return t.map((function(t){return 0}))}));i.length>0;){var s=i.shift();this.inventory(s,i,r,t,a,Jt),this.inventory(s,i,r,t,a,Ut),this.inventory(s,i,r,t,a,Kt),this.inventory(s,i,r,t,a,Ht)}return a}},{key:"keyPath",value:function(t,e,n,a,i,r,s){var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(n,!0).forEach((function(e){Object(Bt.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{x:e.x+s.x,y:e.y+s.y,steps:e.steps+1}),u=i[o.y][o.x];if("#"!==u){t===u&&(console.log("Found path: ".concat(o.steps)),r.paths.push(o)),Zt.includes(u)&&!o.keys.includes(u)&&(o.keys+=u),Gt.includes(u)&&!o.doors.includes(u)&&(o.doors+=u);var c=a[o.y][o.x];(0===c||o.steps<c)&&(a[o.y][o.x]=o.steps,n.push(o))}}},{key:"findPath",value:function(t,e,n,a,i){var r=[{x:e,y:n,steps:0,keys:"",doors:""}];i.paths=[];for(var s=t.map((function(t){return t.map((function(t){return 0}))}));r.length>0;){var o=r.shift();this.keyPath(a,o,r,s,t,i,Jt),this.keyPath(a,o,r,s,t,i,Ut),this.keyPath(a,o,r,s,t,i,Kt),this.keyPath(a,o,r,s,t,i,Ht)}}},{key:"calcDoors",value:function(t,e,n,a){for(var i="",r=0,s=0;s<a.keys.length;s++){var o=a.keys[s];a[o]>r&&(i=o,r=a[o])}this.findPath(t,e,n,i,a)}},{key:"scanQuadrant",value:function(t,e,n){var a=this.inventoryKeys(t,e,n);return this.calcDoors(t,e,n,a),a}},{key:"calculatePath",value:function(t){var e=this.find(t,"@"),n=t.map((function(t){return t.slice()}));n[e.y+1][e.x]="#",n[e.y-1][e.x]="#",n[e.y][e.x+1]="#",n[e.y][e.x-1]="#";var a=[];a.push(this.scanQuadrant(n,e.x-1,e.y-1)),a.push(this.scanQuadrant(n,e.x+1,e.y-1)),a.push(this.scanQuadrant(n,e.x-1,e.y+1)),a.push(this.scanQuadrant(n,e.x+1,e.y+1)),console.log(a)}},{key:"color",value:function(t){return"#"===t?"#000000":Gt.includes(t)?"#fF3F3F":Zt.includes(t)?"#FFFF7F":"#CFCFCF"}},{key:"drawMap",value:function(t){var e=this.refs.canvas.getContext("2d");e.clearRect(0,0,t[0].length*this.pixel_size,t.length*this.pixel_size);for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)ct(e,a*this.pixel_size,n*this.pixel_size,(a+1)*this.pixel_size,(n+1)*this.pixel_size,this.color(t[n][a]))}},{key:"step",value:function(t,e,n,a,i,r,s){var o={x:t.x+s.x,y:t.y+s.y},u=a[o.y][o.x];if("#"!==u){var c=n[t.y][t.x]+1;if(i!==u){var l=n[o.y][o.x];(0===l||c<l)&&(n[o.y][o.x]=c,e.push(o))}else(void 0===r.steps||c<r.steps)&&(r.x=o.x,r.y=o.y,r.steps=c)}}},{key:"findShortest",value:function(t,e,n){for(var a={},i=[e],r=t.map((function(t){return t.map((function(){return 0}))}));i.length>0;){var s=i.shift();this.step(s,i,r,t,n,a,Jt),this.step(s,i,r,t,n,a,Ut),this.step(s,i,r,t,n,a,Kt),this.step(s,i,r,t,n,a,Ht)}return a}},{key:"calculatePath2",value:function(t,e){for(var n=this.find(t,"@"),a=0,i=0;i<e.length;)a+=(n=this.findShortest(t,n,e[i++])).steps;return a}},{key:"solve",value:function(t){for(var e=this,n=0;n<t.length;n++)Zt.includes(t[n])&&this.keyCount++;var a=t.split("\n").map((function(t){return t.split("")})).map((function(t){return t.map((function(t){return"."===t?" ":t}))}));this.setState({map:a}),setTimeout((function(){return e.drawMap(a)}),10);this.setState({part1:this.calculatePath2(a,"omethqkczayxlgiujdwrfvpnbs"),part2:this.calculatePath2(a,"omayxlg")+this.calculatePath2(a,"ethujrvpns")+this.calculatePath2(a,"qi")+this.calculatePath2(a,"kczdwfb")-8})}},{key:"customRender",value:function(){return i.a.createElement("div",null,i.a.createElement("p",null,"Shortest (pt1): ",this.state.part1),i.a.createElement("p",null,"Shortest (pt2): ",this.state.part2),this.state.map&&i.a.createElement("canvas",{id:"solution",ref:"canvas",width:this.state.map[0].length*this.pixel_size,height:this.state.map.length*this.pixel_size}))}}]),e}(k),$t=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);$t.hide=!0;var te=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"detect",value:function(t,e){var n=(new tt).init(this.program);return n.stdin.push(t),n.stdin.push(e),n.run(),n.stdout.shift()}},{key:"solve2",value:function(){for(var t=this.refs.canvas.getContext("2d"),e=100,n=0;;){for(t.fillStyle="#CFCFCF";0===this.detect(e,n);)t.fillRect(e,n,1,1),n++;for(t.fillStyle="#CF7FCF";1===this.detect(e,n);)t.fillRect(e,n,1,1),e++;if(1===this.detect(e-100,n+99))return this.setState({minX:e-100,minY:n}),void t.fillRect(e-100,n,100,100);t.fillStyle="#CFCFCF",t.fillRect(e-100,n+99,1,1)}}},{key:"solve",value:function(t){for(var e=this,n=0,a=this.refs.canvas.getContext("2d"),i=0;i<50;i++)for(var r=0;r<50;r++){var s=(new tt).init(t);s.stdin.push(r),s.stdin.push(i),s.run();var o=s.stdout.shift();1===o&&(n++,a.fillStyle="#CF7FCF"),0===o&&(a.fillStyle="#CFCFCF"),a.fillRect(r,i,1,1)}this.program=t,this.setState({pulls:n}),setTimeout((function(){return e.solve2()}),10)}},{key:"customRender",value:function(){return i.a.createElement("div",null,i.a.createElement("p",null,this.state.pulls," coordinates pulled"),i.a.createElement("p",null,"Min X: ",this.state.minX),i.a.createElement("p",null,"Min Y: ",this.state.minY),i.a.createElement("p",null,"Value: ",this.state.minX&&1e4*this.state.minX+this.state.minY),i.a.createElement("canvas",{id:"solution",ref:"canvas",style:{margin:"10px"},width:"1100",height:"1100"}))}}]),e}(k),ee=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);function ne(t){return t>="A"&&t<="Z"}function ae(t,e,n){return n>=0&&n<t.length&&e>=0&&e<t[n].length}ee.hide=!0;var ie=[{idX:0,idY:1,eX:0,eY:-1,pX:0,pY:0},{idX:0,idY:1,eX:0,eY:2,pX:0,pY:1},{idX:1,idY:0,eX:-1,eY:0,pX:0,pY:0},{idX:1,idY:0,eX:2,eY:0,pX:1,pY:0}],re=[{x:0,y:-1},{x:0,y:1},{x:1,y:0},{x:-1,y:0}],se=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"findPortals",value:function(t){for(var e={},n=function(n){for(var a=function(a){var i=t[n][a];ne(i)&&ie.forEach((function(r){var s=a+r.idX,o=n+r.idY,u=a+r.eX,c=n+r.eY;if(ae(t,s,o)&&ae(t,u,c)&&ne(t[o][s])&&"."===t[c][u]){var l=i+t[o][s];void 0===e[l]&&(e[l]=[]),e[l].push({x:a+r.pX,y:n+r.pY})}}))},i=0;i<t[0].length-1;i++)a(i)},a=0;a<t.length-1;a++)n(a);var i=function(n){Object.prototype.hasOwnProperty.call(e,n)&&2===e[n].length&&e[n].forEach((function(a){t[a.y][a.x]=e[n]}))};for(var r in e)i(r);return e}},{key:"tryMove",value:function(t,e,n,a,i,r){var s=this,o={x:t.x+e.x,y:t.y+e.y,steps:t.steps+1,lvl:t.lvl};r||(o.prev=t);var u=n[o.y][o.x];if("object"===typeof u){if(r)if(1===o.x||1===o.y||o.x===n[o.y].length-2||o.y===n.length-2){if(o.lvl--,o.lvl<0)return}else o.lvl++,void 0===a[o.lvl]&&(a[o.lvl]=n.map((function(t){return t.map((function(){return 0}))})));var c=u.filter((function(t){return t.x!==o.x||t.y!==o.y}))[0];return o.x=c.x,o.y=c.y,o.steps-=1,void re.forEach((function(t){return s.tryMove(o,t,n,a,i)}))}if("."===u||"Z"===u&&0===o.lvl){var l=a[o.lvl][o.y][o.x];(0===l||l>o.steps)&&(a[o.lvl][o.y][o.x]=o.steps,i.push(o))}}},{key:"findPath",value:function(t,e,n,a){var i=this,r=[];r[0]=t.map((function(t){return t.map((function(){return 0}))})),e.steps=0,e.lvl=0;var s=[e];r[e.lvl][e.y][e.x]=0;for(var o=function(){var e=s.shift();if(e.x===n.x&&e.y===n.y)return{v:e};re.forEach((function(n){i.tryMove(e,n,t,r,s,a)})),s.sort((function(t,e){return t.steps-e.steps}))};s.length>0;){var u=o();if("object"===typeof u)return u.v}}},{key:"drawMap",value:function(t){var e=this.refs.canvas.getContext("2d");e.clearRect(0,0,5*t[0].length,5*t.length);for(var n=1;n<t.length-1;n++)for(var a=1;a<t[n].length-1;a++){var i=t[n][a];"#"!==i&&"."!==i||(e.fillStyle="#000000","."===i&&(e.fillStyle="#CFCFCF"),e.fillRect(5*a,5*n,5,5)),"object"===typeof i&&(e.fillStyle="#7F7FCF",e.beginPath(),e.arc(5*(a+.5),5*(n+.5),2.5,0,2*Math.PI),e.fill()),"A"!==i&&"Z"!==i||(e.fillStyle="#FF0000","Z"===i&&(e.fillStyle="#00FF00"),e.beginPath(),1===a?(e.moveTo(5*a,5*n),e.lineTo(5*(a+1),5*(n+.5)),e.lineTo(5*a,5*(n+1))):a===t[n].length-2?(e.moveTo(5*(a+1),5*n),e.lineTo(5*a,5*(n+.5)),e.lineTo(5*(a+1),5*(n+1))):1===n?(e.moveTo(5*a,5*n),e.lineTo(5*(a+.5),5*(n+1)),e.lineTo(5*(a+1),5*n)):n===t.length-2&&(e.moveTo(5*a,5*(n+1)),e.lineTo(5*(a+.5),5*n),e.lineTo(5*(a+1),5*(n+1))),e.closePath(),e.fill())}}},{key:"drawSegment",value:function(t){var e=this;if(1!==t.length&&this.refs.canvas){var n=t.shift();if(5===Math.abs(n.x-t[0].x)+Math.abs(n.y-t[0].y)){var a=this.refs.canvas.getContext("2d");a.strokeStyle="#FF0000",a.beginPath(),a.moveTo(n.x,n.y),a.lineTo(t[0].x,t[0].y),a.stroke()}setTimeout((function(){return e.drawSegment(t)}),50)}}},{key:"drawPath",value:function(t){for(var e=[];t.prev;)e.unshift(t),t=t.prev;e=e.map((function(t){return{x:5*(t.x+.5),y:5*(t.y+.5)}})),this.drawSegment(e)}},{key:"solveRecursive",value:function(t,e){this.setState({recurse:this.findPath(t,e.AA[0],e.ZZ[0],!0).steps-2})}},{key:"solveNonRecursive",value:function(t,e){var n=this;this.drawMap(t);var a=this.findPath(t,e.AA[0],e.ZZ[0],!1);this.setState({path:a.steps-2}),setTimeout((function(){return n.drawPath(a)}),100),setTimeout((function(){return n.solveRecursive(t,e)}),10)}},{key:"solve",value:function(t){var e=this,n=t.split("\n").map((function(t){return t.split("")})),a=this.findPortals(n);this.setState({map:n}),setTimeout((function(){return e.solveNonRecursive(n,a)}),10)}},{key:"customRender",value:function(){var t=this.state.map;return i.a.createElement("div",null,i.a.createElement("p",null,"Distance non-recursive: ",this.state.path),i.a.createElement("p",null,"Distance recursive: ",this.state.recurse),i.a.createElement("div",{style:{fontFamily:"monospace",whiteSpace:"pre"}},t&&i.a.createElement("canvas",{id:"solution",ref:"canvas",width:5*t[0].length,height:5*t.length})))}}]),e}(k),oe=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);oe.hide=!0;var ue=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).state={springCode1:"NOT C J\nAND D J\nNOT A T\nOR T J\nWALK\n",springCode2:"NOT A J\nNOT B T\nOR T J\nNOT C T\nOR T J\nAND D J\nNOT E T\nNOT T T\nOR H T\nAND T J\nRUN\n"},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){this.setState({program:t})}},{key:"runProgram",value:function(t){for(var e=(new tt).init(this.state.program),n=0;n<t.length;n++)e.stdin.push(t.charCodeAt(n));e.run();var a={};for(e.stdout[e.stdout.length-1]>255&&(a.answer=e.stdout[e.stdout.length-1]),a.output="";e.stdout.length>0;)a.output+=String.fromCharCode(e.stdout.shift());return a}},{key:"customRender",value:function(){var t=this,e=0;return i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement("div",{style:{display:"inline",marginRight:"10px"}},i.a.createElement("p",null,"Part 1:"),i.a.createElement("textarea",{rows:"16",cols:"20",value:this.state.springCode1,onChange:function(e){return t.setState({springCode1:e.target.value})}}),i.a.createElement("p",null,i.a.createElement("input",{type:"button",value:"Walk",onClick:function(){var e=t.runProgram(t.state.springCode1);t.setState({answer1:e.answer,output:e.output})}})),i.a.createElement("p",null,"Answer: ",this.state.answer1),i.a.createElement("p",null,"Part 2:"),i.a.createElement("textarea",{rows:"16",cols:"20",value:this.state.springCode2,onChange:function(e){return t.setState({springCode2:e.target.value})}}),i.a.createElement("p",null,i.a.createElement("input",{type:"button",value:"Run",onClick:function(){var e=t.runProgram(t.state.springCode2);t.setState({answer2:e.answer,output:e.output})}})),i.a.createElement("p",null,"Answer: ",this.state.answer2)),this.state.output&&i.a.createElement("div",{style:{fontFamily:"monospace",whiteSpace:"pre"}},this.state.output.split("\n").map((function(t){return i.a.createElement("p",{key:e++},t)}))))}}]),e}(k),ce=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);function le(t,e,n,a){"deal into new stack"===t&&e(),t.startsWith("deal with increment ")&&n(parseInt(t.substring(20),10)),t.startsWith("cut ")&&a(parseInt(t.substring(4),10))}function he(t,e){for(var n=function(){return t.reverse()},a=function(e){t=function(t,e){for(var n=[],a=0;a<t.length;a++)n[a*e%t.length]=t[a];return n}(t,e)},i=function(e){t=function(t,e){for(;e<0;)e+=t.length;return t.slice(e).concat(t.slice(0,e))}(t,e)},r=0;r<e.length;r++)le(e[r],n,a,i);return t}function fe(t,e,n){var a=0;for(t%=n,(e%=n)<0&&(e+=n);e>0;)a+=t*(e%10),a%=n,t=10*t%n,e=(e-e%10)/10;return a}function pe(t,e){for(var n=[{r:Math.min(t,e),s:1,t:0},{r:Math.max(t,e),s:0,t:1}];n[0].r>1;){var a=Math.floor(n[1].r/n[0].r);n.unshift({r:n[1].r-a*n[0].r,s:n[1].s-a*n[0].s,t:n[1].t-a*n[0].t})}return n}function ve(t,e,n,a){if(1===n)return{a:t,b:e};var i=ve(fe(t,t,a),fe((t+1)%a,e,a),Math.floor(n/2),a);return n%2===1&&(i.a=fe(t,i.a,a),i.b=(e+fe(t,i.b,a))%a),i}ce.hide=!0;var de=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"test",value:function(t){var e=10007,n=1,a=0;t=t.split("\n");for(var i=function(t){var e=[];e[t-1]=t-1;for(var n=0;n<t-2;n++)e[n]=n;return e}(10007),r=0;r<5;r++)i=he(i,t);console.log("After ".concat(5," shuffles, card 2020 is: ").concat(i[2020]));var s=function(){n*=-1,a*=-1,a--},o=function(t){var i=pe(t,e);n=fe(n,i[0].s,e),a=fe(a,i[0].s,e)},u=function(t){a=(a+t)%e};t.reverse();for(var c=0;c<t.length;c++)le(t[c],s,o,u);var l=ve(n,a,5,e),h=(fe(2020,l.a,e)+l.b)%e;h<0&&(h+=e),console.log("Computed card is: ".concat(h))}},{key:"solve1",value:function(t){var e=10007,n=1,a=0,i=function(){n*=-1,a*=-1,a--},r=function(t){n*=t,a*=t,n%=e,a%=e},s=function(t){a+=-t,a%=e};t=t.split("\n");for(var o=0;o<t.length;o++)le(t[o],i,r,s);var u=(fe(n,2019,e)+a)%e;return u<0&&(u+=e),u}},{key:"solve2",value:function(t){var e=0x6c845af5633f,n=1,a=0,i=function(){n*=-1,a*=-1,a--},r=function(t){var i=pe(e,t);n=fe(n,i[0].s,e),a=fe(a,i[0].s,e)},s=function(t){a+=t,a%=e};(t=t.split("\n")).reverse();for(var o=0;o<t.length;o++)le(t[o],i,r,s);console.log("Multiplier per iteration: ".concat(n)),console.log("Addition per iteration: ".concat(a));var u=ve(n,a,0x5c888edbcaf5,e);console.log("Multiplier for n iterations: ".concat(u.a)),console.log("Addition for n iterations: ".concat(u.b));var c=(fe(2020,u.a,e)+u.b)%e;return c<0&&(c+=e),c}},{key:"solve",value:function(t){var e=this.solve1(t),n=this.solve2(t);this.setState({solution:"Index of card 2019: ".concat(e,"\nCard in position 2020: ").concat(n)})}}]),e}(k),me=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);me.hide=!0;var ye=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){for(var e=[],n={},a=!1,i=[],r=0;r<50;r++)e[r]=(new tt).init(t,[r,-1]);for(;;){for(var s=!0,o=0;o<50;o++){var u=e[o];for(0===u.stdin.length?u.stdin.push(-1):s=!1,u.run();u.stdout.length>0;){var c=u.stdout.shift(),l=u.stdout.shift(),h=u.stdout.shift();c<50&&(e[c].stdin.push(l),e[c].stdin.push(h),s=!1),255===c&&(!1===a&&(a=h),n.x=l,n.y=h)}}if(s&&(e[0].stdin.push(n.x),e[0].stdin.push(n.y),i.push(n.y),i.filter((function(t){return t===n.y})).length>1))return void this.setState({solution:"First Y sent to NAT: ".concat(a,"\nFirst duplicate Y sent by NAT: ").concat(n.y)})}}}]),e}(k),be=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),e}(k);be.hide=!0;var ge=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"bio",value:function(t){for(var e=1,n=0,a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++)"#"===t[a][i]&&(n+=e),e*=2;return n}},{key:"bugCount",value:function(t,e,n){var a=0;return e>0&&"#"===t[n][e-1]&&a++,e+1<t[n].length&&"#"===t[n][e+1]&&a++,n>0&&"#"===t[n-1][e]&&a++,n+1<t.length&&"#"===t[n+1][e]&&a++,a}},{key:"tick",value:function(t){for(var e=t.map((function(t){return t.slice()})),n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++){var i=this.bugCount(t,a,n);"#"===e[n][a]?1!==i&&(e[n][a]="."):1!==i&&2!==i||(e[n][a]="#")}return e}},{key:"solve",value:function(t){for(var e=t.split("\n").map((function(t){return t.split("")})),n=[this.bio(e)];;){e=this.tick(e);var a=this.bio(e);if(n.includes(a))return void this.setState({solution:"First bio score to repeat: ".concat(a)});n.push(a)}}}]),e}(k),Oe=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"bugCount",value:function(t,e,n,a){var i=0;if(0===n&&e>0&&"#"===t[e-1][2][1]&&i++,0===a&&e>0&&"#"===t[e-1][1][2]&&i++,4===n&&e>0&&"#"===t[e-1][2][3]&&i++,4===a&&e>0&&"#"===t[e-1][3][2]&&i++,2===n&&1===a&&e<400)for(var r=0;r<5;r++)"#"===t[e+1][0][r]&&i++;if(2===n&&3===a&&e<400)for(var s=0;s<5;s++)"#"===t[e+1][4][s]&&i++;if(1===n&&2===a&&e<400)for(var o=0;o<5;o++)"#"===t[e+1][o][0]&&i++;if(3===n&&2===a&&e<400)for(var u=0;u<5;u++)"#"===t[e+1][u][4]&&i++;return n>0&&"#"===t[e][a][n-1]&&i++,n<4&&"#"===t[e][a][n+1]&&i++,a>0&&"#"===t[e][a-1][n]&&i++,a<4&&"#"===t[e][a+1][n]&&i++,i}},{key:"tick",value:function(t){for(var e=[],n=0;n<=400;n++){e[n]=t[n].map((function(t){return t.map((function(t){return t.slice()}))}));for(var a=0;a<5;a++)for(var i=0;i<5;i++)if(2!==i||2!==a){var r=this.bugCount(t,n,i,a);"#"===e[n][a][i]?1!==r&&(e[n][a][i]="."):1!==r&&2!==r||(e[n][a][i]="#")}}return e}},{key:"countBugs",value:function(t){var e=0;return t.forEach((function(t){for(var n=0;n<5;n++)for(var a=0;a<5;a++)2===n&&2===a||"#"!==t[n][a]||e++})),e}},{key:"passTime",value:function(t){var e=this;200!==this.state.ticks?(t=this.tick(t),this.setState({ticks:this.state.ticks+1,maps:t}),setTimeout((function(){return e.passTime(t)}),1)):this.setState({answer:this.countBugs(t)})}},{key:"assert",value:function(t,e,n,a,i){var r=this.bugCount(t,e,n,a);r!==i&&console.log("bugCount(".concat(e,",").concat(n,",").concat(a,") should be ").concat(i," but was ").concat(r,"!"))}},{key:"logMap",value:function(t){for(var e=0;e<5;e++)console.log(e+": "+t[e].join(""))}},{key:"solve",value:function(t){var e=this,n=[];n[200]=t.split("\n").map((function(t){return t.split("")}));for(var a=0;a<=400;a++)200!==a&&(n[a]=n[200].map((function(t){return t.map((function(){return"."}))})));this.setState({ticks:0,maps:n}),setTimeout((function(){return e.passTime(n)}),10)}},{key:"customRender",value:function(){return i.a.createElement("div",null,i.a.createElement("p",null,"Step: ",this.state.ticks),this.state.answer&&i.a.createElement("p",null,"Number of bugs: ",this.state.answer),i.a.createElement("div",{style:{fontFamily:"monospace",whiteSpace:"pre"}},this.state.maps&&this.state.maps[199].map((function(t,e){return i.a.createElement("p",{key:1990+e},t.join(""))})),i.a.createElement("p",null,"\xa0"),this.state.maps&&this.state.maps[200].map((function(t,e){return i.a.createElement("p",{key:2e3+e},t.join(""))})),i.a.createElement("p",null,"\xa0"),this.state.maps&&this.state.maps[201].map((function(t,e){return i.a.createElement("p",{key:2010+e},t.join(""))}))))}}]),e}(k);function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function je(t,e){for(var n=0;n<e.length;n++)t.stdin.push(e.charCodeAt(n))}var xe=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).rooms=[],n.pos={x:0,y:0},n.state={cmd:""},n.warp=[{dir:"south",x:0,y:1,dx:0,dy:3},{dir:"north",x:0,y:3,dx:0,dy:-3},{dir:"east",x:1,y:0,dx:3,dy:0},{dir:"west",x:3,y:0,dx:-3,dy:0},{dir:"south",x:4,y:1,dx:0,dy:6},{dir:"north",x:4,y:6,dx:0,dy:-6},{dir:"east",x:-5,y:7,dx:9,dy:0},{dir:"west",x:3,y:7,dx:-9,dy:0}],n.items=["pointer","coin","mug","manifold","hypercube","easter egg","astrolabe","candy cane"],n.autoCmd="west\ntake mug\nnorth\ntake easter egg\nsouth\neast\nsouth\neast\nnorth\ntake candy cane\nsouth\nwest\nnorth\neast\ntake coin\nnorth\nnorth\ntake hypercube\nsouth\neast\ntake manifold\nwest\nsouth\nsouth\neast\ntake pointer\nwest\nwest\ntake astrolabe\nnorth\neast\nnorth\ndrop pointer\ndrop coin\ndrop mug\ndrop manifold\ndrop hypercube\ndrop easter egg\ndrop astrolabe\ndrop candy cane",n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"enterInput",value:function(t){var e=this;t.length>0&&je(this.comp,t+"\n");var n=this.rooms.find((function(t){return t.x===e.pos.x&&t.y===e.pos.y}));"north"===t&&n.dir.includes("N")&&this.pos.y--,"south"===t&&n.dir.includes("S")&&this.pos.y++,"east"===t&&n.dir.includes("E")&&this.pos.x++,"west"===t&&n.dir.includes("W")&&this.pos.x--,this.warp.forEach((function(n){t===n.dir&&e.pos.x===n.x&&e.pos.y===n.y&&(e.pos.x+=n.dx,e.pos.y+=n.dy)}))}},{key:"translateX",value:function(t){return 25*(t+16)}},{key:"translateY",value:function(t){return 25*(t+5)}},{key:"updateMap",value:function(){var t=this,e=this.refs.canvas.getContext("2d");e.clearRect(0,0,800,450),e.strokeStyle="#000000",e.fillStyle="#CF7F00",this.rooms.forEach((function(n){var a=t.translateX(n.x),i=t.translateY(n.y);e.beginPath(),e.rect(a,i,25,25),e.stroke(),n.dir.includes("N")&&e.fillRect(a+5,i-2,15,5),n.dir.includes("S")&&e.fillRect(a+5,i+25-2,15,5),n.dir.includes("E")&&e.fillRect(a+25-2,i+5,5,15),n.dir.includes("W")&&e.fillRect(a-2,i+5,5,15)})),e.strokeStyle="#00CF00";var n=this.translateX(this.pos.x)+5,a=this.translateY(this.pos.y)+5;e.beginPath(),e.moveTo(n,a),e.lineTo(n+15,a+15),e.stroke(),e.moveTo(n+15,a),e.lineTo(n,a+15),e.stroke()}},{key:"parseOutput",value:function(){for(var t=this,e="";this.comp.stdout.length>0;)e+=String.fromCharCode(this.comp.stdout.shift());if(!this.rooms.some((function(e){return e.x===t.pos.x&&e.y===t.pos.y}))){var n="";e.includes("- north\n")&&(n+="N"),e.includes("- south\n")&&(n+="S"),e.includes("- east\n")&&(n+="E"),e.includes("- west\n")&&(n+="W"),this.rooms.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(n,!0).forEach((function(e){Object(Bt.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.pos,{dir:n}))}return this.updateMap(),e}},{key:"runCommand",value:function(t){this.enterInput(t),this.comp.run(),this.setState({cmd:"",output:this.parseOutput()})}},{key:"tryCombinations",value:function(){for(var t=1;t<256;t++){for(var e=this.comp.copy();e.stdout.length>0;)e.stdout.shift();for(var n=t,a=0;n>0;)n%2===1&&je(e,"take ".concat(this.items[a],"\n")),a++,n=Math.floor(n/2);for(e.run();e.stdout.length>0;)e.stdout.shift();je(e,"east\n"),e.run();for(var i="";e.stdout.length>0;)i+=String.fromCharCode(e.stdout.shift());i.includes("ejected back to the checkpoint")||this.setState({output:i})}}},{key:"autoCommands",value:function(t){var e=this;0!==t.length?(this.runCommand(t.shift()),setTimeout((function(){return e.autoCommands(t)}),100)):this.tryCombinations()}},{key:"solve",value:function(t){var e=this;this.program=t,this.comp=(new tt).init(t),this.runCommand(""),setTimeout((function(){return e.autoCommands(e.autoCmd.split("\n"))}),100)}},{key:"handleKey",value:function(t){"Enter"===t.key&&(this.runCommand(this.state.cmd),t.preventDefault())}},{key:"customRender",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement("canvas",{id:"solution",ref:"canvas",width:800,height:450}),this.state.output&&this.state.output.split("\n").map((function(t,e){return i.a.createElement("p",{key:e},t)})),i.a.createElement("p",null,i.a.createElement("input",{value:this.state.cmd,onChange:function(e){return t.setState({cmd:e.target.value})},onKeyPress:function(e){return t.handleKey(e)}})))}}]),e}(k),Ee=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(i)))).run=function(){var t=n.refs.canvas.getContext("2d");t.moveTo(0,0),t.lineTo(200,200),t.stroke(),t.moveTo(0,200),t.lineTo(200,0),t.stroke(),t.beginPath(),t.arc(100,100,75,0,2*Math.PI),t.stroke()},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"solve",value:function(t){this.running&&this.setState({solution:t})}},{key:"customRender",value:function(){return i.a.createElement("canvas",{id:"solution",ref:"canvas",width:"200",height:"200"})}}]),e}(k);Ee.hide=!0;var we=[{a:j,b:x},{a:w,b:C},{a:M,b:z},{a:R,b:I},{a:K,b:H},{a:Q,b:$},{a:nt,b:at},{a:lt,b:ht},{a:ft,b:pt},{a:vt,b:dt},{a:bt,b:gt},{a:xt,b:Et},{a:wt,b:Ct},{a:St,b:Pt},{a:Nt,b:_t},{a:Yt,b:qt},{a:Wt,b:Xt},{a:Qt,b:$t},{a:te,b:ee},{a:se,b:oe},{a:ue,b:ce},{a:de,b:me},{a:ye,b:be},{a:ge,b:Oe},{a:xe,b:Ee}];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement((function(){return i.a.createElement(o.a,{basename:"".concat("/aoc19")},i.a.createElement(u.c,null,i.a.createElement(u.a,{exact:!0,path:"/:day",render:function(t){return i.a.createElement(O,Object.assign({solvers:we},t))}}),i.a.createElement(u.a,{exact:!0,path:"/",component:d}),i.a.createElement(u.a,{path:"/",render:function(t){return i.a.createElement("h2",null,"404 - this puzzle does not exist!")}})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.5b04fa94.chunk.js.map