{"version":3,"sources":["AppHeader.js","AppGrid.js","Input.js","Solution.js","Solvers/Solver.js","Solvers/S1.js","Solvers/S2.js","Solvers/S3.js","Solvers/S4.js","Solvers/S5.js","Solvers/S6.js","Solvers/IntCode.js","Solvers/S7.js","util/CssImage.js","util/Drawing.js","Solvers/S8.js","Solvers/S9.js","Solvers/S10.js","Solvers/S11.js","Solvers/S12.js","Solvers/S13.js","Solvers/S14.js","Solvers/S15.js","Solvers/S16.js","Solvers/S17.js","Solvers/S18.js","Solvers/S19.js","App.js","Solvers/S20.js","Solvers/S21.js","Solvers/S22.js","Solvers/S23.js","Solvers/S24.js","Solvers/S25.js","serviceWorker.js","index.js"],"names":["AppHeader","day","this","props","className","type","value","onClick","e","stopPropagation","window","location","href","process","React","Component","AppGrid","Array","apply","length","map","i","key","Input","placeholder","onChange","split","Solution","state","input","fetch","match","params","res","ok","text","txt","startsWith","setState","replace","loadInput","prev","parseInt","s","solvers","target","a","header","b","hide","Solver","show","runcontrols","running","solution","p","toString","t","solve","console","log","error","run","auto","runControls","asyncSolve","customRender","S1a","r","filter","Math","floor","reduce","n","S1b","x","fuel","calc","noun","verb","mem","ip","c","S2a","S2b","answer","Coordinate","y","abs","Envelope","u","d","l","other","max","min","Grid","cutoff","g","val","Wire","instructions","coordinates","bounds","f","calculateCoordinates","calculateBounds","v","substring","grid","set","undefined","get","push","coord","dist","forEach","ctx","scaling","style","strokeStyle","beginPath","moveTo","round","lineTo","stroke","S3a","wires","wireA","wireB","markGrid","intersections","findIntersections","distance","distCoord","delCoord","delay","distAlong","union","refs","canvas","getContext","clearRect","draw","drawCircle","drawOrigin","size","lineWidth","radius","arc","PI","id","ref","width","height","S3b","Password","string","digits","count","j","join","S4a","cnt","to","range","from","count2","greater","good","good2","inc","S4b","fill","num","positions","dass","m","stdin","stdout","nop","add","mul","shift","output","jmt","jmf","less","eq","S5a","disassembly","memory","memrow","memrows","rows","memoryTable","data","disass","instr","opcode","op","debug","result","S5b","Orbit","orbit","sat","setDistance","setWidth","start","setY","sd","maxDistance","numberAt","offsetX","offsetY","scaleX","scaleY","up","drawTree","S6a","orbits","path","o","dict","k","root","maxDist","density","you","san","yPath","sPath","unshift","lcd","reverse","concat","S6b","Computer","relative_base","rbo","program","slice","combine","arr","p1","p2","p3","p4","p5","S7a","phase","init","S7b","amps","amp","CssImage","colors","ri","ci","maxcol","backgroundColor","drawFilledCircle","fillStyle","drawLine","x1","y1","x2","y2","drawFilledRect","fillRect","S8a","red","green","blue","layers","splice","zeroes","minzerolayer","checksum","img","z","image","fontFamily","whiteSpace","createImageData","imgPtr","putImageData","S8b","S9a","S9b","S10a","dy","dx","sy","sx","y3","x3","lc","visible","calcVisible","sqrt","asin","acos","previous","bearing","sort","convert","destroyOrder","calcAllVisible","destroy","calcOrder","setTimeout","updatePhase","blink","destroyed","drawBase","drawAsteroids","shoot","tgt","firing","margin","fontWeight","color","borderSpacing","S10b","Robot","step","turn","left","right","down","facing","direction","Hull","surface","Error","validate","S11a","hull","rob","move","message","S11b","Moon","endsWith","dz","potentialEnergy","kineticEnergy","name","energy","moveMoons","moons","addGravity","initMoons","S12a","xs","ys","zs","limit","px","py","pz","calculatePeriod","mx","my","mz","prime","period","tot","calculate","toMarkup","renderMoons","S12b","S13a","pixel_size","screen","score","nextInput","cheat","colorList","styles","document","addEventListener","keyCode","paddle","ball","transform","computer","updateScreen","blocks","blockCount","drawWalls","drawGame","tiles","current","display","flexDirection","justifyContent","play","S13b","Reaction","formulae","q","S14a","have","needs","ore","need","reactions","oreneed","maxfuel","next","oreperfuel","maxHelper","done","calcMaxFuel","S14b","north","south","west","east","Map","S15a","terrain","dir","comp","copy","pos","setPos","paths","appendPath","search","fillPaths","explore","appendFill","pumpOxy","S15b","pattern","S16a","offset","first8","times","fft","scratch","fromEnd","relative","S16b","S17a","w","h","main","subA","subB","subC","feed","fromX","toX","fromY","toY","drawScaffold","includes","drawRobot","alignment","String","fromCharCode","drawImage","prg","read","consumeLine","readOutput","dust","charCodeAt","gridTemplateColumns","gridGap","alignContent","runProgram","S17b","keys","doors","Path","S18a","preCalc","distMap","dists","toLowerCase","steps","tgtSteps","best","keyCount","find","tryMove","quad","inventory","keyPath","findPath","inventoryKeys","calcDoors","scanMap","scanQuadrant","order","total","findShortest","drawMap","calculatePath2","S18b","Boolean","hostname","ReactDOM","render","basename","exact","component","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b8b81e6c.chunk.js","sourcesContent":["import './AppHeader.css';\r\nimport React from 'react';\r\n\r\nexport default class AppHeader extends React.Component {\r\n\trender() {\r\n\t\tlet day = this.props.day;\r\n\t\treturn <header className=\"App-header\">\r\n\t\t\t{day && day > 1 && <input className=\"prev\" type=\"button\" value=\"< Previous\" onClick={e => { e.stopPropagation(); window.location.href = `${process.env.PUBLIC_URL}/#/${day - 1}`; }} />}\r\n\t\t\t{day && day < 25 && <input className=\"next\" type=\"button\" value=\"Next >\" onClick={e => { e.stopPropagation(); window.location.href = `${process.env.PUBLIC_URL}/#/${day + 1}`; }} />}\r\n\t\t\t<div onClick={() => { window.location.href = `${process.env.PUBLIC_URL}/` }}><h1>{day ? `Advent of Code 2019 - Day ${day}` : \"Advent of Code 2019\"}</h1></div>\r\n\t\t</header>\r\n\t}\r\n}\r\n","import './AppGrid.css'\r\nimport React from 'react'\r\nimport AppHeader from './AppHeader';\r\n\r\nexport class AppGrid extends React.Component {\r\n\trender() {\r\n\t\treturn <div className=\"App\">\r\n\t\t\t<AppHeader />\r\n\t\t\t<div className=\"App-grid\">\r\n\t\t\t\t{Array.apply(null, { length: 25 }).map((e, i) =>\r\n\t\t\t\t\t<div key={i} onClick={e => window.location.href = `${process.env.PUBLIC_URL}/#/${i + 1}`}>{i + 1}</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t}\r\n}","import './Input.css';\r\nimport React from 'react';\r\n\r\nexport default class Input extends React.Component {\r\n\trender() {\r\n\t\treturn <div className=\"input\">\r\n\t\t\tInput:\r\n\t\t\t<textarea placeholder=\"<No input yet>\" value={this.props.value} onChange={this.props.onChange}/>\r\n\t\t\tNumber of lines: {this.props.value ? this.props.value.split('\\n').length : 0}\r\n\t\t</div>\r\n\t}\r\n}","import './Solution.css';\r\nimport React from 'react';\r\nimport Input from './Input';\r\nimport AppHeader from './AppHeader';\r\n\r\nexport class Solution extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { input: null };\r\n\t}\r\n\r\n\tasync loadInput(day) {\r\n\t\tif (day) {\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await fetch(`${this.props.match.params.day}.txt`);\r\n\t\t\t\tif (res.ok) {\r\n\t\t\t\t\tlet txt = await res.text();\r\n\t\t\t\t\tif (!txt.startsWith(\"<!DOCTYPE html>\")) {\r\n\t\t\t\t\t\tthis.setState({ input: txt.replace(/\\r/gm, ''), day: this.props.match.params.day });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\tif (state.day !== props.match.params.day) {\r\n\t\t\treturn { input: null, day: props.match.params.day }\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.loadInput(this.props.match.params.day);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prev) {\r\n\t\tif (this.state.input === null) {\r\n\t\t\tthis.loadInput(this.props.match.params.day);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet day = parseInt(this.props.match.params.day);\r\n\t\tlet input = this.state.input;\r\n\r\n\t\tif (day < 1 || day > 25) return <div>\r\n\t\t\t<AppHeader />\r\n\t\t\t<h1>404 - No such day in Advent of Code!</h1>\r\n\t\t</div>\r\n\r\n\t\tlet s = this.props.solvers[day - 1];\r\n\t\treturn <div className=\"App\">\r\n\t\t\t<AppHeader day={day} />\r\n\t\t\t<div className=\"solution\">\r\n\t\t\t\t<div className=\"data\">\r\n\t\t\t\t\t<Input value={input || \"\"} onChange={e => this.setState({ input: e.target.value })} />\r\n\t\t\t\t\t{s ? <s.a header={s.b.hide ? \"Solution:\" : \"Part 1:\"} input={input} /> : <div className=\"part1\">part1</div>}\r\n\t\t\t\t\t{s ? !s.b.hide && <s.b header=\"Part 2:\" input={input} /> : <div className=\"part2\">part1</div>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t}\r\n}","import './Solver.css';\r\nimport React from 'react';\r\n\r\nexport default class Solver extends React.Component {\r\n\tstate = {};\r\n\tshow = true;\r\n\truncontrols = false;\r\n\trunning = false;\r\n\r\n\tasync asyncSolve(input) {\r\n\t\ttry {\r\n\t\t\tthis.solve(input);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tthis.setState({ error: e });\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.input !== null) {\r\n\t\t\tthis.run(false);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prev) {\r\n\t\tif (this.props.input !== prev.input && this.props.input !== null) {\r\n\t\t\tthis.run(false);\r\n\t\t}\r\n\t}\r\n\r\n\trun(auto) {\r\n\t\ttry {\r\n\t\t\tif (this.runControls) {\r\n\t\t\t\tthis.running = auto;\r\n\t\t\t\tif (!this.running)\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.props.input === null)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tthis.setState({ error: null });\r\n\t\t\tthis.asyncSolve(this.props.input);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tthis.setState({ error: e });\r\n\t\t}\r\n\t}\r\n\r\n\tsolution = p => {\r\n\t\tif (!this.state.solution) return false;\r\n\t\tlet i = 0;\r\n\t\treturn this.state.solution.toString().split(\"\\n\").map(t => <p key={i++}>{t}</p>);\r\n\t}\r\n\r\n\trender() {\r\n\t\ttry {\r\n\t\t\treturn <div className=\"solver\">\r\n\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t{this.props.header}\r\n\t\t\t\t\t{this.runControls && <input type=\"button\" value=\"Solve\" onClick={e => this.run(true)} />}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"result\">\r\n\t\t\t\t\t{this.customRender ? this.customRender() :\r\n\t\t\t\t\t\t(this.state.error ? <div>Error: {this.state.error.toString()}</div> :\r\n\t\t\t\t\t\t\t<this.solution />)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>;\r\n\t\t} catch (e) {\r\n\t\t\treturn <div>Error: {e.toString()}</div>;\r\n\t\t}\r\n\t}\r\n}\r\n","import Solver from './Solver';\r\n\r\nexport class S1a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet r = input && input.split(\"\\n\").filter(s => s !== \"\").map(s => Math.floor(parseInt(s) / 3) - 2).reduce((t, n) => t + n);\r\n\t\tthis.setState({ solution: r });\r\n\t}\r\n}\r\n\r\nexport class S1b extends Solver {\r\n\tfuel(x) {\r\n\t\tlet a = Math.floor(x / 3) - 2;;\r\n\t\tx = 0;\r\n\t\twhile (a > 0) {\r\n\t\t\tx += a;\r\n\t\t\ta = Math.floor(a / 3) - 2;\r\n\t\t}\r\n\t\treturn x;\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet r = input && input.split(\"\\n\").filter(s => s !== \"\").map(s => this.fuel(parseInt(s))).reduce((t, n) => t + n);\r\n\t\tthis.setState({ solution: r });\r\n\t}\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nfunction calc(input, noun, verb) {\r\n\tif (input === null) return;\r\n\tlet mem = input.split(\",\").map(s => parseInt(s));\r\n\tlet ip = 0;\r\n\tif (noun)\r\n\t\tmem[1] = noun;\r\n\tif (verb)\r\n\t\tmem[2] = verb;\r\n\twhile (mem[ip] !== 99) {\r\n\t\tlet a = mem[ip + 1];\r\n\t\tlet b = mem[ip + 2];\r\n\t\tlet c = mem[ip + 3];\r\n\t\ta = mem[a];\r\n\t\tb = mem[b];\r\n\t\tif (mem[ip] === 1) {\r\n\t\t\tmem[c] = a + b;\r\n\t\t} else if (mem[ip] === 2) {\r\n\t\t\tmem[c] = a * b;\r\n\t\t}\r\n\t\tip += 4;\r\n\t}\r\n\treturn mem;\r\n}\r\n\r\nexport class S2a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet res = calc(input, 12, 2);\r\n\t\tthis.setState({ solution: res && res.reduce((t, n) => t + \",\\n\" + n) });\r\n\t}\r\n}\r\n\r\nexport class S2b extends Solver {\r\n\tsolve(input) {\r\n\t\tlet answer = 0;\r\n\t\tfor (var noun = 0; noun < 100; noun++) {\r\n\t\t\tfor (var verb = 0; verb < 100; verb++) {\r\n\t\t\t\tlet mem = calc(input, noun, verb);\r\n\t\t\t\tif (mem[0] === 19690720) {\r\n\t\t\t\t\tanswer = 100 * noun + verb;\r\n\t\t\t\t\tthis.setState({ solution: `Answer: ${answer}\\n` + mem.reduce((t, n) => t + \",\\n\" + n) });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Coordinate {\r\n\tconstructor(x, y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tdistance() {\r\n\t\treturn Math.abs(this.x) + Math.abs(this.y);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `{ x: ${this.x}, y: ${this.y}}`;\r\n\t}\r\n}\r\n\r\nclass Envelope {\r\n\tconstructor(u, d, l, r) {\r\n\t\tthis.u = u;\r\n\t\tthis.d = d;\r\n\t\tthis.l = l;\r\n\t\tthis.r = r;\r\n\t}\r\n\r\n\tunion(other) {\r\n\t\treturn new Envelope(Math.max(this.u, other.u), Math.min(this.d, other.d), Math.min(this.l, other.l), Math.max(this.r, other.r));\r\n\t}\r\n}\r\n\r\nclass Grid {\r\n\tg = [];\r\n\r\n\tconstructor(cutoff) {\r\n\t\tthis.cutoff = cutoff;\r\n\t}\r\n\r\n\tget(x, y) {\r\n\t\tif (!this.g[x]) this.g[x] = [];\r\n\t\treturn this.g[x][y];\r\n\t}\r\n\r\n\tset(x, y, val) {\r\n\t\tif (!this.g[x]) this.g[x] = [];\r\n\t\tthis.g[x][y] = val;\r\n\t}\r\n}\r\n\r\nclass Wire {\r\n\tinstructions = [];\r\n\tcoordinates = [new Coordinate(0, 0)];\r\n\tbounds = new Envelope(0, 0, 0, 0);\r\n\tf = [];\r\n\r\n\tconstructor(input) {\r\n\t\tthis.f[\"U\"] = new Coordinate(0, 1);\r\n\t\tthis.f[\"D\"] = new Coordinate(0, -1);\r\n\t\tthis.f[\"L\"] = new Coordinate(-1, 0);\r\n\t\tthis.f[\"R\"] = new Coordinate(1, 0);\r\n\t\tthis.calculateCoordinates(input.split(\",\"));\r\n\t\tthis.calculateBounds();\r\n\t}\r\n\r\n\tcalculateCoordinates(instructions) {\r\n\t\tthis.instructions = instructions;\r\n\t\tfor (var i = 0; i < instructions.length; i++) {\r\n\t\t\tlet x = instructions[i];\r\n\t\t\tlet v = this.f[x[0]];\r\n\t\t\tlet d = parseInt(x.substring(1));\r\n\t\t\tlet f = this.coordinates[i];\r\n\t\t\tlet t = new Coordinate(f.x + v.x * d, f.y + v.y * d);\r\n\t\t\t/*\r\n\t\t\twhile (d > 0) {\r\n\t\t\t\tt.x += v.x;\r\n\t\t\t\tt.y += v.y;\r\n\t\t\t\td--;\r\n\t\t\t\tthis.grid.set(t.x, t.y, 1);\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tthis.coordinates[i + 1] = t;\r\n\t\t}\r\n\t}\r\n\r\n\tmarkGrid(grid) {\r\n\t\tgrid.set(0, 0, 1);\r\n\t\tfor (var i = 0; i < this.instructions.length; i++) {\r\n\t\t\tlet x = this.instructions[i];\r\n\t\t\tlet v = this.f[x[0]];\r\n\t\t\tlet d = parseInt(x.substring(1));\r\n\t\t\tlet f = this.coordinates[i];\r\n\t\t\tlet t = new Coordinate(f.x, f.y);\r\n\t\t\twhile (d > 0) {\r\n\t\t\t\tt.x += v.x;\r\n\t\t\t\tt.y += v.y;\r\n\t\t\t\td--;\r\n\t\t\t\tgrid.set(t.x, t.y, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfindIntersections(grid) {\r\n\t\tlet res = [];\r\n\t\tfor (var i = 0; i < this.instructions.length; i++) {\r\n\t\t\tlet x = this.instructions[i];\r\n\t\t\tlet v = this.f[x[0]];\r\n\t\t\tlet d = parseInt(x.substring(1));\r\n\t\t\tlet f = this.coordinates[i];\r\n\t\t\tlet t = new Coordinate(f.x, f.y);\r\n\t\t\twhile (d > 0) {\r\n\t\t\t\tt.x += v.x;\r\n\t\t\t\tt.y += v.y;\r\n\t\t\t\td--;\r\n\t\t\t\tif (grid.get(t.x, t.y) !== undefined) res.push(new Coordinate(t.x, t.y));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n\tdistAlong(coord) {\r\n\t\tlet dist = 0;\r\n\t\tfor (var i = 0; i < this.instructions.length; i++) {\r\n\t\t\tlet x = this.instructions[i];\r\n\t\t\tlet v = this.f[x[0]];\r\n\t\t\tlet d = parseInt(x.substring(1));\r\n\t\t\tlet f = this.coordinates[i];\r\n\t\t\tlet t = new Coordinate(f.x, f.y);\r\n\t\t\twhile (d > 0) {\r\n\t\t\t\tt.x += v.x;\r\n\t\t\t\tt.y += v.y;\r\n\t\t\t\td--;\r\n\t\t\t\tdist++;\r\n\t\t\t\tif (t.x === coord.x && t.y === coord.y) {\r\n\t\t\t\t\treturn dist;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dist;\r\n\t}\r\n\r\n\tcalculateBounds() {\r\n\t\tthis.coordinates.forEach(c => {\r\n\t\t\tif (c.x > this.bounds.r) this.bounds.r = c.x;\r\n\t\t\tif (c.x < this.bounds.l) this.bounds.l = c.x;\r\n\t\t\tif (c.y > this.bounds.u) this.bounds.u = c.y;\r\n\t\t\tif (c.y < this.bounds.d) this.bounds.d = c.y;\r\n\t\t});\r\n\t}\r\n\r\n\tdraw(ctx, scaling, style) {\r\n\t\tctx.strokeStyle = style;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(250, 250);\r\n\t\tfor (var i = 1; i < this.coordinates.length; i++) {\r\n\t\t\tlet x = 250 + Math.round(250 * this.coordinates[i].x / scaling);\r\n\t\t\tlet y = 250 - Math.round(250 * this.coordinates[i].y / scaling);\r\n\t\t\tctx.lineTo(x, y);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `Wire:\\n#coordinates: ${this.coordinates.length}\\nbounds: [ Up:${this.bounds.u}, Down:${this.bounds.d}, Left:${this.bounds.l}, Right:${this.bounds.r}]`;\r\n\t}\r\n}\r\n\r\nexport class S3a extends Solver {\r\n\tstate = {}\r\n\r\n\tsolve(input) {\r\n\t\tlet grid = new Grid();\r\n\t\tlet wires = input.split(\"\\n\");\r\n\t\tlet wireA = new Wire(wires[0], grid);\r\n\t\tlet wireB = new Wire(wires[1]);\r\n\t\twireA.markGrid(grid);\r\n\t\tlet intersections = wireB.findIntersections(grid);\r\n\t\tlet distance = 0;\r\n\t\tlet distCoord = 0;\r\n\t\tintersections.forEach(i => {\r\n\t\t\tif (distance === 0 || i.distance() < distance) {\r\n\t\t\t\tdistance = i.distance();\r\n\t\t\t\tdistCoord = i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet delay = 0;\r\n\t\tlet delCoord;\r\n\t\tintersections.forEach(i => {\r\n\t\t\tlet d = wireA.distAlong(i) + wireB.distAlong(i);\r\n\t\t\tif (delay === 0 || d < delay) {\r\n\t\t\t\tdelay = d;\r\n\t\t\t\tdelCoord = i;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet bounds = wireA.bounds.union(wireB.bounds);\r\n\t\tlet scaling = 100 * (Math.floor(Math.max(bounds.u, -bounds.d, -bounds.l, bounds.r) / 100) + 1);\r\n\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, 500, 500);\r\n\t\twireA.draw(ctx, scaling, \"#00FF00\");\r\n\t\twireB.draw(ctx, scaling, \"#0000FF\");\r\n\t\tthis.drawCircle(ctx, distCoord, 5, scaling, \"#FF0000\", 3);\r\n\t\tthis.drawCircle(ctx, delCoord, 5, scaling, \"#FF0000\", 3);\r\n\t\tthis.drawOrigin(ctx, 20, scaling, \"#3F3F3F\");\r\n\r\n\t\tthis.setState({ wireA: wireA, wireB: wireB, intersections: intersections, distance: distance, distCoord: distCoord, delay: delay, delCoord: delCoord, scaling: scaling });\r\n\t}\r\n\r\n\tdrawOrigin(ctx, size, scaling, style) {\r\n\t\tctx.strokeStyle = style;\r\n\t\tctx.lineWidth = 1;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(250 - size, 250);\r\n\t\tctx.lineTo(250 + size, 250);\r\n\t\tctx.stroke();\r\n\t\tctx.moveTo(250, 250 - size);\r\n\t\tctx.lineTo(250, 250 + size);\r\n\t\tctx.stroke();\r\n\t\tthis.drawCircle(ctx, new Coordinate(0, 0), size * 0.75, scaling, style, 1);\r\n\t}\r\n\r\n\tdrawCircle(ctx, coord, radius, scaling, style, lineWidth) {\r\n\t\tlet x = 250 + Math.round(250 * coord.x / scaling);\r\n\t\tlet y = 250 - Math.round(250 * coord.y / scaling);\r\n\t\tctx.strokeStyle = style;\r\n\t\tctx.lineWidth = lineWidth;\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(x, y, radius, 0, 2 * Math.PI);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet bounds = { u: 0, d: 0, l: 0, r: 0 };\r\n\t\tif (this.state.wireA && this.state.wireB) {\r\n\t\t\tbounds = this.state.wireA.bounds.union(this.state.wireB.bounds);\r\n\t\t}\r\n\r\n\t\treturn <div>\r\n\t\t\t<canvas id=\"solution\" ref=\"canvas\" width=\"500\" height=\"500\" />\r\n\t\t\t<p>Wire A: {this.state.wireA && this.state.wireA.coordinates.length} coordinates</p>\r\n\t\t\t<p>Wire B: {this.state.wireA && this.state.wireA.coordinates.length} coordinates</p>\r\n\t\t\t<p>Bounds: [ Up: {bounds.u}, Down: {bounds.d}, Left: {bounds.l}, Right: {bounds.r}]</p>\r\n\t\t\t<p>{this.state.intersections && this.state.intersections.length} intersections</p>\r\n\t\t\t<p>Distance to closest intersection: {this.state.distance} {this.state.distCoord && `(${this.state.distCoord.x},${this.state.distCoord.y})`}</p>\r\n\t\t\t<p>Delay to closest intersection: {this.state.delay} {this.state.distCoord && `(${this.state.delCoord.x},${this.state.delCoord.y})`}</p>\r\n\t\t\t<p>Scaling: {this.state.scaling}</p>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S3b extends Solver {\r\n\tstatic hide = true;\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Password {\r\n\tconstructor(string) {\r\n\t\tthis.digits = string.split(\"\").map(c => parseInt(c));\r\n\t}\r\n\r\n\tequal(b) {\r\n\t\tfor (var i = 0; i < this.digits.length; i++) if (this.digits[i] !== b.digits[i]) return false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tlesser(b) {\r\n\t\tfor (var i = 0; i < this.digits.length; i++) {\r\n\t\t\tif (this.digits[i] < b.digits[i]) return true;\r\n\t\t\tif (this.digits[i] > b.digits[i]) return false;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tgreater(b) {\r\n\t\tfor (var i = 0; i < this.digits.length; i++) {\r\n\t\t\tif (this.digits[i] < b.digits[i]) return false;\r\n\t\t\tif (this.digits[i] > b.digits[i]) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tinc() {\r\n\t\tlet i = this.digits.length;\r\n\t\twhile (i > 0) {\r\n\t\t\ti--;\r\n\t\t\tif (this.digits[i] < 9) {\r\n\t\t\t\tthis.digits[i]++;\r\n\t\t\t\ti++;\r\n\t\t\t\twhile (i < this.digits.length) {\r\n\t\t\t\t\tthis.digits[i] = this.digits[i - 1];\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgood() {\r\n\t\tlet res = false;\r\n\t\tfor (var i = 0; i < this.digits.length - 1; i++) {\r\n\t\t\tif (this.digits[i + 1] < this.digits[i]) return false;\r\n\t\t\tif (this.digits[i + 1] === this.digits[i]) res = true;\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n\tgood2() {\r\n\t\tlet count = 1;\r\n\t\tfor (var i = 0; i < this.digits.length - 1; i++) {\r\n\t\t\tif (this.digits[i + 1] < this.digits[i]) return false;\r\n\t\t}\r\n\t\tfor (var j = 1; j < this.digits.length; j++) {\r\n\t\t\tif (this.digits[j] === this.digits[j - 1]) count++;\r\n\t\t\telse if (count === 2) return true;\r\n\t\t\telse count = 1;\r\n\t\t}\r\n\t\treturn count === 2;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn this.digits.join();\r\n\t}\r\n}\r\n\r\nexport class S4a extends Solver {\r\n\t// Bonus solution\r\n\tsolve2(input) {\r\n\t\tlet cnt = 0, to = parseInt(input.split(\"-\")[1]);\r\n\t\tfor (var p = parseInt(input.split(\"-\")[0]); p <= to; p++) {\r\n\t\t\tlet d = p.toString().split(\"\").map(c => parseInt(c));\r\n\t\t\tif (!(d[0] > d[1] || d[1] > d[2] || d[2] > d[3] || d[3] > d[4] || d[4] > d[5])\r\n\t\t\t\t&& (d[0] === d[1] || d[1] === d[2] || d[2] === d[3] || d[3] === d[4] || d[4] === d[5]))\r\n\t\t\t\tcnt++;\r\n\t\t}\r\n\t\tconsole.log(`#passwords: ${cnt}`);\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\t// this.solve2(input);\r\n\t\tlet range = input.split(\"-\");\r\n\t\tlet from = new Password(range[0]);\r\n\t\tlet i = new Password(range[0]);\r\n\t\tlet to = new Password(range[1]);\r\n\t\tlet count = 0;\r\n\t\tlet count2 = 0;\r\n\r\n\t\twhile (!i.greater(to)) {\r\n\t\t\tif (i.good()) count++;\r\n\t\t\tif (i.good2()) count2++;\r\n\t\t\ti.inc();\r\n\t\t}\r\n\r\n\t\tconsole.log(new Password(\"112233\").good2());\r\n\t\tconsole.log(new Password(\"123444\").good2());\r\n\t\tconsole.log(new Password(\"111122\").good2());\r\n\r\n\t\tthis.setState({ solution: `From: ${from.toString()}\\nTo: ${to.toString()}\\n#passwords(1): ${count}\\n#passwords(2): ${count2}` });\r\n\t}\r\n}\r\n\r\nexport class S4b extends Solver {\r\n\tstatic hide = true;\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nfunction fill(num, positions) {\r\n\tif (num === undefined) return \"\";\r\n\tif (num < 0) return \"-\" + fill(-num, positions - 1);\r\n\tlet res = num.toString();\r\n\twhile (res.length < positions) res = \"0\" + res;\r\n\treturn res;\r\n}\r\n\r\nfunction dass(mem, ip, positions) {\r\n\tlet i = ip;\r\n\tlet m = [];\r\n\twhile (positions-- > 0) { m.push(fill(mem[i++], 5)); }\r\n\treturn `${fill(ip, 4)}: {${m.join(\", \")}}`;\r\n}\r\n\r\nlet stdin = [];\r\nlet stdout = [];\r\n\r\nclass nop {\r\n\tp = [];\r\n\tdebug(mem, ip) { return `${dass(mem, ip, 4)} NOP`; }\r\n\top(mem, ip) { return ip + 1; }\r\n}\r\n\r\nclass add {\r\n\tp = [true, true, false];\r\n\tdebug(mem, ip, a, b, c) { return `${dass(mem, ip, 4)} mem[${c}] = ${a}+${b} (${a + b})`; }\r\n\top(mem, ip, a, b, c) { mem[c] = a + b; return ip + 4; }\r\n}\r\n\r\nclass mul {\r\n\tp = [true, true, false];\r\n\tdebug(mem, ip, a, b, c) { return `${dass(mem, ip, 4)} mem[${c}] = ${a}*${b} (${a * b})`; }\r\n\top(mem, ip, a, b, c) { mem[c] = a * b; return ip + 4; }\r\n}\r\n\r\nclass input {\r\n\tp = [false];\r\n\tdebug(mem, ip, a) { return `${dass(mem, ip, 2)} input mem[${a}] (${stdin[0]})`; }\r\n\top(mem, ip, a) { mem[a] = stdin.shift(); return ip + 2; }\r\n}\r\n\r\nclass output {\r\n\tp = [true];\r\n\tdebug(mem, ip, a) { return `${dass(mem, ip, 2)} output ${a}`; }\r\n\top(mem, ip, a) { stdout.push(a); return ip + 2; }\r\n}\r\n\r\nclass jmt {\r\n\tp = [true, true];\r\n\tdebug(mem, ip, a, b) { return `${dass(mem, ip, 3)} jmt ${a}, ${b}`; }\r\n\top(mem, ip, a, b) { return a ? b : ip + 3; }\r\n}\r\n\r\nclass jmf {\r\n\tp = [true, true];\r\n\tdebug(mem, ip, a, b) { return `${dass(mem, ip, 3)} jmf ${a}, ${b}`; }\r\n\top(mem, ip, a, b) { return a ? ip + 3 : b; }\r\n}\r\n\r\nclass less {\r\n\tp = [true, true, false];\r\n\tdebug(mem, ip, a, b, c) { return `${dass(mem, ip, 4)} less ${a}, ${b}, ${c} (${a < b})`; }\r\n\top(mem, ip, a, b, c) { mem[c] = a < b ? 1 : 0; return ip + 4; }\r\n}\r\n\r\nclass eq {\r\n\tp = [true, true, false];\r\n\tdebug(mem, ip, a, b, c) { return `${dass(mem, ip, 4)} eq ${a}, ${b}, ${c} (${a === b})`; }\r\n\top(mem, ip, a, b, c) { mem[c] = a === b ? 1 : 0; return ip + 4; }\r\n}\r\n\r\nfunction calc(mem, data) {\r\n\tstdin = data;\r\n\tstdout = [];\r\n\tlet disass = [];\r\n\tlet instr = [\r\n\t\tnew nop(),\r\n\t\tnew add(),\r\n\t\tnew mul(),\r\n\t\tnew input(),\r\n\t\tnew output(),\r\n\t\tnew jmt(),\r\n\t\tnew jmf(),\r\n\t\tnew less(),\r\n\t\tnew eq()\r\n\t];\r\n\r\n\tlet ip = 0;\r\n\twhile (mem[ip] !== 99) {\r\n\t\tlet opcode = mem[ip];\r\n\t\tlet op = instr[opcode % 100];\r\n\t\tlet a = mem[ip + 1];\r\n\t\tlet b = mem[ip + 2];\r\n\t\tlet c = mem[ip + 3];\r\n\t\tif (opcode % 1000 < 100 && op.p[0]) a = mem[a];\r\n\t\tif (opcode % 10000 < 1000 && op.p[1]) b = mem[b];\r\n\t\tif (opcode % 100000 < 10000 && op.p[2]) c = mem[c];\r\n\t\tdisass.push(op.debug(mem, ip, a, b, c));\r\n\t\tip = op.op(mem, ip, a, b, c);\r\n\t}\r\n\r\n\treturn { mem: mem, stdout: stdout, disassembly: disass };\r\n}\r\n\r\nexport class S5a extends Solver {\r\n\trunControls = true;\r\n\tstate = { input: 1, disassembly: [], memory: [] }\r\n\r\n\tsolve(input) {\r\n\t\tif (input) {\r\n\t\t\tlet mem = input.split(\",\").map(s => parseInt(s));\r\n\t\t\tlet stdin = [this.state.input];\r\n\t\t\tlet res = calc(mem, stdin);\r\n\t\t\tthis.setState({\r\n\t\t\t\tmemory: res.mem,\r\n\t\t\t\toutput: res.stdout,\r\n\t\t\t\tdisassembly: res.disassembly\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tmemrow = p => {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tmemrows = p => {\r\n\t\tlet i = 0;\r\n\t\tlet rows = [];\r\n\t\twhile (i < p.value.length) {\r\n\t\t\trows.push(<tr key={i}>\r\n\t\t\t\t<td>{fill(i, 3)}:</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t</tr>);\r\n\t\t}\r\n\t\treturn rows;\r\n\t}\r\n\r\n\tmemoryTable = p => {\r\n\t\tif (!p.value) return null;\r\n\t\treturn <div>\r\n\t\t\t<p>Memory: {p.value.length} positions</p>\r\n\t\t\t<table>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<this.memrows value={p.value} />\r\n\t\t\t\t</tbody>\r\n\t\t\t</table></div>;\r\n\t}\r\n\r\n\tresult() {\r\n\t\tlet i = 1;\r\n\t\treturn <div>\r\n\t\t\t<div>{this.state.output && \"Output: \" + this.state.output.join(\", \")}</div>\r\n\t\t\t<div>Debug:<br />{this.state.disassembly && this.state.disassembly.map(d => <span key={i++}>{d}<br /></span>)}</div>\r\n\t\t\t<this.memoryTable value={this.state.memory} />\r\n\t\t</div>;\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<div>Input: <input value={this.state.input} onChange={e => this.setState({ input: parseInt(e.target.value) || 0 })} /></div>\r\n\t\t\t{this.state.error ? <div>Error: {this.state.error.toString()}</div> : this.result()}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S5b extends S5a {\r\n\tstate = { input: 5, disassembly: [], memory: [] }\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Orbit {\r\n\tconstructor(id, orbit) {\r\n\t\tthis.id = id;\r\n\t\tthis.orbit = orbit;\r\n\t\tthis.sat = [];\r\n\t}\r\n\r\n\tsetDistance(d) {\r\n\t\tthis.dist = d;\r\n\t\tthis.sat.forEach(s => s.setDistance(d + 1));\r\n\t}\r\n\r\n\tsetWidth() {\r\n\t\tthis.sat.forEach(s => s.setWidth());\r\n\t\tif (this.sat.length === 0) this.width = 1;\r\n\t\telse this.width = this.sat.map(s => s.width).reduce((t, n) => t + n);\r\n\t}\r\n\r\n\tsetY(start) {\r\n\t\tthis.y = start + Math.floor(this.width / 2);\r\n\t\tthis.sat.forEach(s => {\r\n\t\t\ts.setY(start);\r\n\t\t\tstart += s.width;\r\n\t\t});\r\n\t}\r\n\r\n\tmaxDistance() {\r\n\t\tvar d = this.dist;\r\n\t\tthis.sat.forEach(s => {\r\n\t\t\tlet sd = s.maxDistance();\r\n\t\t\tif (sd > d) d = sd;\r\n\t\t});\r\n\t\treturn d;\r\n\t}\r\n\r\n\tnumberAt(distance) {\r\n\t\tif (distance === this.dist) return 1;\r\n\t\tif (this.sat.length === 0) return 0;\r\n\t\treturn this.sat.map(s => s.numberAt(distance)).reduce((t, n) => t + n);\r\n\t}\r\n\r\n\tdraw(ctx, offsetX, offsetY, scaleX, scaleY, style) {\r\n\t\tctx.strokeStyle = style;\r\n\t\tctx.lineWidth = 1;\r\n\t\tif (this.up) {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(this.up.dist * scaleX + offsetX, this.up.y * scaleY + offsetY);\r\n\t\t\tctx.lineTo(this.dist * scaleX + offsetX, this.y * scaleY + offsetY);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t}\r\n\r\n\tdrawTree(ctx, offsetX, offsetY, scaleX, scaleY, style) {\r\n\t\tthis.draw(ctx, offsetX, offsetY, scaleX, scaleY, style);\r\n\t\tthis.sat.forEach(s => s.drawTree(ctx, offsetX, offsetY, scaleX, scaleY, style));\r\n\t}\r\n}\r\n\r\nexport class S6a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet orbits = input.split(\"\\n\").map(o => o.split(\")\")).map(o => new Orbit(o[1], o[0]));\r\n\t\torbits.push(new Orbit(\"COM\", null));\r\n\t\tlet dict = {};\r\n\t\torbits.forEach(o => { dict[o.id] = o; });\r\n\t\tlet count = 0;\r\n\t\tfor (var k in dict) {\r\n\t\t\tlet o = dict[k];\r\n\t\t\tif (o.orbit) {\r\n\t\t\t\to.up = dict[o.orbit];\r\n\t\t\t\to.up.sat.push(o);\r\n\t\t\t}\r\n\t\t\twhile (o && o.orbit !== null) {\r\n\t\t\t\to = dict[o.orbit];\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet root = dict[\"COM\"];\r\n\t\troot.setDistance(0);\r\n\t\tlet maxDist = root.maxDistance();\r\n\t\tlet density = [];\r\n\t\tfor (let i = 0; i <= maxDist; i++) {\r\n\t\t\tdensity.push(root.numberAt(i));\r\n\t\t}\r\n\t\troot.setWidth();\r\n\t\troot.setY(0);\r\n\t\tconsole.log(root);\r\n\r\n\t\tlet scaleY = 560 / maxDist;\r\n\t\tlet scaleX = 500 / root.width;\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, 600, 600);\r\n\t\troot.drawTree(ctx, 20, 50, scaleX, scaleY, \"#00FF00\");\r\n\r\n\t\tlet you = dict[\"YOU\"];\r\n\t\tlet san = dict[\"SAN\"];\r\n\t\tyou.draw(ctx, 20, 50, scaleX, scaleY, \"#FF0000\");\r\n\t\tsan.draw(ctx, 20, 50, scaleX, scaleY, \"#FF0000\");\r\n\t\tlet yPath = [];\r\n\t\tlet sPath = [];\r\n\t\twhile (you.orbit !== null) { yPath.unshift(you.up); you = you.up; }\r\n\t\twhile (san.orbit !== null) { sPath.unshift(san.up); san = san.up; }\r\n\t\tlet lcd = null;\r\n\t\twhile (yPath[0].id === sPath[0].id) {\r\n\t\t\tlcd = yPath.shift();\r\n\t\t\tsPath.shift();\r\n\t\t}\r\n\t\tyPath.forEach(p => { p.draw(ctx, 20, 50, scaleX, scaleY, \"#FF0000\"); });\r\n\t\tsPath.forEach(p => { p.draw(ctx, 20, 50, scaleX, scaleY, \"#FF0000\"); });\r\n\t\tyPath.reverse();\r\n\t\tyPath.push(lcd);\r\n\t\tlet path = yPath.concat(sPath);\r\n\t\tthis.setState({\r\n\t\t\torbits: orbits,\r\n\t\t\tcount: count,\r\n\t\t\tpath: path\r\n\t\t});\r\n\t}\r\n\r\n\tcustomRender = p => {\r\n\t\treturn <div>\r\n\t\t\t<p>Orbits: {this.state.orbits && this.state.orbits.length}</p>\r\n\t\t\t<p>Count: {this.state.count}</p>\r\n\t\t\t<p>Hops from you to santa: {this.state.path && this.state.path.length - 1}</p>\r\n\t\t\t<canvas id=\"solution\" ref=\"canvas\" width=\"600\" height=\"600\" />\r\n\t\t\t{false && this.state.path && <p>{this.state.path.map(s => <span key={s}>{s}<br /></span>)}</p>}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S6b extends Solver {\r\n\tstatic hide = true;\r\n}","export class Computer {\r\n\tfill(num, positions) {\r\n\t\tif (num === undefined) return \"\";\r\n\t\tif (num < 0) return \"-\" + this.fill(-num, positions - 1);\r\n\t\tlet res = num.toString();\r\n\t\twhile (res.length < positions) res = \"0\" + res;\r\n\t\treturn res;\r\n\t}\r\n\r\n\tdass(ip, positions) {\r\n\t\tlet i = ip;\r\n\t\tlet m = [];\r\n\t\twhile (positions-- > 0) { m.push(this.fill(this.mem[i++], 5)); }\r\n\t\treturn `${this.fill(ip, 4)}: {${m.join(\", \")}}`;\r\n\t}\r\n\r\n\tnop = {\r\n\t\tp: [],\r\n\t\tdebug: (ip) => { return `${this.dass(ip, 4)} NOP`; },\r\n\t\top: (ip) => { return ip + 1; }\r\n\t}\r\n\r\n\tadd = {\r\n\t\tp: [true, true, false],\r\n\t\tdebug: (ip, a, b, c) => { return `${this.dass(ip, 4)} mem[${c}] = ${a}+${b} (${a + b})`; },\r\n\t\top: (ip, a, b, c) => { this.mem[c] = a + b; return ip + 4; }\r\n\t}\r\n\r\n\tmul = {\r\n\t\tp: [true, true, false],\r\n\t\tdebug: (ip, a, b, c) => { return `${this.dass(ip, 4)} mem[${c}] = ${a}*${b} (${a * b})`; },\r\n\t\top: (ip, a, b, c) => { this.mem[c] = a * b; return ip + 4; }\r\n\t}\r\n\r\n\tinput = {\r\n\t\tp: [false],\r\n\t\tdebug: (ip, a) => { return `${this.dass(ip, 2)} input mem[${a}] (${this.stdin[0]})`; },\r\n\t\top: (ip, a) => { this.mem[a] = this.stdin.shift(); return ip + 2; }\r\n\t}\r\n\r\n\toutput = {\r\n\t\tp: [true],\r\n\t\tdebug: (ip, a) => { return `${this.dass(ip, 2)} output ${a}`; },\r\n\t\top: (ip, a) => { this.stdout.push(a); return ip + 2; }\r\n\t}\r\n\r\n\tjmt = {\r\n\t\tp: [true, true],\r\n\t\tdebug: (ip, a, b) => { return `${this.dass(ip, 3)} jmt ${a}, ${b}`; },\r\n\t\top: (ip, a, b) => { return a ? b : ip + 3; }\r\n\t}\r\n\r\n\tjmf = {\r\n\t\tp: [true, true],\r\n\t\tdebug: (ip, a, b) => { return `${this.dass(ip, 3)} jmf ${a}, ${b}`; },\r\n\t\top: (ip, a, b) => { return a ? ip + 3 : b; }\r\n\t}\r\n\r\n\tless = {\r\n\t\tp: [true, true, false],\r\n\t\tdebug: (ip, a, b, c) => { return `${this.dass(ip, 4)} less ${a}, ${b}, ${c} (${a < b})`; },\r\n\t\top: (ip, a, b, c) => { this.mem[c] = a < b ? 1 : 0; return ip + 4; }\r\n\t}\r\n\r\n\teq = {\r\n\t\tp: [true, true, false],\r\n\t\tdebug: (ip, a, b, c) => { return `${this.dass(ip, 4)} eq ${a}, ${b}, ${c} (${a === b})`; },\r\n\t\top: (ip, a, b, c) => { this.mem[c] = a === b ? 1 : 0; return ip + 4; }\r\n\t}\r\n\r\n\trelative_base = 0;\r\n\r\n\trbo = {\r\n\t\tp: [true],\r\n\t\tdebug: (ip, a) => { return `${this.dass(ip, 2)} rbo ${a}`; },\r\n\t\top: (ip, a) => { this.relative_base += a; return ip + 2; }\r\n\t}\r\n\r\n\tinstr = [\r\n\t\tthis.nop, // 0\r\n\t\tthis.add, // 1\r\n\t\tthis.mul, // 2\r\n\t\tthis.input, // 3\r\n\t\tthis.output, // 4\r\n\t\tthis.jmt,  // 5\r\n\t\tthis.jmf, // 6\r\n\t\tthis.less, // 7\r\n\t\tthis.eq, // 8\r\n\t\tthis.rbo // 9\r\n\t];\r\n\r\n\tconstructor() {\r\n\t\tthis.mem = [];\r\n\t\tthis.stdin = [];\r\n\t\tthis.stdout = [];\r\n\t\tthis.disass = [];\r\n\t\tthis.ip = 0;\r\n\t}\r\n\r\n\tinit(program, input, output) {\r\n\t\tthis.mem = program.split(\",\").map(c => parseInt(c));\r\n\t\tif (input) this.stdin = input;\r\n\t\tif (output) this.stdout = output;\r\n\t\tthis.ip = 0;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tcopy() {\r\n\t\tlet n = new Computer();\r\n\t\tn.mem = this.mem.slice();\r\n\t\tn.ip = this.ip;\r\n\t\treturn n;\r\n\t}\r\n\r\n\trun() {\r\n\t\twhile (this.mem[this.ip] !== 99) {\r\n\t\t\tlet opcode = this.mem[this.ip];\r\n\t\t\tif (opcode === 3 && this.stdin.length === 0) return 1;\r\n\t\t\tlet op = this.instr[opcode % 100];\r\n\t\t\tlet a = this.mem[this.ip + 1];\r\n\t\t\tlet b = this.mem[this.ip + 2];\r\n\t\t\tlet c = this.mem[this.ip + 3];\r\n\t\t\tif (opcode % 1000 < 100 && op.p[0]) a = this.mem[a];\r\n\t\t\tif (opcode % 1000 > 199) { a += this.relative_base; if (op.p[0]) { a = this.mem[a]; } }\r\n\t\t\tif (opcode % 10000 < 1000 && op.p[1]) b = this.mem[b];\r\n\t\t\tif (opcode % 10000 > 1999) { b += this.relative_base; if (op.p[1]) { b = this.mem[b]; } }\r\n\t\t\tif (opcode % 100000 < 10000 && op.p[2]) c = this.mem[c];\r\n\t\t\tif (opcode % 100000 > 19999) { c += this.relative_base; if (op.p[2]) { c = this.mem[c]; } }\r\n\t\t\t// console.log(op.debug(ip, a, b, c));\r\n\t\t\t// this.disass.push(op.debug(this.ip, a, b, c));\r\n\t\t\tthis.ip = op.op(this.ip, a, b, c);\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n}\r\n","// import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\n\r\nfunction combine(arr, f) {\r\n\tarr.forEach(p1 => {\r\n\t\tarr.forEach(p2 => {\r\n\t\t\tif (p2 !== p1) arr.forEach(p3 => {\r\n\t\t\t\tif (p3 !== p2 && p3 !== p1) arr.forEach(p4 => {\r\n\t\t\t\t\tif (p4 !== p3 && p4 !== p2 && p4 !== p1) arr.forEach(p5 => {\r\n\t\t\t\t\t\tif (p5 !== p4 && p5 !== p3 && p5 !== p2 && p5 !== p1) f([p1, p2, p3, p4, p5]);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport class S7a extends Solver {\r\n\tcalc(input, phase) {\r\n\t\tlet i = 0;\r\n\t\tfor (var p = 0; p < 5; p++) {\r\n\t\t\tlet c = new Computer().init(input, [phase[p], i], []);\r\n\t\t\tc.run();\r\n\t\t\ti = c.stdout[0];\r\n\t\t}\r\n\t\treturn i;\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet res = 0;\r\n\t\tlet phase = [0, 1, 2, 3, 4];\r\n\t\tcombine(phase, x => {\r\n\t\t\tlet p = this.calc(input, x);\r\n\t\t\tif (p > res) res = p;\r\n\t\t});\r\n\r\n\t\tthis.setState({ solution: res });\r\n\t}\r\n}\r\n\r\nexport class S7b extends Solver {\r\n\tcalc(program, phase) {\r\n\t\tlet p1 = [phase[0], 0],\r\n\t\t\tp2 = [phase[1]],\r\n\t\t\tp3 = [phase[2]],\r\n\t\t\tp4 = [phase[3]],\r\n\t\t\tp5 = [phase[4]];\r\n\t\tlet amps = [\r\n\t\t\tnew Computer().init(program, p1, p2),\r\n\t\t\tnew Computer().init(program, p2, p3),\r\n\t\t\tnew Computer().init(program, p3, p4),\r\n\t\t\tnew Computer().init(program, p4, p5),\r\n\t\t\tnew Computer().init(program, p5, p1),\r\n\t\t];\r\n\t\twhile (amps.length > 0) {\r\n\t\t\tlet amp = amps.shift();\r\n\t\t\tif (amp.run() === 1) amps.push(amp);\r\n\t\t}\r\n\t\treturn p1[0];\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet res = 0;\r\n\t\tlet phase = [5, 6, 7, 8, 9];\r\n\t\tcombine(phase, x => {\r\n\t\t\tlet p = this.calc(input, x);\r\n\t\t\tconsole.log(`[${x.join()}] => ${p}`);\r\n\t\t\tif (p > res) res = p;\r\n\t\t});\r\n\t\tthis.setState({ solution: res });\r\n\t}\r\n}","import './CssImage.css';\r\nimport React from 'react';\r\n\r\nexport class CssImage extends React.Component {\r\n\trender() {\r\n\t\tlet { value, colors } = this.props;\r\n\t\tif (!value || !colors) return <div className=\"css-image\"></div>;\r\n\t\tconsole.log(\"rendering\");\r\n\t\tconsole.log(value);\r\n\t\tconsole.log(colors);\r\n\r\n\t\tlet ri = 0, ci = 0;\r\n\t\tlet rows = value.filter(r => r !== undefined);\r\n\t\tlet maxcol = Math.max(...rows.map(r => r.length));\r\n\t\trows.forEach(r => {\r\n\t\t\tfor (let i = 0; i < maxcol; i++) { r[i] = r[i] === 1 ? 1 : 0 }\r\n\t\t});\r\n\t\treturn <div className=\"css-image\">\r\n\t\t\t{rows.map(r => <div className=\"css-image-row\" key={ri++}>{r.map(c => <div className=\"css-image-pixel\" key={ci++} style={{ backgroundColor: colors[c] }}></div>)}</div>)}\r\n\t\t</div>;\r\n\t}\r\n}","export function drawCircle(ctx, x, y, radius, style, lineWidth) {\r\n\tif (style) ctx.strokeStyle = style;\r\n\tif (lineWidth) ctx.lineWidth = lineWidth;\r\n\tctx.beginPath();\r\n\tctx.arc(x, y, radius, 0, 2 * Math.PI);\r\n\tctx.stroke();\r\n}\r\n\r\nexport function drawFilledCircle(ctx, x, y, radius, style) {\r\n\tif (style) ctx.fillStyle = style;\r\n\tctx.beginPath();\r\n\tctx.arc(x, y, radius, 0, 2 * Math.PI);\r\n\tctx.fill();\r\n}\r\n\r\nexport function drawLine(ctx, x1, y1, x2, y2, style, lineWidth) {\r\n\tif (style) ctx.strokeStyle = style;\r\n\tif (lineWidth) ctx.lineWidth = lineWidth;\r\n\tctx.beginPath();\r\n\tctx.moveTo(x1, y1);\r\n\tctx.lineTo(x2, y2);\r\n\tctx.stroke();\r\n}\r\n\r\nexport function drawFilledRect(ctx, x1, y1, x2, y2, style) {\r\n\tif (style) ctx.fillStyle = style;\r\n\tctx.fillRect(x1, y1, x2 - x1, y2 - y1);\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { CssImage } from '../util';\r\n\r\nexport class S8a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet digits = input.split(\"\").map(c => parseInt(c));\r\n\t\tlet layers = [];\r\n\t\twhile (digits.length > 0) {\r\n\t\t\tlayers.push(digits.splice(0, 150));\r\n\t\t}\r\n\r\n\t\tlet zeroes = 150;\r\n\t\tlet minzerolayer = null;\r\n\t\tlayers.forEach(l => {\r\n\t\t\tlet f = l.filter(x => x === 0);\r\n\t\t\tif (f.length < zeroes) {\r\n\t\t\t\tzeroes = f.length;\r\n\t\t\t\tminzerolayer = l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet checksum = minzerolayer.filter(x => x === 1).length * minzerolayer.filter(y => y === 2).length;\r\n\r\n\t\tlet img = [];\r\n\t\tfor (let i = 0; i < 150; i++) {\r\n\t\t\tlet r = Math.floor(i / 25);\r\n\t\t\tlet c = i % 25;\r\n\t\t\tif (c === 0) {\r\n\t\t\t\timg[r] = [];\r\n\t\t\t\timg[r][24] = 4;\r\n\t\t\t\timg[r].fill(4, 0, 25);\r\n\t\t\t}\r\n\t\t\tfor (let z = 0; z < layers.length; z++) {\r\n\t\t\t\tif (img[r][c] === 4 && layers[z][i] !== 2) {\r\n\t\t\t\t\timg[r][c] = layers[z][i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// this.drawImage(img);\r\n\t\tthis.setState({ checksum: checksum, image: img });\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet i = 0;\r\n\t\treturn <div>\r\n\t\t\t<CssImage value={this.state.image} colors={[\"black\", \"white\"]} />\r\n\t\t\t<p>Checksum: {this.state.checksum}</p>\r\n\t\t\t{this.state.text && <p>Text:<br />\r\n\t\t\t\t{this.state.text.split(\"\\n\").map(t => <span key={i++} style={{ fontFamily: 'Courier, monospace', whiteSpace: 'pre' }}>{t}<br /></span>)}\r\n\t\t\t</p>}\r\n\t\t</div>;\r\n\t}\r\n\r\n\tred = [0, 255];\r\n\tgreen = [0, 255];\r\n\tblue = [0, 255];\r\n\r\n\tdrawImage(image) {\r\n\t\tif (!image) return;\r\n\t\tlet pixel_size = 4;\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tlet img = ctx.createImageData(25 * pixel_size, 6 * pixel_size);\r\n\t\tlet imgPtr = 0;\r\n\t\tfor (var y = 0; y < 6 * pixel_size; y++)\r\n\t\t\tfor (var x = 0; x < 25 * pixel_size; x++) {\r\n\t\t\t\tlet i = Math.floor(y / pixel_size) * 25 + Math.floor(x / pixel_size);\r\n\t\t\t\timg.data[imgPtr++] = this.red[image[i]];\r\n\t\t\t\timg.data[imgPtr++] = this.green[image[i]];\r\n\t\t\t\timg.data[imgPtr++] = this.blue[image[i]];\r\n\t\t\t\timg.data[imgPtr++] = 255;\r\n\t\t\t}\r\n\t\tctx.putImageData(img, 0, 0);\r\n\t}\r\n}\r\n\r\nexport class S8b extends Solver {\r\n\tstatic hide = true;\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\n\r\nexport class S9a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet stdout = [];\r\n\t\tnew Computer().init(input, [1], stdout).run();\r\n\t\tthis.setState({ solution: `Output: [${stdout.join()}]` });\r\n\t}\r\n}\r\n\r\nexport class S9b extends Solver {\r\n\tsolve(input) {\r\n\t\tlet stdout = [];\r\n\t\tnew Computer().init(input, [2], stdout).run();\r\n\t\tthis.setState({ solution: `Output: [${stdout.join()}]` });\r\n\t}\r\n}","import '../util/Blink.css';\r\nimport React from 'react';\r\nimport Solver from './Solver';\r\nimport { drawCircle, drawFilledCircle, drawLine } from '../util';\r\n\r\nexport class S10a extends Solver {\r\n\tscaling = 15;\r\n\tstate = { phase: 0 };\r\n\r\n\tvisible(map, x1, y1, x2, y2) {\r\n\t\tlet dy = y2 - y1, dx = x2 - x1;\r\n\t\tlet d = Math.abs(dy);\r\n\t\tif (d === 0 || (dx !== 0 && Math.abs(dx) < d)) d = Math.abs(dx);\r\n\t\twhile (d > 1) {\r\n\t\t\tif (dy % d === 0 && dx % d === 0) {\r\n\t\t\t\tlet sy = dy / d, sx = dx / d;\r\n\t\t\t\tlet y3 = y2 - sy, x3 = x2 - sx;\r\n\t\t\t\twhile (y3 !== y1 || x3 !== x1) {\r\n\t\t\t\t\tif (map[y3][x3] !== 0) { return false; }\r\n\t\t\t\t\ty3 -= sy;\r\n\t\t\t\t\tx3 -= sx;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\td--;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tcalcVisible(map, x, y) {\r\n\t\tlet lc = 0;\r\n\t\tfor (let y2 = 0; y2 < map.length; y2++) {\r\n\t\t\tfor (let x2 = 0; x2 < map[y2].length; x2++) {\r\n\t\t\t\tif (map[y2][x2] !== 0 && (y2 !== y || x2 !== x) && this.visible(map, x, y, x2, y2)) { lc++; }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn lc;\r\n\t}\r\n\r\n\tcalcAllVisible(map) {\r\n\t\tlet result = {\r\n\t\t\tmax: 0,\r\n\t\t\tcount: 0,\r\n\t\t\tx: -1,\r\n\t\t\ty: -1\r\n\t\t};\r\n\t\tfor (let y = 0; y < map.length; y++) {\r\n\t\t\tfor (let x = 0; x < map[y].length; x++) {\r\n\t\t\t\tif (map[y][x] !== 0) {\r\n\t\t\t\t\tresult.count++;\r\n\t\t\t\t\tmap[y][x] = this.calcVisible(map, x, y);\r\n\t\t\t\t\tif (map[y][x] > result.max) {\r\n\t\t\t\t\t\tresult.max = map[y][x];\r\n\t\t\t\t\t\tresult.x = x;\r\n\t\t\t\t\t\tresult.y = y;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tbearing(x1, y1, x2, y2) {\r\n\t\tlet dx = x2 - x1, dy = y2 - y1;\r\n\t\tlet length = Math.sqrt(dx * dx + dy * dy);\r\n\t\tlet b = 0;\r\n\t\tif (dy !== 0) {\r\n\t\t\tb = (Math.PI / 2) - Math.asin(-dy / length);\r\n\t\t\tif (dx < 0) b = -b;\r\n\t\t} else {\r\n\t\t\tb = (Math.PI / 2) - Math.acos(dx / length);\r\n\t\t}\r\n\t\twhile (b < 0) { b += 2 * Math.PI }\r\n\t\treturn b;\r\n\t}\r\n\r\n\tcalcOrder(map, x, y, previous) {\r\n\t\tlet result = [];\r\n\t\tfor (let y2 = 0; y2 < map.length; y2++) {\r\n\t\t\tfor (let x2 = 0; x2 < map[y].length; x2++) {\r\n\t\t\t\tif (map[y2][x2] !== 0 && (y2 !== y || x2 !== x) && this.visible(map, x, y, x2, y2)) {\r\n\t\t\t\t\tresult.push({ x: x2, y: y2, bearing: this.bearing(x, y, x2, y2) });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tresult = result.sort((a, b) => a.bearing - b.bearing);\r\n\t\tresult.forEach(d => map[d.y][d.x] = 0);\r\n\t\tif (previous) return previous.concat(result);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tconvert(coord) {\r\n\t\treturn (coord + 0.5) * this.scaling;\r\n\t}\r\n\r\n\tdrawAsteroids(ctx) {\r\n\t\tlet { result } = this.state;\r\n\t\tdrawCircle(ctx, this.convert(result.x), this.convert(result.y), 1, \"#000000\");\r\n\t\tthis.state.result.destroyOrder.forEach(d => drawCircle(ctx, this.convert(d.x), this.convert(d.y), 1, \"#000000\"));\r\n\t}\r\n\r\n\tdrawBase(ctx) {\r\n\t\tlet { result } = this.state;\r\n\t\tif (!result) return;\r\n\t\tdrawFilledCircle(ctx, this.convert(result.x), this.convert(result.y), 3, \"#0000FF\");\r\n\t}\r\n\r\n\tshoot(ctx) {\r\n\t\tlet { result } = this.state;\r\n\t\tlet { destroyOrder } = result;\r\n\t\tlet to = destroyOrder[0];\r\n\t\tdrawLine(ctx, this.convert(result.x), this.convert(result.y), this.convert(to.x), this.convert(to.y), \"#FF0000\", 1);\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet map = input.split(\"\\n\").map(l => l.split(\"\").map(c => c === \"#\" ? 1 : 0));\r\n\t\tlet result = this.calcAllVisible(map);\r\n\t\tlet destroy = []\r\n\t\twhile (destroy.length < result.count - 1) { destroy = this.calcOrder(map, result.x, result.y, destroy); }\r\n\t\tresult.destroyOrder = destroy;\r\n\t\tresult.target = result.destroyOrder[199];\r\n\t\tsetTimeout(() => this.updatePhase(), 3000);\r\n\t\tthis.setState({\r\n\t\t\tmap: map,\r\n\t\t\tcount: result.count,\r\n\t\t\tresult: result,\r\n\t\t\tphase: 0,\r\n\t\t\ttext: \"Scanning asteroids\",\r\n\t\t\tblink: true\r\n\t\t});\r\n\t}\r\n\r\n\tupdatePhase() {\r\n\t\ttry {\r\n\t\t\tlet { map, phase, destroyed, result, count } = this.state;\r\n\t\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\t\tctx.clearRect(0, 0, map[0].length * this.scaling, map.length * this.scaling);\r\n\t\t\tif (phase > 0) this.drawBase(ctx);\r\n\t\t\tthis.drawAsteroids(ctx);\r\n\t\t\tswitch (phase) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.setState({ phase: 1, text: \"Asteroids mapped - deploying base\", blink: false });\r\n\t\t\t\t\tsetTimeout(() => this.updatePhase(), 1000)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.setState({ phase: 2, text: \"Base deployed - calculating fire solution\", blink: true });\r\n\t\t\t\t\tsetTimeout(() => this.updatePhase(), 1000)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tif (!destroyed) destroyed = [];\r\n\t\t\t\t\tthis.shoot(ctx);\r\n\t\t\t\t\tlet tgt = result.destroyOrder.shift();\r\n\t\t\t\t\tmap[tgt.y][tgt.x] = 0;\r\n\t\t\t\t\tdestroyed.push(tgt);\r\n\t\t\t\t\tthis.setState({ phase: result.destroyOrder.length > 0 ? 2 : 3, count: count - 1, text: \"Firing!!!\", blink: true, firing: true, destroyed: destroyed });\r\n\t\t\t\t\tsetTimeout(() => this.updatePhase(), 20);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tthis.setState({ phase: 3, text: \"All targets neutralized, sir!\", blink: false, firing: false, destroyed: destroyed });\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} catch { }\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet { map, result, blink, firing, count } = this.state;\r\n\t\tlet i = 1;\r\n\t\treturn <div>\r\n\t\t\t{map && <p>Map: {`${map.length}x${map[0].length}`}</p>}\r\n\t\t\t{result && <p>Asteroids: {`${count}`}</p>}\r\n\t\t\t{result && <p>Max: {`${result.max}`}</p>}\r\n\t\t\t{result && <p>Max @ [{`${result.x}, ${result.y}`}]</p>}\r\n\t\t\t{result && <p>200th lasered: {`${result.target.x * 100 + result.target.y}`}</p>}\r\n\t\t\t{result && <div>\r\n\t\t\t\t<canvas id=\"solution\" ref=\"canvas\" width={map[0].length * this.scaling} height={map.length * this.scaling} style={{ margin: \"10px\" }} />\r\n\t\t\t\t<p className={blink ? \"blink\" : undefined} style={{ fontWeight: firing ? \"bold\" : undefined, color: firing ? \"red\" : \"black\" }}>{this.state.text}</p>\r\n\t\t\t</div>}\r\n\r\n\t\t\t{result && <table style={{ borderSpacing: \"10px 0\" }}>\r\n\t\t\t\t<thead><tr><th>#</th><th>Key</th><th>(X, Y)</th><th>Bearing</th></tr></thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{result.destroyOrder.map(c => <tr key={c.x * 100 + c.y}><td>{i++}</td><td>{c.x * 100 + c.y}</td><td>({c.x}, {c.y})</td><td>{c.bearing}</td></tr>)}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S10b extends Solver {\r\n\tstatic hide = true;\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { CssImage } from '../util';\r\nimport { Computer } from './IntCode';\r\n\r\nclass Robot {\r\n\tstatic up = 0;\r\n\tstatic down = 1;\r\n\tstatic left = 2;\r\n\tstatic right = 3;\r\n\r\n\tstep = [\r\n\t\t{ x: 0, y: -1 },\r\n\t\t{ x: 0, y: 1 },\r\n\t\t{ x: -1, y: 0 },\r\n\t\t{ x: 1, y: 0 }\r\n\t];\r\n\r\n\tturn = [\r\n\t\t[Robot.left, Robot.right, Robot.down, Robot.up],\r\n\t\t[Robot.right, Robot.left, Robot.up, Robot.down]\r\n\t];\r\n\r\n\tfacing = Robot.up;\r\n\r\n\tconstructor(x, y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tmove(direction) {\r\n\t\tthis.facing = this.turn[direction][this.facing];\r\n\t\tthis.x += this.step[this.facing].x;\r\n\t\tthis.y += this.step[this.facing].y;\r\n\t}\r\n}\r\n\r\nclass Hull {\r\n\tsurface = [];\r\n\r\n\tvalidate(x, y) {\r\n\t\tif (x < 0 || y < 0) throw new Error(`Out of bounds: <${x}, ${y}>`);\r\n\t\tif (this.surface[y] === undefined) this.surface[y] = [];\r\n\t}\r\n\r\n\tget(x, y) {\r\n\t\tthis.validate(x, y);\r\n\t\treturn this.surface[y][x];\r\n\t}\r\n\r\n\tset(x, y, value) {\r\n\t\tthis.validate(x, y);\r\n\t\tthis.surface[y][x] = value;\r\n\t}\r\n\r\n\tdisplay(start) {\r\n\t\tlet ri = 0, ci = 0;\r\n\t\tlet rows = this.surface.filter(r => r !== undefined);\r\n\t\tlet maxcol = Math.max(...rows.map(r => r.length));\r\n\t\trows.forEach(r => {\r\n\t\t\tfor (let i = 0; i < maxcol; i++) { r[i] = r[i] === 1 ? 1 : 0 }\r\n\t\t});\r\n\t\treturn <div className=\"hull-grid\">\r\n\t\t\t{rows.map(r => <div className=\"hull-row\" key={ri++}>{r.map(c => <div className={c === 1 ? \"hull-white\" : \"hull-black\"} key={ci++}></div>)}</div>)}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S11a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet hull = new Hull();\r\n\t\tlet stdin = [0];\r\n\t\tlet stdout = [];\r\n\t\tlet c = new Computer().init(input, stdin, stdout);\r\n\t\tlet rob = new Robot(100, 100);\r\n\t\twhile (c.run() === 1) {\r\n\t\t\thull.set(rob.x, rob.y, stdout.shift());\r\n\t\t\trob.move(stdout.shift());\r\n\t\t\tstdin.push(hull.get(rob.x, rob.y) === 1 ? 1 : 0);\r\n\t\t}\r\n\t\tthis.setState({ hull: hull });\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t{this.state.hull && <p>Panel count: {this.state.hull.surface.reduce((t, n) => t.concat(n)).filter(e => e !== undefined).length}</p>}\r\n\t\t\t{this.state.error && <p>Error: {this.state.error.message}</p>}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S11b extends Solver {\r\n\tsolve(input) {\r\n\t\tlet hull = new Hull();\r\n\t\thull.set(0, 0, 1);\r\n\t\tlet c = new Computer().init(input, [1]);\r\n\t\tlet rob = new Robot(0, 0);\r\n\t\twhile (c.run() === 1) {\r\n\t\t\thull.set(rob.x, rob.y, c.stdout.shift());\r\n\t\t\trob.move(c.stdout.shift());\r\n\t\t\tc.stdin.push(hull.get(rob.x, rob.y) === 1 ? 1 : 0);\r\n\t\t}\r\n\t\tthis.setState({ hull: hull });\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t{this.state.hull && <CssImage value={this.state.hull.surface} colors={[\"black\", \"white\"]} />}\r\n\t\t\t{this.state.hull && <p>Panel count: {this.state.hull.surface.reduce((t, n) => t.concat(n)).filter(e => e !== undefined).length}</p>}\r\n\t\t\t{this.state.error && <p>Error: {this.state.error.message}</p>}\r\n\t\t</div>;\r\n\t}\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Moon {\r\n\tconstructor(input) {\r\n\t\tif (input.startsWith(\"<\")) input = input.substring(1);\r\n\t\tif (input.endsWith(\">\")) input = input.substring(0, input.length - 1);\r\n\t\tinput = input.split(\", \").map(m => m.split(\"=\"));\r\n\t\tthis.x = parseInt(input[0][1]);\r\n\t\tthis.y = parseInt(input[1][1]);\r\n\t\tthis.z = parseInt(input[2][1]);\r\n\t\tthis.dx = 0;\r\n\t\tthis.dy = 0;\r\n\t\tthis.dz = 0;\r\n\t}\r\n\r\n\taddGravity(other) {\r\n\t\tif (this.x > other.x) { this.dx--; other.dx++; }\r\n\t\tif (this.x < other.x) { this.dx++; other.dx--; }\r\n\t\tif (this.y > other.y) { this.dy--; other.dy++; }\r\n\t\tif (this.y < other.y) { this.dy++; other.dy--; }\r\n\t\tif (this.z > other.z) { this.dz--; other.dz++; }\r\n\t\tif (this.z < other.z) { this.dz++; other.dz--; }\r\n\t}\r\n\r\n\tmove() {\r\n\t\tthis.x += this.dx;\r\n\t\tthis.y += this.dy;\r\n\t\tthis.z += this.dz;\r\n\t}\r\n\r\n\tpotentialEnergy() {\r\n\t\treturn Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\r\n\t}\r\n\r\n\tkineticEnergy() {\r\n\t\treturn Math.abs(this.dx) + Math.abs(this.dy) + Math.abs(this.dz);\r\n\t}\r\n\r\n\tenergy() {\r\n\t\treturn this.potentialEnergy() * this.kineticEnergy();\r\n\t}\r\n\r\n\tchecksum() {\r\n\t\treturn this.x + this.y + this.z + this.dx + this.dy + this.dz;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `${this.name}: <x=${this.x}, y=${this.y}, z=${this.z}> <dx=${this.dx}, dy=${this.dy}, dz=${this.dz}> pE=${this.potentialEnergy()} kE=${this.kineticEnergy()} E=${this.energy()}`\r\n\t}\r\n\r\n\ttoMarkup() {\r\n\t\treturn <tr key={this.name}>\r\n\t\t\t<td>{this.name}</td>\r\n\t\t\t<td>{this.x}</td>\r\n\t\t\t<td>{this.y}</td>\r\n\t\t\t<td>{this.z}</td>\r\n\t\t\t<td>{this.dx}</td>\r\n\t\t\t<td>{this.dy}</td>\r\n\t\t\t<td>{this.dz}</td>\r\n\t\t\t<td>{this.potentialEnergy()}</td>\r\n\t\t\t<td>{this.kineticEnergy()}</td>\r\n\t\t\t<td>{this.energy()}</td>\r\n\t\t</tr>;\r\n\t}\r\n}\r\n\r\nfunction moveMoons(moons) {\r\n\tfor (let i = 0; i < moons.length; i++) {\r\n\t\tfor (let j = i + 1; j < moons.length; j++) {\r\n\t\t\tmoons[i].addGravity(moons[j]);\r\n\t\t}\r\n\t}\r\n\tmoons.forEach(m => m.move());\r\n}\r\n\r\nfunction renderMoons(moons) {\r\n\treturn <table style={{ borderSpacing: \"10px 0\" }}>\r\n\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>Name</th>\r\n\t\t\t\t<th>X</th>\r\n\t\t\t\t<th>Y</th>\r\n\t\t\t\t<th>Z</th>\r\n\t\t\t\t<th>dX</th>\r\n\t\t\t\t<th>dY</th>\r\n\t\t\t\t<th>dZ</th>\r\n\t\t\t\t<th>pE</th>\r\n\t\t\t\t<th>kE</th>\r\n\t\t\t\t<th>E</th>\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\t\t<tbody>\r\n\t\t\t{moons.map(m => m.toMarkup())}\r\n\t\t</tbody>\r\n\t</table>;\r\n}\r\n\r\nfunction initMoons(input) {\r\n\tlet moons = input.split(\"\\n\").map(m => new Moon(m));\r\n\tmoons[0].name = \"Io\";\r\n\tmoons[1].name = \"Europa\";\r\n\tmoons[2].name = \"Ganymede\";\r\n\tmoons[3].name = \"Callisto\";\r\n\treturn moons;\r\n}\r\n\r\nexport class S12a extends Solver {\r\n\tcalculate(input) {\r\n\t\tlet moons = initMoons(input);\r\n\t\tlet xs = [moons.map(m => m.x.toString()).join(\"\")], ys = [moons.map(m => m.y.toString()).join(\"\")], zs = [moons.map(m => m.z.toString()).join(\"\")];\r\n\t\tlet limit = 5000;\r\n\t\tlet px = 0, py = 0, pz = 0;\r\n\t\twhile (px === 0 || py === 0 || pz === 0) {\r\n\t\t\tfor (let s = Math.max(xs.length, ys.length, zs.length); s < limit; s++) {\r\n\t\t\t\tmoveMoons(moons);\r\n\t\t\t\tif (px === 0) xs.push(moons.map(m => m.x.toString()).join(\"\"));\r\n\t\t\t\tif (py === 0) ys.push(moons.map(m => m.y.toString()).join(\"\"));\r\n\t\t\t\tif (pz === 0) zs.push(moons.map(m => m.z.toString()).join(\"\"));\r\n\t\t\t}\r\n\t\t\tlimit *= 2;\r\n\t\t\tif (px === 0) px = this.calculatePeriod(xs);\r\n\t\t\tif (py === 0) py = this.calculatePeriod(ys);\r\n\t\t\tif (pz === 0) pz = this.calculatePeriod(zs);\r\n\t\t}\r\n\t\t// console.log(`px: ${px}, py: ${py}, pz: ${pz}`);\r\n\t\t// console.log(px * py * pz);\r\n\t\tlet p = px * py * pz;\r\n\t\tlet primes = [2, 3, 5, 7, 11, 13];\r\n\t\tlet mx = p / px, my = p / py, mz = p / pz;\r\n\t\t// console.log(`mx: ${mx}, my: ${my}, mz: ${mz}`);\r\n\t\tprimes.forEach(prime => {\r\n\t\t\twhile (mx % prime === 0 && my % prime === 0 && mz % prime === 0) {\r\n\t\t\t\tmx /= prime;\r\n\t\t\t\tmy /= prime;\r\n\t\t\t\tmz /= prime;\r\n\t\t\t\tp /= prime;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// console.log(`p: ${p}, mx: ${mx}, my: ${my}, mz: ${mz}`);\r\n\t\tthis.setState({ period: { tot: p, x: px, y: py, z: pz } });\r\n\t}\r\n\r\n\tcalculatePeriod(v) {\r\n\t\tlet p = 1;\r\n\t\twhile (p < v.length / 2) {\r\n\t\t\twhile (p < v.length / 2 && v[0] !== v[p]) { p++; }\r\n\t\t\tif (p < v.length / 2) {\r\n\t\t\t\tlet match = true;\r\n\t\t\t\tfor (let i = 0; i < p; i++) { if (v[i] !== v[i + p]) { match = false; break; } }\r\n\t\t\t\tif (match) {\r\n\t\t\t\t\t// console.log(`Period: ${p}`);\r\n\t\t\t\t\t// console.log(v.slice(0, p));\r\n\t\t\t\t\t// console.log(v.slice(p, p * 2));\r\n\t\t\t\t\treturn p;\r\n\t\t\t\t}\r\n\t\t\t\tp++\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet moons = initMoons(input);\r\n\t\tfor (let i = 0; i < 1000; i++) { moveMoons(moons); }\r\n\t\tthis.setState({ moons: moons });\r\n\t\tsetTimeout(() => this.calculate(input), 1);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet { moons, period } = this.state;\r\n\t\tif (!moons) return <div></div>;\r\n\t\treturn <div>\r\n\t\t\t<p>Total energy after 1000 steps: {moons.map(m => m.energy()).reduce((t, n) => t + n)}</p>\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t\t{renderMoons(moons)}\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t\t<p>Period: {period ? period.tot : \"Calculating...\"}</p>\r\n\t\t\t{period && <p>Period (X): {period.x}</p>}\r\n\t\t\t{period && <p>Period (Y): {period.y}</p>}\r\n\t\t\t{period && <p>Period (Z): {period.z}</p>}\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\nexport class S12b extends Solver {\r\n\tstatic hide = true;\r\n}","import '../util/CssImage.css';\r\nimport React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\nimport { drawCircle, drawFilledCircle, drawLine, drawFilledRect } from '../util';\r\n\r\nexport class S13a extends Solver {\r\n\tpixel_size = 25;\r\n\tstdin = [];\r\n\tstdout = [];\r\n\tscreen = [];\r\n\tscore = 0;\r\n\tnextInput = 0;\r\n\tcheat = false;\r\n\tcolors = [];\r\n\tcolorList = [\r\n\t\t\"#CFFFCF\",\r\n\t\t\"#00FF00\",\r\n\t\t\"#00CF00\",\r\n\t\t\"#7F7FFF\",\r\n\t\t\"#3F3FFF\",\r\n\t\t\"#00007F\",\r\n\t\t\"#FF7F7F\",\r\n\t\t\"#FF3F3F\",\r\n\t\t\"#7F0000\",\r\n\t\t\"#3F3FFF\",\r\n\t\t\"#CFCF00\",\r\n\t\t\"#00CFCF\",\r\n\t\t\"#CFCFCF\",\r\n\t\t\"#CFFFCF\",\r\n\t\t\"#00FF00\",\r\n\t\t\"#00CF00\",\r\n\t\t\"#7F7FFF\",\r\n\t\t\"#3F3FFF\",\r\n\t\t\"#00007F\",\r\n\t\t\"#FF7F7F\",\r\n\t\t\"#FF3F3F\",\r\n\t\t\"#7F0000\",\r\n\t\t\"#3F3FFF\",\r\n\t\t\"#CFCF00\",\r\n\t\t\"#00CFCF\",\r\n\t\t\"#CFCFCF\",\r\n\t];\r\n\tmap = [\"\", \"#\", \"U\", \"=\", \"o\"];\r\n\tstyles = [\r\n\t\t\"empty\",\r\n\t\t\"wall\",\r\n\t\t\"block\",\r\n\t\t\"paddle\",\r\n\t\t\"ball\"\r\n\t]\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tdocument.addEventListener('keydown', e => {\r\n\t\t\tif (e.keyCode === 37) this.nextInput = -1;\r\n\t\t\tif (e.keyCode === 39) this.nextInput = 1;\r\n\t\t});\r\n\t\tdocument.addEventListener('keyup', e => {\r\n\t\t\tif (e.keyCode === 37 || e.keyCode === 39) this.nextInput = 0;\r\n\t\t});\r\n\t}\r\n\r\n\tupdateScreen() {\r\n\t\tlet output = this.stdout;\r\n\t\tlet screen = this.screen;\r\n\t\tlet score = 0;\r\n\t\twhile (output.length > 0) {\r\n\t\t\tlet x = output.shift();\r\n\t\t\tlet y = output.shift();\r\n\t\t\tlet t = output.shift();\r\n\t\t\tif (x === -1) {\r\n\t\t\t\tscore = t;\r\n\t\t\t} else {\r\n\t\t\t\tif (screen[y] === undefined) screen[y] = [];\r\n\t\t\t\tif (t === 3) this.paddle = x;\r\n\t\t\t\tif (t === 4) this.ball = x;\r\n\t\t\t\tscreen[y][x] = t;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn score;\r\n\t}\r\n\r\n\tblockCount() {\r\n\t\treturn this.screen.map(r => r.filter(c => c === 2).length).reduce((t, n) => t + n);\r\n\t}\r\n\r\n\tdrawWalls() {\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.strokeStyle = \"#FF0000\";\r\n\t\tctx.lineWidth = 5;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(0.5 * this.pixel_size, (this.screen.length - 0.5) * this.pixel_size);\r\n\t\tctx.lineTo(0.5 * this.pixel_size, 0.5 * this.pixel_size);\r\n\t\tctx.lineTo((this.screen[0].length - 0.5) * this.pixel_size, 0.5 * this.pixel_size);\r\n\t\tctx.lineTo((this.screen[0].length - 0.5) * this.pixel_size, (this.screen.length - 0.5) * this.pixel_size);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\ttransform(x) {\r\n\t\treturn Math.floor((x + 0.5) * this.pixel_size);\r\n\t}\r\n\r\n\tdrawGame() {\r\n\t\tif (!this.refs.canvas) return;\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(this.pixel_size, this.pixel_size, (this.screen[0].length - 2) * this.pixel_size, (this.screen.length - 1) * this.pixel_size);\r\n\t\tfor (let y = 1; y < this.screen.length; y++) {\r\n\t\t\tfor (let x = 1; x < this.screen[0].length - 1; x++) {\r\n\t\t\t\tswitch (this.screen[y][x]) {\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tif (!this.colors[y]) { this.colors[y] = this.colorList.shift(); }\r\n\t\t\t\t\t\tdrawFilledRect(ctx, this.transform(x - 0.4), this.transform(y - 0.2), this.transform(x + 0.4), this.transform(y + 0.2), this.colors[y]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tdrawLine(ctx, this.transform(x - 0.5), this.transform(y), this.transform(x + 0.5), this.transform(y), \"#0000FF\", 3);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tdrawFilledCircle(ctx, this.transform(x), this.transform(y), 3, \"#CFCF00\");\r\n\t\t\t\t\t\tdrawCircle(ctx, this.transform(x), this.transform(y), 3, \"#000000\", 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tthis.computer = new Computer().init(input, this.stdin, this.stdout);\r\n\t\tlet res = this.computer.run();\r\n\t\tthis.updateScreen();\r\n\t\tlet blocks = this.blockCount();\r\n\t\tsetTimeout(() => this.drawWalls(), 10);\r\n\t\tsetTimeout(() => this.drawGame(), 10);\r\n\t\tthis.setState({\r\n\t\t\tprogram: input,\r\n\t\t\ttiles: blocks,\r\n\t\t\tcurrent: blocks,\r\n\t\t\tresult: res\r\n\t\t});\r\n\t}\r\n\r\n\tplay(cheat) {\r\n\t\tthis.stdin = [];\r\n\t\tthis.stdout = [];\r\n\t\tthis.score = 0;\r\n\t\tthis.cheat = cheat;\r\n\t\tthis.computer = new Computer().init(this.state.program, this.stdin, this.stdout);\r\n\t\tthis.computer.mem[0] = 2;\r\n\t\tthis.move();\r\n\t}\r\n\r\n\tinput() {\r\n\t\tif (this.stdin.length === 0 && this.cheat) {\r\n\t\t\tthis.nextInput = 0;\r\n\t\t\tif (this.ball > this.paddle) this.nextInput = 1;\r\n\t\t\tif (this.ball < this.paddle) this.nextInput = -1;\r\n\t\t}\r\n\t\tthis.stdin.push(this.nextInput);\r\n\t\tthis.move();\r\n\t}\r\n\r\n\tmove() {\r\n\t\tlet result = this.computer.run();\r\n\t\tlet score = this.updateScreen();\r\n\t\tthis.drawGame();\r\n\t\tif (score !== 0) this.score = score;\r\n\t\tthis.setState({\r\n\t\t\tcurrent: this.blockCount(),\r\n\t\t\tresult: result\r\n\t\t});\r\n\t\tif (result === 1)\r\n\t\t\tsetTimeout(() => this.input(), this.cheat ? 10 : 1000);\r\n\t}\r\n\r\n\trenderImage() {\r\n\t\tlet i = 0;\r\n\t\treturn <div className=\"css-image\">\r\n\t\t\t{this.screen.map(r => <div className=\"css-image-row\" key={i++}>\r\n\t\t\t\t{r.map(c => <div className={`css-image-pixel ${this.styles[c]}`} key={i++}>{this.map[c]}</div>)}\r\n\t\t\t</div>)}\r\n\t\t</div>;\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div className=\"s13\">\r\n\t\t\t<div style={{ width: this.screen[0].length * this.pixel_size + \"px\", display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\" }}><p>Tiles: {this.state.tiles}</p><p>Left:{this.state.current}</p><p>Score: {this.score}</p></div>\r\n\t\t\t<canvas id=\"solution\" ref=\"canvas\" width={this.screen[0].length * this.pixel_size} height={this.screen.length * this.pixel_size} />\r\n\t\t\t{/*this.renderImage(this.state.output)*/}\r\n\t\t\t<div className=\"controls\" style={{ width: this.screen[0].length * this.pixel_size + \"px\" }}>\r\n\t\t\t\t<div className=\"spacer\"></div>\r\n\t\t\t\t{this.state.result === 0 && <div>\r\n\t\t\t\t\tGame over! Play again? <input type=\"button\" value=\"PLAY\" onClick={() => this.play(false)} />\r\n\t\t\t\t\t<input type=\"button\" value=\"CHEAT\" onClick={() => this.play(true)} />\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div className=\"spacer\"></div>\r\n\t\t\t</div>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S13b extends Solver {\r\n\tstatic hide = true;\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Reaction {\r\n\tconstructor(formulae) {\r\n\t\tformulae = formulae.split(\" => \");\r\n\t\tlet output = formulae[1].split(\" \");\r\n\t\tthis.output = { q: parseInt(output[0]), c: output[1] };\r\n\t\tthis.input = formulae[0].split(\", \").map(i => i.split(\" \")).map(i => { return { q: parseInt(i[0]), c: i[1] } });\r\n\t}\r\n}\r\n\r\nexport class S14a extends Solver {\r\n\tcalculate(n, have) {\r\n\t\tlet needs = [{ q: n, c: \"FUEL\" }];\r\n\t\tlet ore = 0;\r\n\t\tlet add = (r, m) => {\r\n\t\t\tif (r.c === \"ORE\") ore += r.q * m;\r\n\t\t\telse needs.push({ c: r.c, q: r.q * m });\r\n\t\t}\r\n\t\twhile (needs.length > 0) {\r\n\t\t\tlet need = needs.shift();\r\n\t\t\tif (have[need.c]) {\r\n\t\t\t\tif (need.q >= have[need.c]) {\r\n\t\t\t\t\tneed.q -= have[need.c];\r\n\t\t\t\t\thave[need.c] = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\thave[need.c] -= need.q;\r\n\t\t\t\t\tneed.q = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (need.q > 0) {\r\n\t\t\t\tlet f = this.reactions[need.c];\r\n\t\t\t\tlet c = Math.floor(need.q / f.output.q);\r\n\t\t\t\tif (need.q % f.output.q !== 0) c++;\r\n\t\t\t\tneed.q -= f.output.q * c;\r\n\t\t\t\tif (need.q < 0) {\r\n\t\t\t\t\tif (have[need.c] === undefined) have[need.c] = -need.q;\r\n\t\t\t\t\telse have[need.c] -= need.q;\r\n\t\t\t\t}\r\n\t\t\t\tf.input.forEach(i => add(i, c));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ore;\r\n\t}\r\n\r\n\tmaxHelper() {\r\n\t\tconst target = 1000000000000;\r\n\t\tif (this.oreneed < target) {\r\n\t\t\tthis.setState({ maxfuel: this.maxfuel, oreneed: this.oreneed });\r\n\t\t\tlet next = Math.max(Math.floor((target - this.oreneed) / this.oreperfuel), 1);\r\n\t\t\tthis.maxfuel += next;\r\n\t\t\tthis.oreneed += this.calculate(next, this.have);\r\n\t\t\tsetTimeout(() => this.maxHelper(), 1);\r\n\t\t} else {\r\n\t\t\tthis.setState({ done: true });\r\n\t\t}\r\n\t}\r\n\r\n\tcalcMaxFuel() {\r\n\t\tthis.needs = [];\r\n\t\tthis.have = {};\r\n\t\tthis.oreneed = 0;\r\n\t\tthis.maxfuel = 0;\r\n\t\tthis.maxHelper();\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tinput = input.split(\"\\n\").map(f => new Reaction(f));\r\n\t\tthis.reactions = {};\r\n\t\tinput.forEach(r => this.reactions[r.output.c] = r);\r\n\t\tthis.oreperfuel = this.calculate(1, {});\r\n\t\tsetTimeout(() => this.calcMaxFuel(), 1);\r\n\t\tthis.setState({\r\n\t\t\treactions: input.length,\r\n\t\t\tore: this.oreperfuel\r\n\t\t});\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<p>Reactions: {this.state.reactions}</p>\r\n\t\t\t<p>Ore required: {this.state.ore}</p>\r\n\t\t\t<p>Max fuel: {this.state.maxfuel || \"Calculating...\"}</p>\r\n\t\t\t<p>Ore load: {this.state.oreneed || \"Calculating...\"}</p>\r\n\t\t\t<p>{this.state.done ? \"Done!\" : \"Calculating...\"}</p>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S14b extends Solver {\r\n\tstatic hide = true;\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\nimport { drawFilledRect } from '../util';\r\n\r\nconst north = { c: 1, x: 0, y: -1 };\r\nconst south = { c: 2, x: 0, y: 1 };\r\nconst west = { c: 3, x: -1, y: 0 };\r\nconst east = { c: 4, x: 1, y: 0 };\r\n\r\nconst wall = 0;\r\nconst open = 1;\r\nconst oxygen = 2;\r\n\r\nconst colors = [\r\n\t\"#000000\",\r\n\t\"#7F7F7F\",\r\n\t\"#7F7FCF\"\r\n]\r\n\r\nclass Map {\r\n\tmap = [];\r\n\r\n\tget(x, y) {\r\n\t\tif (this.map[y] === undefined) this.map[y] = [];\r\n\t\treturn this.map[y][x];\r\n\t}\r\n\r\n\tset(x, y, value) {\r\n\t\tif (this.map[y] === undefined) this.map[y] = [];\r\n\t\tthis.map[y][x] = value;\r\n\t}\r\n\r\n\theight() { return this.map.length; }\r\n\twidth() { return Math.max(...this.map.map(r => r === undefined ? 0 : r.length)); }\r\n}\r\n\r\nexport class S15a extends Solver {\r\n\tpixel_size = 5;\r\n\r\n\ttransform(c) {\r\n\t\treturn (c + 50) * this.pixel_size;\r\n\t}\r\n\r\n\tsetPos(x, y, terrain) {\r\n\t\tthis.map.set(x, y, terrain);\r\n\t\tif (this.refs.canvas) {\r\n\t\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\t\tx = this.transform(x);\r\n\t\t\ty = this.transform(y);\r\n\t\t\tdrawFilledRect(ctx, x, y, x + this.pixel_size, y + this.pixel_size, colors[terrain]);\r\n\t\t}\r\n\t}\r\n\r\n\tappendPath(p, dir) {\r\n\t\tlet n = { comp: p.comp.copy(), pos: { x: p.pos.x + dir.x, y: p.pos.y + dir.y }, path: [...p.path, dir] };\r\n\t\tn.comp.stdin.push(dir.c);\r\n\t\tn.comp.run();\r\n\t\tlet res = n.comp.stdout.shift();\r\n\t\tthis.setPos(n.pos.x, n.pos.y, res);\r\n\t\tif (res !== wall) this.paths.push(n);\r\n\t}\r\n\r\n\tsearch() {\r\n\t\tlet p = this.paths.shift();\r\n\t\tlet terrain = this.map.get(p.pos.x, p.pos.y);\r\n\t\tif (terrain === oxygen) return p;\r\n\t\tif (terrain === wall) return null;\r\n\t\tif (this.map.get(p.pos.x + north.x, p.pos.y + north.y) === undefined) { this.appendPath(p, north); }\r\n\t\tif (this.map.get(p.pos.x + south.x, p.pos.y + south.y) === undefined) { this.appendPath(p, south); }\r\n\t\tif (this.map.get(p.pos.x + west.x, p.pos.y + west.y) === undefined) { this.appendPath(p, west); }\r\n\t\tif (this.map.get(p.pos.x + east.x, p.pos.y + east.y) === undefined) { this.appendPath(p, east); }\r\n\t\treturn null;\r\n\t}\r\n\r\n\texplore() {\r\n\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\tif (this.paths.length === 0) return;\r\n\t\t\tlet res = this.search();\r\n\t\t\tif (res !== null) {\r\n\t\t\t\tthis.setState({ path: res });\r\n\t\t\t\tthis.setPos(res.pos.x, res.pos.y, open);\r\n\t\t\t\tthis.fillPaths = [{ comp: res.comp, pos: res.pos, path: [] }];\r\n\t\t\t\tsetTimeout(() => this.fill(), 1);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetTimeout(() => this.explore(), 1);\r\n\t}\r\n\r\n\tappendFill(p, dir) {\r\n\t\tlet n = { comp: p.comp.copy(), pos: { x: p.pos.x + dir.x, y: p.pos.y + dir.y }, path: [...p.path, dir] };\r\n\t\tlet terrain = this.map.get(n.pos.x, n.pos.y);\r\n\t\tif (terrain === oxygen || terrain === wall) return;\r\n\t\tn.comp.stdin.push(dir.c);\r\n\t\tn.comp.run();\r\n\t\tlet res = n.comp.stdout.shift();\r\n\t\tthis.setPos(n.pos.x, n.pos.y, res);\r\n\t\tif (res !== wall) this.fillPaths.push(n);\r\n\t}\r\n\r\n\tpumpOxy() {\r\n\t\tlet p = this.fillPaths.shift();\r\n\t\tlet terrain = this.map.get(p.pos.x, p.pos.y);\r\n\t\tif (terrain === open) {\r\n\t\t\tthis.setPos(p.pos.x, p.pos.y, oxygen);\r\n\t\t\tif (!this.state.fill || this.state.fill.path.length < p.path.length) this.setState({ fill: p });\r\n\t\t\tthis.appendFill(p, north);\r\n\t\t\tthis.appendFill(p, south);\r\n\t\t\tthis.appendFill(p, west);\r\n\t\t\tthis.appendFill(p, east);\r\n\t\t}\r\n\t}\r\n\r\n\tfill() {\r\n\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\tif (this.fillPaths.length === 0) return;\r\n\t\t\tthis.pumpOxy();\r\n\t\t}\r\n\t\tsetTimeout(() => this.fill(), 1);\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tif (input.length === 0) return;\r\n\t\tthis.map = new Map();\r\n\t\tif (this.refs.canvas) {\r\n\t\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\t\tctx.clearRect(0, 0, 100 * this.pixel_size, 100 * this.pixel_size);\r\n\t\t}\r\n\t\tthis.setPos(0, 0, open);\r\n\t\tthis.paths = [{ comp: new Computer().init(input), pos: { x: 0, y: 0 }, path: [] }];\r\n\t\tsetTimeout(() => this.explore(), 10);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet height = 100;\r\n\t\tlet width = 100;\r\n\t\treturn <div>\r\n\t\t\t<p>Shortest path: {this.state.path && this.state.path.path.length}</p>\r\n\t\t\t<p>Time to fill: {this.state.fill && this.state.fill.path.length} minutes</p>\r\n\t\t\t{this.map && <canvas id=\"solution\" ref=\"canvas\" width={width * this.pixel_size} height={height * this.pixel_size} />}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S15b extends Solver {\r\n\tstatic hide = true;\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nfunction pattern(n, l) {\r\n\tlet res = [];\r\n\tres[l - 1] = 0;\r\n\tres.fill(0, 0);\r\n\tlet i = n - 1;\r\n\twhile (i < l) {\r\n\t\tres.fill(1, i, i + n);\r\n\t\ti += 2 * n;\r\n\t\tres.fill(-1, i, i + n);\r\n\t\ti += 2 * n;\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nfunction fft(input, times) {\r\n\tfor (let n = 0; n < times; n++) {\r\n\t\tlet res = [];\r\n\t\tfor (let r = 0; r < input.length; r++) {\r\n\t\t\tlet p = pattern(r + 1, input.length);\r\n\t\t\tres[r] = input[r];\r\n\t\t\tfor (let i = r + 1; i < input.length; i++) {\r\n\t\t\t\tres[r] += input[i] * p[i];\r\n\t\t\t\tres[r] = res[r] % 10;\r\n\t\t\t}\r\n\t\t\tres[r] = Math.abs(res[r] % 10);\r\n\t\t}\r\n\t\tinput = res;\r\n\t}\r\n\treturn input;\r\n}\r\n\r\nexport class S16a extends Solver {\r\n\tsolve(input) {\r\n\t\tinput = input.split(\"\").map(d => parseInt(d));\r\n\t\tlet offset = parseInt(input.slice(0, 7).join(\"\"));\r\n\t\tlet first8 = fft(input, 100).slice(0, 8).join(\"\");\r\n\t\tlet p = input.length;\r\n\t\tlet scratch = [];\r\n\t\tscratch[100] = input[p - 1];\r\n\t\tscratch.fill(input[p - 1], 0, 100);\r\n\t\tlet result = [];\r\n\t\tfor (let i = 10000 * p - 2; i >= offset; i--) {\r\n\t\t\tscratch[0] = input[i % p];\r\n\t\t\tfor (let j = 1; j < 101; j++) {\r\n\t\t\t\tscratch[j] = (scratch[j] + scratch[j - 1]) % 10;\r\n\t\t\t}\r\n\t\t\tif (i - offset < 8 && i - offset > -1) { result[i - offset] = scratch[100]; }\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlength: input.length,\r\n\t\t\tfirst8: first8,\r\n\t\t\toffset: offset,\r\n\t\t\tfromEnd: offset - 10000 * input.length,\r\n\t\t\trelative: offset / (input.length * 10000),\r\n\t\t\tmessage: result.join(\"\")\r\n\t\t});\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<p>Input length: {this.state.length}</p>\r\n\t\t\t<p>First 8: {this.state.first8}</p>\r\n\t\t\t<p>Offset: {this.state.offset}</p>\r\n\t\t\t<p>From end: {this.state.fromEnd}</p>\r\n\t\t\t<p>Relative: {this.state.relative}</p>\r\n\t\t\t<p>Message: {this.state.message}</p>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S16b extends Solver {\r\n\tstatic hide = true;\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\nimport { drawCircle, drawFilledCircle } from '../util';\r\n\r\nexport class S17a extends Solver {\r\n\tpixel_size = 13;\r\n\tstate = {\r\n\t\tw: 0,\r\n\t\th: 0,\r\n\t\tmain: \"B,C,B,C,B,A,C,A,B,A\",\r\n\t\tsubA: \"L,8,L,8,R,10,R,4\",\r\n\t\tsubB: \"R,4,L,10,L,10\",\r\n\t\tsubC: \"L,8,R,12,R,10,R,4\",\r\n\t\tfeed: \"y\"\r\n\t}\r\n\r\n\tdrawScaffold(ctx, x, y) {\r\n\t\tlet fromX = x * this.pixel_size, toX = (x + 1) * this.pixel_size - 1;\r\n\t\tlet fromY = y * this.pixel_size, toY = (y + 1) * this.pixel_size - 1;\r\n\t\tlet x1 = Math.floor((x + 0.5) * this.pixel_size) - 3;\r\n\t\tlet x2 = x1 + 7;\r\n\t\tlet y1 = Math.floor((y + 0.5) * this.pixel_size) - 3;\r\n\t\tlet y2 = y1 + 7;\r\n\t\tctx.strokeStyle = \"#000000\";\r\n\t\tctx.lineWidth = 1;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(fromX, y1);\r\n\t\tctx.lineTo(toX, y1);\r\n\t\tctx.stroke();\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(fromX, y2);\r\n\t\tctx.lineTo(toX, y2);\r\n\t\tctx.stroke();\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x1, fromY);\r\n\t\tctx.lineTo(x1, toY);\r\n\t\tctx.stroke();\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x2, fromY);\r\n\t\tctx.lineTo(x2, toY);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tdrawRobot(ctx, x, y, c) {\r\n\t\tx = Math.floor((x + 0.5) * this.pixel_size);\r\n\t\ty = Math.floor((y + 0.5) * this.pixel_size);\r\n\t\tdrawFilledCircle(ctx, x, y, 5, c === \"X\" ? \"#FF7F7F\" : \"#FFFF7F\");\r\n\t\tdrawCircle(ctx, x, y, 5, \"#000000\");\r\n\t}\r\n\r\n\tdrawImage(img) {\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, this.state.w * this.pixel_size, this.state.h * this.pixel_size);\r\n\t\tfor (let y = 0; y < img.length; y++) {\r\n\t\t\tfor (let x = 0; x < img[y].length; x++) {\r\n\t\t\t\tif (\"#\" === img[y][x]) this.drawScaffold(ctx, x, y);\r\n\t\t\t\tif (\"^<>vV\".includes(img[y][x])) this.drawRobot(ctx, x, y, img[y][x]);\r\n\t\t\t\tif (\"X\" === img[y][x]) this.drawRobot(ctx, x, y, img[y][x]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet c = new Computer().init(input);\r\n\t\twhile (c.run() === 1);\r\n\t\tlet alignment = 0;\r\n\t\tlet img = c.stdout.map(c => String.fromCharCode(c)).join(\"\").split(\"\\n\").filter(l => !l.startsWith(\"M\")).filter(l => l && l.length > 0).map(l => l.split(\"\"));\r\n\t\tconsole.log(img);\r\n\t\tfor (let y = 1; y < img.length - 1; y++) {\r\n\t\t\tfor (let x = 1; x < img[y].length - 1; x++) {\r\n\t\t\t\tif (img[y][x] === \"#\" && img[y + 1][x] === \"#\" && img[y - 1][x] === \"#\" && img[y][x + 1] === \"#\" && img[y][x - 1] === \"#\") {\r\n\t\t\t\t\talignment += x * y;\r\n\t\t\t\t\t// c.stdout[y * (img[0].length + 1) + x] = \"O\".charCodeAt(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetTimeout(() => this.drawImage(img), 10);\r\n\t\tthis.setState({ prg: input, img: img, alignment: alignment, w: img[0].length, h: img.length });\r\n\t}\r\n\r\n\tconsumeLine(c) {\r\n\t\twhile (c.stdout[c.read] !== 10) c.read++;\r\n\t\twhile (c.stdout[c.read] === 10) c.read++;\r\n\t}\r\n\r\n\treadOutput(c) {\r\n\t\tif (c.read < c.stdout.length - 1) {\r\n\t\t\twhile (\"MFC\".includes(String.fromCharCode(c.stdout[c.read]))) this.consumeLine(c);\r\n\t\t\tlet img = [];\r\n\t\t\tfor (let y = 0; y < this.state.img.length; y++) {\r\n\t\t\t\timg[y] = [];\r\n\t\t\t\tfor (let x = 0; x < this.state.img[y].length; x++) {\r\n\t\t\t\t\timg[y][x] = String.fromCharCode(c.stdout[c.read++]);\r\n\t\t\t\t}\r\n\t\t\t\tthis.consumeLine(c);\r\n\t\t\t}\r\n\r\n\t\t\tthis.drawImage(img);\r\n\t\t\tthis.setState({ img: img });\r\n\t\t\tsetTimeout(() => this.readOutput(c), 20);\r\n\t\t} else {\r\n\t\t\tthis.setState({ dust: c.stdout[c.read] });\r\n\t\t}\r\n\t}\r\n\r\n\trunProgram() {\r\n\t\tlet c = new Computer().init(this.state.prg);\r\n\t\tc.mem[0] = 2;\r\n\t\tlet p = `${this.state.main}\\n${this.state.subA}\\n${this.state.subB}\\n${this.state.subC}\\n${this.state.feed}\\n`;\r\n\t\tfor (let i = 0; i < p.length; i++) {\r\n\t\t\tc.stdin.push(p.charCodeAt(i));\r\n\t\t}\r\n\t\tc.run();\r\n\t\tc.read = 0;\r\n\t\tthis.readOutput(c);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet i = 0;\r\n\t\treturn <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t<div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n\t\t\t\t<p>Alignment: {this.state.alignment}</p>\r\n\t\t\t\t<canvas id=\"solution\" ref=\"canvas\" width={this.state.w * this.pixel_size} height={this.state.h * this.pixel_size} />\r\n\t\t\t\t{this.state.output && this.state.output.map(c => String.fromCharCode(c)).join(\"\").split(\"\\n\").map(s => <p key={i++} style={{ whiteSpace: \"pre\", fontFamily: \"monospace\" }}>{s}</p>)}\r\n\t\t\t</div>\r\n\t\t\t<div style={{\r\n\t\t\t\tdisplay: \"inline-grid\",\r\n\t\t\t\tgridTemplateColumns: \"auto auto\",\r\n\t\t\t\tgridGap: \"10px\",\r\n\t\t\t\talignContent: \"start\"\r\n\t\t\t}}>\r\n\t\t\t\t<span>Main program:</span> <span><input value={this.state.main} onChange={e => this.setState({ main: e.target.value })} /></span>\r\n\t\t\t\t<span>Subroutine A:</span> <span><input value={this.state.subA} onChange={e => this.setState({ subA: e.target.value })} /></span>\r\n\t\t\t\t<span>Subroutine B:</span> <span><input value={this.state.subB} onChange={e => this.setState({ subB: e.target.value })} /></span>\r\n\t\t\t\t<span>Subroutine C:</span> <span><input value={this.state.subC} onChange={e => this.setState({ subC: e.target.value })} /></span>\r\n\t\t\t\t<span>Continuous feed:</span> <span><input value={this.state.feed} onChange={e => this.setState({ feed: e.target.value })} /></span>\r\n\t\t\t\t<input type=\"button\" value=\"Run!\" onClick={() => this.runProgram()} /> <span></span>\r\n\t\t\t\t{this.state.dust && <span>Dust: {this.state.dust}</span>}\r\n\t\t\t</div>\r\n\t\t</div >;\r\n\t}\r\n}\r\n\r\nexport class S17b extends Solver {\r\n\tstatic hide = true;\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { drawFilledRect } from '../util';\r\n\r\nconst keys = \"abcdefghijklmnopqrstuvwxyz\";\r\nconst doors = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\nconst north = { x: 0, y: -1 };\r\nconst south = { x: 0, y: 1 };\r\nconst east = { x: 1, y: 0 };\r\nconst west = { x: -1, y: 0 };\r\n\r\nclass Path {\r\n\tconstructor(key, dist, from) {\r\n\t\tthis.keys = key;\r\n\t\tthis.distance = dist;\r\n\t\tif (from) {\r\n\t\t\tthis.keys = from.keys + key;\r\n\t\t\tthis.distance += from.distance;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class S18a extends Solver {\r\n\tpixel_size = 7;\r\n\tpreCalc = {}\r\n\r\n\tfind(map, key) {\r\n\t\tfor (let y = 0; y < map.length; y++) {\r\n\t\t\tfor (let x = 0; x < map[y].length; x++) {\r\n\t\t\t\tif (map[y][x] === key) return { x: x, y: y };\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttryMove(path, from, map, distMap, dists, paths, dir) {\r\n\t\tlet to = { x: from.x + dir.x, y: from.y + dir.y };\r\n\t\tlet c = map[to.y][to.x];\r\n\t\tif ('#' === c) return; // bumped into wall\r\n\t\tif (doors.includes(c) && !path.keys.includes(c.toLowerCase())) return; // Locked door\r\n\t\tif (keys.includes(c) && !path.keys.includes(c)) {\r\n\t\t\tpaths.push(new Path(c, distMap[from.y][from.x] + 1, path));\r\n\t\t\treturn; // New key found\r\n\t\t}\r\n\r\n\t\tlet steps = distMap[from.y][from.x] + 1;\r\n\t\tlet tgtSteps = distMap[to.y][to.x];\r\n\t\tif (tgtSteps === 0 || steps < tgtSteps) {\r\n\t\t\tdistMap[to.y][to.x] = steps;\r\n\t\t\tdists.push(to);\r\n\t\t}\r\n\t}\r\n\r\n\texplore(map, paths, best) {\r\n\t\tfor (let i = 1000; i > 0; i--) {\r\n\t\t\tif (paths.length < 1) {\r\n\t\t\t\tif (best) {\r\n\t\t\t\t\tthis.setState({ done: true, paths: [best] });\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthrow new Error(\"Search failed\");\r\n\t\t\t}\r\n\t\t\tlet p = paths.shift();\r\n\t\t\tif (p.keys.length === this.keyCount) {\r\n\t\t\t\tif (best === undefined || p.distance < best.distance) {\r\n\t\t\t\t\tbest = p;\r\n\t\t\t\t\tconsole.log(`New best: ${best.distance}`);\r\n\t\t\t\t}\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tlet dists = [this.find(map, p.keys[p.keys.length - 1])];\r\n\t\t\tlet distMap = map.map(l => l.map(c => 0));\r\n\t\t\twhile (dists.length > 0) {\r\n\t\t\t\tlet f = dists.shift();\r\n\t\t\t\tthis.tryMove(p, f, map, distMap, dists, paths, north);\r\n\t\t\t\tthis.tryMove(p, f, map, distMap, dists, paths, south);\r\n\t\t\t\tthis.tryMove(p, f, map, distMap, dists, paths, east);\r\n\t\t\t\tthis.tryMove(p, f, map, distMap, dists, paths, west);\r\n\t\t\t}\r\n\t\t\tpaths.sort((a, b) => b.keys.length === a.keys.length ? a.distance - b.distance : b.keys.length - a.keys.length);\r\n\t\t}\r\n\t\tif (best)\r\n\t\t\tthis.setState({ paths: [best] });\r\n\t\t// setTimeout(() => this.explore(map, paths, best), 0);\r\n\t}\r\n\r\n\tinventory(pos, dists, distMap, map, quad, dir) {\r\n\t\tlet to = { x: pos.x + dir.x, y: pos.y + dir.y };\r\n\t\tlet c = map[to.y][to.x];\r\n\t\tif ('#' === c) return; // bumped into wall\r\n\t\tlet steps = distMap[pos.y][pos.x] + 1;\r\n\t\tif (keys.includes(c)) {\r\n\t\t\tif (!quad.keys.includes(c)) quad.keys += c;\r\n\t\t\tif (quad[c] === undefined || quad[c] > steps) quad[c] = steps;\r\n\t\t}\r\n\r\n\t\tlet tgtSteps = distMap[to.y][to.x];\r\n\t\tif (tgtSteps === 0 || steps < tgtSteps) {\r\n\t\t\tdistMap[to.y][to.x] = steps;\r\n\t\t\tdists.push(to);\r\n\t\t}\r\n\t}\r\n\r\n\tinventoryKeys(map, x, y) {\r\n\t\tlet quad = { doors: \"\", keys: \"\" };\r\n\t\tlet dists = [{ x: x, y: y }];\r\n\t\tlet distMap = map.map(l => l.map(c => 0));\r\n\t\twhile (dists.length > 0) {\r\n\t\t\tlet p = dists.shift();\r\n\t\t\tthis.inventory(p, dists, distMap, map, quad, north);\r\n\t\t\tthis.inventory(p, dists, distMap, map, quad, south);\r\n\t\t\tthis.inventory(p, dists, distMap, map, quad, east);\r\n\t\t\tthis.inventory(p, dists, distMap, map, quad, west);\r\n\t\t}\r\n\t\treturn quad;\r\n\t}\r\n\r\n\tkeyPath(key, path, paths, distMap, map, quad, dir) {\r\n\t\tlet to = { ...path, x: path.x + dir.x, y: path.y + dir.y, steps: path.steps + 1 };\r\n\t\tlet c = map[to.y][to.x];\r\n\t\tif ('#' === c) return; // bumped into wall\r\n\t\tif (key === c) {\r\n\t\t\tconsole.log(`Found path: ${to.steps}`);\r\n\t\t\tquad.paths.push(to);\r\n\t\t}\r\n\r\n\t\tif (keys.includes(c) && !to.keys.includes(c)) { to.keys += c; }\r\n\t\tif (doors.includes(c) && !to.doors.includes(c)) { to.doors += c; }\r\n\r\n\t\tlet tgtSteps = distMap[to.y][to.x];\r\n\t\tif (tgtSteps === 0 || to.steps < tgtSteps) {\r\n\t\t\tdistMap[to.y][to.x] = to.steps;\r\n\t\t\tpaths.push(to);\r\n\t\t}\r\n\t}\r\n\r\n\tfindPath(map, x, y, key, quad) {\r\n\t\tlet paths = [{ x: x, y: y, steps: 0, keys: \"\", doors: \"\" }];\r\n\t\tquad.paths = [];\r\n\t\tlet distMap = map.map(l => l.map(c => 0));\r\n\t\twhile (paths.length > 0) {\r\n\t\t\tlet p = paths.shift();\r\n\t\t\tthis.keyPath(key, p, paths, distMap, map, quad, north);\r\n\t\t\tthis.keyPath(key, p, paths, distMap, map, quad, south);\r\n\t\t\tthis.keyPath(key, p, paths, distMap, map, quad, east);\r\n\t\t\tthis.keyPath(key, p, paths, distMap, map, quad, west);\r\n\t\t}\r\n\t}\r\n\r\n\tcalcDoors(map, x, y, quad) {\r\n\t\tlet key = '';\r\n\t\tlet max = 0;\r\n\t\tfor (let i = 0; i < quad.keys.length; i++) {\r\n\t\t\tlet k = quad.keys[i];\r\n\t\t\tif (quad[k] > max) {\r\n\t\t\t\tkey = k;\r\n\t\t\t\tmax = quad[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.findPath(map, x, y, key, quad);\r\n\t}\r\n\r\n\tscanQuadrant(map, x, y) {\r\n\t\tlet quad = this.inventoryKeys(map, x, y);\r\n\t\tthis.calcDoors(map, x, y, quad);\r\n\t\treturn quad;\r\n\t}\r\n\r\n\tcalculatePath(map) {\r\n\t\tlet start = this.find(map, '@');\r\n\t\tlet scanMap = map.map(l => l.slice());\r\n\t\tscanMap[start.y + 1][start.x] = '#';\r\n\t\tscanMap[start.y - 1][start.x] = '#';\r\n\t\tscanMap[start.y][start.x + 1] = '#';\r\n\t\tscanMap[start.y][start.x - 1] = '#';\r\n\t\tlet quad = [];\r\n\t\tquad.push(this.scanQuadrant(scanMap, start.x - 1, start.y - 1));\r\n\t\tquad.push(this.scanQuadrant(scanMap, start.x + 1, start.y - 1));\r\n\t\tquad.push(this.scanQuadrant(scanMap, start.x - 1, start.y + 1));\r\n\t\tquad.push(this.scanQuadrant(scanMap, start.x + 1, start.y + 1));\r\n\t\tconsole.log(quad);\r\n\t}\r\n\r\n\tcolor(c) {\r\n\t\tif (c === '#') return \"#000000\";\r\n\t\tif (doors.includes(c)) return \"#fF3F3F\";\r\n\t\tif (keys.includes(c)) return \"#FFFF7F\";\r\n\t\treturn \"#CFCFCF\";\r\n\t}\r\n\r\n\tdrawMap(map) {\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, map[0].length * this.pixel_size, map.length * this.pixel_size);\r\n\t\tfor (let y = 0; y < map.length; y++) {\r\n\t\t\tfor (let x = 0; x < map[y].length; x++) {\r\n\t\t\t\tdrawFilledRect(ctx, x * this.pixel_size, y * this.pixel_size, (x + 1) * this.pixel_size, (y + 1) * this.pixel_size, this.color(map[y][x]));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstep(pos, paths, distMap, map, key, result, dir) {\r\n\t\tlet to = { x: pos.x + dir.x, y: pos.y + dir.y };\r\n\t\tlet c = map[to.y][to.x];\r\n\t\tif ('#' === c) return; // bumped into wall\r\n\t\tlet steps = distMap[pos.y][pos.x] + 1;\r\n\t\tif (key === c) {\r\n\t\t\tif (result.steps === undefined || steps < result.steps) {\r\n\t\t\t\tresult.x = to.x;\r\n\t\t\t\tresult.y = to.y;\r\n\t\t\t\tresult.steps = steps;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet tgtSteps = distMap[to.y][to.x];\r\n\t\tif (tgtSteps === 0 || steps < tgtSteps) {\r\n\t\t\tdistMap[to.y][to.x] = steps;\r\n\t\t\tpaths.push(to);\r\n\t\t}\r\n\t}\r\n\r\n\tfindShortest(map, pos, key) {\r\n\t\tlet result = {};\r\n\t\tlet dists = [pos];\r\n\t\tlet distMap = map.map(l => l.map(() => 0));\r\n\t\twhile (dists.length > 0) {\r\n\t\t\tlet p = dists.shift();\r\n\t\t\tthis.step(p, dists, distMap, map, key, result, north);\r\n\t\t\tthis.step(p, dists, distMap, map, key, result, south);\r\n\t\t\tthis.step(p, dists, distMap, map, key, result, east);\r\n\t\t\tthis.step(p, dists, distMap, map, key, result, west);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tcalculatePath2(map, order) {\r\n\t\tlet start = this.find(map, '@');\r\n\t\tlet total = 0;\r\n\t\tlet i = 0;\r\n\t\twhile (i < order.length) {\r\n\t\t\tstart = this.findShortest(map, start, order[i++]);\r\n\t\t\ttotal += start.steps;\r\n\t\t}\r\n\t\tthis.setState({ total: total });\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tfor (let i = 0; i < input.length; i++) { if (keys.includes(input[i])) this.keyCount++; }\r\n\t\tlet map = input.split(\"\\n\").map(l => l.split(\"\")).map(l => l.map(c => c === '.' ? ' ' : c));\r\n\t\tthis.setState({ map: map });\r\n\t\tsetTimeout(() => this.drawMap(map), 10);\r\n\t\tlet optimal = [\r\n\t\t\t[\"om\", \"ayx\", \"Qlg\"],\r\n\t\t\t[\"eth\", \"IZuj\", \"IDWr\", \"Fvpn\", \"Bs\"],\r\n\t\t\t[\"Mq\", \"YXLTHGi\"],\r\n\t\t\t[\"kcz\", \"Jdw\", \"Rf\", \"VPNb\"]\r\n\t\t];\r\n\t\tlet t1 = \"omayxqlgkczethiujdwrfvpnbs\";\r\n\t\tlet t2 = \"omayxqlgethikczujdwrfvpnbs\";\r\n\t\tlet t3 = \"omayxkczqethlgiujdwrfvpnbs\";\r\n\t\tlet t4 = \"omethqkczayxlgiujdwrfvpnbs\";\r\n\t\tlet p1 = \"omayxlg\";\r\n\t\tlet p2 = \"ethujrvpns\";\r\n\t\tlet p3 = \"qi\";\r\n\t\tlet p4 = \"kczdwfb\";\r\n\t\tsetTimeout(() => this.calculatePath2(map, p3), 50);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet i = 0;\r\n\t\treturn <div>\r\n\t\t\t<div>Shortest: {this.state.total}</div>\r\n\t\t\t{this.state.map && <canvas id=\"solution\" ref=\"canvas\" width={this.state.map[0].length * this.pixel_size} height={this.state.map.length * this.pixel_size} />}\r\n\t\t\t{\r\n\t\t\t\tthis.state.map && <div style={{ fontFamily: \"monospace\", whiteSpace: \"pre\" }}>{this.state.map.map(l => <p key={i++}>{l.join(\"\")}</p>)}</div>\r\n\t\t\t}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S18b extends Solver {\r\n\tstatic hide = true;\r\n}\r\n","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nexport class S19a extends Solver {\r\n\tsolve(input) {\r\n\t\tthis.setState({ solution: input });\r\n\t}\r\n}\r\n\r\nexport class S19b extends Solver {\r\n\trunControls = true;\r\n\r\n\tsolve(input) {\r\n\t\tif (this.running)\r\n\t\t\tthis.setState({ solution: input });\r\n\t}\r\n}","import './App.css';\r\nimport React from 'react';\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport { AppGrid } from './AppGrid';\r\nimport { Solution } from './Solution';\r\nimport {\r\n\tS1a, S1b, S2a, S2b, S3a, S3b, S4a, S4b, S5a, S5b, S6a, S6b, S7a, S7b, S8a, S8b, S9a, S9b,\r\n\tS10a, S10b, S11a, S11b, S12a, S12b, S13a, S13b, S14a, S14b, S15a, S15b, S16a, S16b, S17a, S17b,\r\n\tS18a, S18b, S19a, S19b, S20a, S20b, S21a, S21b, S22a, S22b, S23a, S23b, S24a, S24b, S25a, S25b\r\n} from './Solvers';\r\n\r\nlet solvers = [\r\n\t{ a: S1a, b: S1b },\r\n\t{ a: S2a, b: S2b },\r\n\t{ a: S3a, b: S3b },\r\n\t{ a: S4a, b: S4b },\r\n\t{ a: S5a, b: S5b },\r\n\t{ a: S6a, b: S6b },\r\n\t{ a: S7a, b: S7b },\r\n\t{ a: S8a, b: S8b },\r\n\t{ a: S9a, b: S9b },\r\n\t{ a: S10a, b: S10b },\r\n\t{ a: S11a, b: S11b },\r\n\t{ a: S12a, b: S12b },\r\n\t{ a: S13a, b: S13b },\r\n\t{ a: S14a, b: S14b },\r\n\t{ a: S15a, b: S15b },\r\n\t{ a: S16a, b: S16b },\r\n\t{ a: S17a, b: S17b },\r\n\t{ a: S18a, b: S18b },\r\n\t{ a: S19a, b: S19b },\r\n\t{ a: S20a, b: S20b },\r\n\t{ a: S21a, b: S21b },\r\n\t{ a: S22a, b: S22b },\r\n\t{ a: S23a, b: S23b },\r\n\t{ a: S24a, b: S24b },\r\n\t{ a: S25a, b: S25b }\r\n];\r\n\r\nexport default function App() {\r\n\treturn (\r\n\t\t<Router basename={`${process.env.PUBLIC_URL}`}>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/:day\" render={p => <Solution solvers={solvers} {...p} />} />\r\n\t\t\t\t<Route exact path=\"/\" component={AppGrid} />\r\n\t\t\t\t<Route path=\"/\" render={p => <h2>404 - this puzzle does not exist!</h2>} />\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t);\r\n}\r\n","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nexport class S20a extends Solver {\r\n\tsolve(input) {\r\n\t\tthis.setState({ solution: input });\r\n\t}\r\n}\r\n\r\nexport class S20b extends Solver {\r\n\trunControls = true;\r\n\r\n\tsolve(input) {\r\n\t\tif (this.running)\r\n\t\t\tthis.setState({ solution: input });\r\n\t}\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nexport class S21a extends Solver {\r\n\tsolve(input) {\r\n\t\tthis.setState({ solution: input });\r\n\t}\r\n}\r\n\r\nexport class S21b extends Solver {\r\n\trunControls = true;\r\n\r\n\tsolve(input) {\r\n\t\tif (this.running)\r\n\t\t\tthis.setState({ solution: input });\r\n\t}\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nexport class S22a extends Solver {\r\n\tsolve(input) {\r\n\t\tthis.setState({ solution: input });\r\n\t}\r\n}\r\n\r\nexport class S22b extends Solver {\r\n\trunControls = true;\r\n\r\n\tsolve(input) {\r\n\t\tif (this.running)\r\n\t\t\tthis.setState({ solution: input });\r\n\t}\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nexport class S23a extends Solver {\r\n\tsolve(input) {\r\n\t\tthis.setState({ solution: input });\r\n\t}\r\n}\r\n\r\nexport class S23b extends Solver {\r\n\trunControls = true;\r\n\r\n\tsolve(input) {\r\n\t\tif (this.running)\r\n\t\t\tthis.setState({ solution: input });\r\n\t}\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nexport class S24a extends Solver {\r\n\tsolve(input) {\r\n\t\tthis.setState({ solution: input });\r\n\t}\r\n}\r\n\r\nexport class S24b extends Solver {\r\n\trunControls = true;\r\n\r\n\tsolve(input) {\r\n\t\tif (this.running)\r\n\t\t\tthis.setState({ solution: input });\r\n\t}\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nexport class S25a extends Solver {\r\n\tsolve(input) {\r\n\t\tthis.setState({ solution: input });\r\n\t}\r\n}\r\n\r\nexport class S25b extends Solver {\r\n\trunControls = true;\r\n\r\n\tsolve(input) {\r\n\t\tif (this.running)\r\n\t\t\tthis.setState({ solution: input });\r\n\t}\r\n\r\n\trun = () => {\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.moveTo(0, 0);\r\n\t\tctx.lineTo(200, 200);\r\n\t\tctx.stroke();\r\n\t\tctx.moveTo(0, 200);\r\n\t\tctx.lineTo(200, 0);\r\n\t\tctx.stroke();\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(100, 100, 75, 0, 2 * Math.PI);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <canvas id=\"solution\" ref=\"canvas\" width=\"200\" height=\"200\" />;\r\n\t}\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}