{"version":3,"sources":["AppHeader.js","AppGrid.js","Input.js","Solution.js","Solvers/Solver.js","Solvers/S1.js","Solvers/S2.js","Solvers/S3.js","Solvers/S4.js","Solvers/S5.js","Solvers/S6.js","Solvers/IntCode.js","Solvers/S7.js","util/CssImage.js","util/Drawing.js","Solvers/S8.js","Solvers/S9.js","Solvers/S10.js","Solvers/S11.js","Solvers/S12.js","Solvers/S13.js","Solvers/S14.js","Solvers/S15.js","Solvers/S16.js","Solvers/S17.js","Solvers/S18.js","Solvers/S20.js","Solvers/S22.js","Solvers/S25.js","App.js","Solvers/S19.js","Solvers/S21.js","Solvers/S23.js","Solvers/S24.js","serviceWorker.js","index.js"],"names":["AppHeader","day","this","props","className","type","value","onClick","e","stopPropagation","window","location","href","process","React","Component","AppGrid","Array","apply","length","map","i","key","Input","placeholder","onChange","split","Solution","state","input","fetch","match","params","res","ok","text","txt","startsWith","setState","replace","loadInput","prev","parseInt","s","solvers","target","a","header","b","prototype","solve","Solver","show","runcontrols","running","solution","p","toString","t","console","log","error","run","auto","runControls","asyncSolve","customRender","S1a","x","Math","floor","r1","filter","reduce","n","r2","fuel","S1b","calc","noun","verb","mem","ip","c","S2a","S2b","answer","Coordinate","y","abs","Envelope","u","d","l","r","other","max","min","Grid","cutoff","g","val","Wire","instructions","coordinates","bounds","f","calculateCoordinates","calculateBounds","v","substring","grid","set","undefined","get","push","coord","dist","forEach","ctx","scaling","style","strokeStyle","beginPath","moveTo","round","lineTo","stroke","S3a","wires","wireA","wireB","markGrid","intersections","findIntersections","distance","distCoord","delCoord","delay","distAlong","union","refs","canvas","getContext","clearRect","draw","drawCircle","drawOrigin","size","lineWidth","radius","arc","PI","id","ref","width","height","S3b","Password","string","digits","count","j","join","S4a","cnt","to","range","from","count2","greater","good","good2","inc","S4b","fill","num","positions","dass","m","stdin","stdout","nop","add","mul","shift","output","jmt","jmf","less","eq","S5a","disassembly","memory","memrow","memrows","rows","memoryTable","data","disass","instr","opcode","op","debug","result","S5b","Orbit","orbit","sat","setDistance","setWidth","start","setY","sd","maxDistance","numberAt","offsetX","offsetY","scaleX","scaleY","up","drawTree","S6a","orbits","path","o","dict","k","root","maxDist","density","you","san","yPath","sPath","unshift","lcd","reverse","concat","S6b","Computer","relative_base","rbo","program","slice","combine","arr","p1","p2","p3","p4","p5","S7a","phase","init","amps","amp","res2","calc2","S7b","CssImage","colors","ri","ci","maxcol","backgroundColor","drawFilledCircle","fillStyle","drawLine","x1","y1","x2","y2","drawFilledRect","fillRect","S8a","red","green","blue","layers","splice","zeroes","minzerolayer","checksum","img","z","image","fontFamily","whiteSpace","createImageData","imgPtr","putImageData","S8b","S9a","comp1","comp2","S9b","S10a","dy","dx","sy","sx","y3","x3","lc","visible","calcVisible","sqrt","asin","acos","previous","bearing","sort","convert","destroyOrder","calcAllVisible","destroy","calcOrder","setTimeout","updatePhase","blink","destroyed","drawBase","drawAsteroids","shoot","tgt","firing","margin","fontWeight","color","borderSpacing","S10b","hide","Robot","step","turn","left","right","down","facing","direction","Hull","surface","Error","validate","S11a","hull","rob","move","message","S11b","Moon","endsWith","dz","potentialEnergy","kineticEnergy","name","energy","moveMoons","moons","addGravity","initMoons","S12a","xs","ys","zs","limit","px","py","pz","calculatePeriod","mx","my","mz","prime","period","tot","calculate","toMarkup","renderMoons","S12b","S13a","pixel_size","screen","score","nextInput","cheat","colorList","styles","document","addEventListener","keyCode","paddle","ball","transform","computer","updateScreen","blocks","blockCount","drawWalls","drawGame","tiles","current","display","flexDirection","justifyContent","play","S13b","Reaction","formulae","q","S14a","have","needs","ore","need","reactions","oreneed","maxfuel","next","oreperfuel","maxHelper","done","calcMaxFuel","S14b","north","south","west","east","Map","S15a","terrain","dir","comp","copy","pos","setPos","paths","appendPath","search","fillPaths","explore","appendFill","pumpOxy","S15b","pattern","S16a","offset","first8","times","fft","scratch","fromEnd","relative","S16b","S17a","w","h","main","subA","subB","subC","feed","fromX","toX","fromY","toY","drawScaffold","includes","drawRobot","alignment","String","fromCharCode","drawImage","prg","read","consumeLine","readOutput","dust","charCodeAt","gridTemplateColumns","gridGap","alignContent","runProgram","S17b","keys","doors","Path","isLetter","validCoordinate","portalCoords","idX","idY","eX","eY","pX","pY","directions","reorder","rev","deal","cut","shuffle","deck","increment","dealWithIncrement","position","cutDeck","longMul","gcd","computeMatrix","m2","putCmd","cmd","preCalc","distMap","dists","toLowerCase","steps","tgtSteps","best","keyCount","find","tryMove","quad","inventory","keyPath","findPath","inventoryKeys","calcDoors","scanMap","scanQuadrant","order","total","findShortest","drawMap","part1","calculatePath2","part2","detect","minX","minY","pulls","solve2","portals","Object","hasOwnProperty","call","recurse","lvl","newPos","stop","closePath","coords","drawSegment","drawPath","solveRecursive","findPortals","solveNonRecursive","springCode1","springCode2","code","marginRight","cols","answer1","answer2","len","newDeck","card","pt1","solve1","pt2","net","nat","firstY","sent","idle","cmp","bugCount","bios","bio","tick","maps","ticks","passTime","countBugs","exp","act","rooms","warp","items","autoCmd","translateX","translateY","rect","some","updateMap","enterInput","parseOutput","msg","runCommand","autoCommands","tryCombinations","preventDefault","onKeyPress","handleKey","Boolean","hostname","ReactDOM","render","basename","exact","component","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c9c49e6d.chunk.js","sourcesContent":["import './AppHeader.css';\r\nimport React from 'react';\r\n\r\nexport default class AppHeader extends React.Component {\r\n\trender() {\r\n\t\tlet day = this.props.day;\r\n\t\treturn <header className=\"App-header\">\r\n\t\t\t{day && day > 1 && <input className=\"prev\" type=\"button\" value=\"< Previous\" onClick={e => { e.stopPropagation(); window.location.href = `${process.env.PUBLIC_URL}/#/${day - 1}`; }} />}\r\n\t\t\t{day && day < 25 && <input className=\"next\" type=\"button\" value=\"Next >\" onClick={e => { e.stopPropagation(); window.location.href = `${process.env.PUBLIC_URL}/#/${day + 1}`; }} />}\r\n\t\t\t<div onClick={() => { window.location.href = `${process.env.PUBLIC_URL}/` }}><h1>{day ? `Advent of Code 2019 - Day ${day}` : \"Advent of Code 2019\"}</h1></div>\r\n\t\t</header>\r\n\t}\r\n}\r\n","import './AppGrid.css'\r\nimport React from 'react'\r\nimport AppHeader from './AppHeader';\r\n\r\nexport class AppGrid extends React.Component {\r\n\trender() {\r\n\t\treturn <div className=\"App\">\r\n\t\t\t<AppHeader />\r\n\t\t\t<div className=\"App-grid\">\r\n\t\t\t\t{Array.apply(null, { length: 25 }).map((e, i) =>\r\n\t\t\t\t\t<div key={i} onClick={e => window.location.href = `${process.env.PUBLIC_URL}/#/${i + 1}`}>{i + 1}</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t}\r\n}","import './Input.css';\r\nimport React from 'react';\r\n\r\nexport default class Input extends React.Component {\r\n\trender() {\r\n\t\treturn <div className=\"input\">\r\n\t\t\tInput:\r\n\t\t\t<textarea placeholder=\"<No input yet>\" value={this.props.value} onChange={this.props.onChange}/>\r\n\t\t\tNumber of lines: {this.props.value ? this.props.value.split('\\n').length : 0}\r\n\t\t</div>\r\n\t}\r\n}","import './Solution.css';\r\nimport React from 'react';\r\nimport Input from './Input';\r\nimport AppHeader from './AppHeader';\r\n\r\nexport class Solution extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { input: null };\r\n\t}\r\n\r\n\tasync loadInput(day) {\r\n\t\tif (day) {\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await fetch(`${this.props.match.params.day}.txt`);\r\n\t\t\t\tif (res.ok) {\r\n\t\t\t\t\tlet txt = await res.text();\r\n\t\t\t\t\tif (!txt.startsWith(\"<!DOCTYPE html>\")) {\r\n\t\t\t\t\t\tthis.setState({ input: txt.replace(/\\r/gm, ''), day: this.props.match.params.day });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\tif (state.day !== props.match.params.day) {\r\n\t\t\treturn { input: null, day: props.match.params.day }\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.loadInput(this.props.match.params.day);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prev) {\r\n\t\tif (this.state.input === null) {\r\n\t\t\tthis.loadInput(this.props.match.params.day);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet day = parseInt(this.props.match.params.day);\r\n\t\tlet input = this.state.input;\r\n\r\n\t\tif (day < 1 || day > 25) return <div>\r\n\t\t\t<AppHeader />\r\n\t\t\t<h1>404 - No such day in Advent of Code!</h1>\r\n\t\t</div>\r\n\r\n\t\tlet s = this.props.solvers[day - 1];\r\n\t\treturn <div className=\"App\">\r\n\t\t\t<AppHeader day={day} />\r\n\t\t\t<div className=\"solution\">\r\n\t\t\t\t<div className=\"data\">\r\n\t\t\t\t\t<Input value={input || \"\"} onChange={e => this.setState({ input: e.target.value })} />\r\n\t\t\t\t\t{s ? <s.a header={s.b.prototype.solve ? \"Part 1:\" : \"Solution:\"} input={input} /> : <div className=\"part1\">part1</div>}\r\n\t\t\t\t\t{s && s.b.prototype.solve && <s.b header=\"Part 2:\" input={input} />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t}\r\n}","import './Solver.css';\r\nimport React from 'react';\r\n\r\nexport default class Solver extends React.Component {\r\n\tstate = {};\r\n\tshow = true;\r\n\truncontrols = false;\r\n\trunning = false;\r\n\r\n\tasync asyncSolve(input) {\r\n\t\ttry {\r\n\t\t\tthis.solve(input);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tthis.setState({ error: e });\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.input !== null) {\r\n\t\t\tthis.run(false);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prev) {\r\n\t\tif (this.props.input !== prev.input && this.props.input !== null) {\r\n\t\t\tthis.run(false);\r\n\t\t}\r\n\t}\r\n\r\n\trun(auto) {\r\n\t\ttry {\r\n\t\t\tif (this.runControls) {\r\n\t\t\t\tthis.running = auto;\r\n\t\t\t\tif (!this.running)\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.props.input === null)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tthis.setState({ error: null });\r\n\t\t\tthis.asyncSolve(this.props.input);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tthis.setState({ error: e });\r\n\t\t}\r\n\t}\r\n\r\n\tsolution = p => {\r\n\t\tif (!this.state.solution) return false;\r\n\t\tlet i = 0;\r\n\t\treturn this.state.solution.toString().split(\"\\n\").map(t => <p key={i++}>{t}</p>);\r\n\t}\r\n\r\n\trender() {\r\n\t\ttry {\r\n\t\t\treturn <div className=\"solver\">\r\n\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t{this.props.header}\r\n\t\t\t\t\t{this.runControls && <input type=\"button\" value=\"Solve\" onClick={e => this.run(true)} />}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"result\">\r\n\t\t\t\t\t{this.customRender ? this.customRender() :\r\n\t\t\t\t\t\t(this.state.error ? <div>Error: {this.state.error.toString()}</div> :\r\n\t\t\t\t\t\t\t<this.solution />)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>;\r\n\t\t} catch (e) {\r\n\t\t\treturn <div>Error: {e.toString()}</div>;\r\n\t\t}\r\n\t}\r\n}\r\n","import Solver from './Solver';\r\n\r\nexport class S1a extends Solver {\r\n\tfuel(x) {\r\n\t\tlet a = Math.floor(x / 3) - 2;;\r\n\t\tx = 0;\r\n\t\twhile (a > 0) {\r\n\t\t\tx += a;\r\n\t\t\ta = Math.floor(a / 3) - 2;\r\n\t\t}\r\n\t\treturn x;\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet r1 = input.split(\"\\n\").filter(s => s !== \"\").map(s => Math.floor(parseInt(s) / 3) - 2).reduce((t, n) => t + n);\r\n\t\tlet r2 = input.split(\"\\n\").filter(s => s !== \"\").map(s => this.fuel(parseInt(s))).reduce((t, n) => t + n);\r\n\t\tthis.setState({ solution: `Fuel requirement: ${r1}\\nFuel-adjusted fuel requirement: ${r2}` });\r\n\t}\r\n}\r\n\r\nexport class S1b extends Solver {\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nfunction calc(input, noun, verb) {\r\n\tif (input === null) return;\r\n\tlet mem = input.split(\",\").map(s => parseInt(s));\r\n\tlet ip = 0;\r\n\tif (noun)\r\n\t\tmem[1] = noun;\r\n\tif (verb)\r\n\t\tmem[2] = verb;\r\n\twhile (mem[ip] !== 99) {\r\n\t\tlet a = mem[ip + 1];\r\n\t\tlet b = mem[ip + 2];\r\n\t\tlet c = mem[ip + 3];\r\n\t\ta = mem[a];\r\n\t\tb = mem[b];\r\n\t\tif (mem[ip] === 1) {\r\n\t\t\tmem[c] = a + b;\r\n\t\t} else if (mem[ip] === 2) {\r\n\t\t\tmem[c] = a * b;\r\n\t\t}\r\n\t\tip += 4;\r\n\t}\r\n\treturn mem;\r\n}\r\n\r\nexport class S2a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet res = calc(input, 12, 2);\r\n\t\tthis.setState({ solution: res && res.reduce((t, n) => t + \",\\n\" + n) });\r\n\t}\r\n}\r\n\r\nexport class S2b extends Solver {\r\n\tsolve(input) {\r\n\t\tlet answer = 0;\r\n\t\tfor (var noun = 0; noun < 100; noun++) {\r\n\t\t\tfor (var verb = 0; verb < 100; verb++) {\r\n\t\t\t\tlet mem = calc(input, noun, verb);\r\n\t\t\t\tif (mem[0] === 19690720) {\r\n\t\t\t\t\tanswer = 100 * noun + verb;\r\n\t\t\t\t\tthis.setState({ solution: `Answer: ${answer}\\n` + mem.reduce((t, n) => t + \",\\n\" + n) });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Coordinate {\r\n\tconstructor(x, y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tdistance() {\r\n\t\treturn Math.abs(this.x) + Math.abs(this.y);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `{ x: ${this.x}, y: ${this.y}}`;\r\n\t}\r\n}\r\n\r\nclass Envelope {\r\n\tconstructor(u, d, l, r) {\r\n\t\tthis.u = u;\r\n\t\tthis.d = d;\r\n\t\tthis.l = l;\r\n\t\tthis.r = r;\r\n\t}\r\n\r\n\tunion(other) {\r\n\t\treturn new Envelope(Math.max(this.u, other.u), Math.min(this.d, other.d), Math.min(this.l, other.l), Math.max(this.r, other.r));\r\n\t}\r\n}\r\n\r\nclass Grid {\r\n\tg = [];\r\n\r\n\tconstructor(cutoff) {\r\n\t\tthis.cutoff = cutoff;\r\n\t}\r\n\r\n\tget(x, y) {\r\n\t\tif (!this.g[x]) this.g[x] = [];\r\n\t\treturn this.g[x][y];\r\n\t}\r\n\r\n\tset(x, y, val) {\r\n\t\tif (!this.g[x]) this.g[x] = [];\r\n\t\tthis.g[x][y] = val;\r\n\t}\r\n}\r\n\r\nclass Wire {\r\n\tinstructions = [];\r\n\tcoordinates = [new Coordinate(0, 0)];\r\n\tbounds = new Envelope(0, 0, 0, 0);\r\n\tf = [];\r\n\r\n\tconstructor(input) {\r\n\t\tthis.f[\"U\"] = new Coordinate(0, 1);\r\n\t\tthis.f[\"D\"] = new Coordinate(0, -1);\r\n\t\tthis.f[\"L\"] = new Coordinate(-1, 0);\r\n\t\tthis.f[\"R\"] = new Coordinate(1, 0);\r\n\t\tthis.calculateCoordinates(input.split(\",\"));\r\n\t\tthis.calculateBounds();\r\n\t}\r\n\r\n\tcalculateCoordinates(instructions) {\r\n\t\tthis.instructions = instructions;\r\n\t\tfor (var i = 0; i < instructions.length; i++) {\r\n\t\t\tlet x = instructions[i];\r\n\t\t\tlet v = this.f[x[0]];\r\n\t\t\tlet d = parseInt(x.substring(1));\r\n\t\t\tlet f = this.coordinates[i];\r\n\t\t\tlet t = new Coordinate(f.x + v.x * d, f.y + v.y * d);\r\n\t\t\t/*\r\n\t\t\twhile (d > 0) {\r\n\t\t\t\tt.x += v.x;\r\n\t\t\t\tt.y += v.y;\r\n\t\t\t\td--;\r\n\t\t\t\tthis.grid.set(t.x, t.y, 1);\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tthis.coordinates[i + 1] = t;\r\n\t\t}\r\n\t}\r\n\r\n\tmarkGrid(grid) {\r\n\t\tgrid.set(0, 0, 1);\r\n\t\tfor (var i = 0; i < this.instructions.length; i++) {\r\n\t\t\tlet x = this.instructions[i];\r\n\t\t\tlet v = this.f[x[0]];\r\n\t\t\tlet d = parseInt(x.substring(1));\r\n\t\t\tlet f = this.coordinates[i];\r\n\t\t\tlet t = new Coordinate(f.x, f.y);\r\n\t\t\twhile (d > 0) {\r\n\t\t\t\tt.x += v.x;\r\n\t\t\t\tt.y += v.y;\r\n\t\t\t\td--;\r\n\t\t\t\tgrid.set(t.x, t.y, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfindIntersections(grid) {\r\n\t\tlet res = [];\r\n\t\tfor (var i = 0; i < this.instructions.length; i++) {\r\n\t\t\tlet x = this.instructions[i];\r\n\t\t\tlet v = this.f[x[0]];\r\n\t\t\tlet d = parseInt(x.substring(1));\r\n\t\t\tlet f = this.coordinates[i];\r\n\t\t\tlet t = new Coordinate(f.x, f.y);\r\n\t\t\twhile (d > 0) {\r\n\t\t\t\tt.x += v.x;\r\n\t\t\t\tt.y += v.y;\r\n\t\t\t\td--;\r\n\t\t\t\tif (grid.get(t.x, t.y) !== undefined) res.push(new Coordinate(t.x, t.y));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n\tdistAlong(coord) {\r\n\t\tlet dist = 0;\r\n\t\tfor (var i = 0; i < this.instructions.length; i++) {\r\n\t\t\tlet x = this.instructions[i];\r\n\t\t\tlet v = this.f[x[0]];\r\n\t\t\tlet d = parseInt(x.substring(1));\r\n\t\t\tlet f = this.coordinates[i];\r\n\t\t\tlet t = new Coordinate(f.x, f.y);\r\n\t\t\twhile (d > 0) {\r\n\t\t\t\tt.x += v.x;\r\n\t\t\t\tt.y += v.y;\r\n\t\t\t\td--;\r\n\t\t\t\tdist++;\r\n\t\t\t\tif (t.x === coord.x && t.y === coord.y) {\r\n\t\t\t\t\treturn dist;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dist;\r\n\t}\r\n\r\n\tcalculateBounds() {\r\n\t\tthis.coordinates.forEach(c => {\r\n\t\t\tif (c.x > this.bounds.r) this.bounds.r = c.x;\r\n\t\t\tif (c.x < this.bounds.l) this.bounds.l = c.x;\r\n\t\t\tif (c.y > this.bounds.u) this.bounds.u = c.y;\r\n\t\t\tif (c.y < this.bounds.d) this.bounds.d = c.y;\r\n\t\t});\r\n\t}\r\n\r\n\tdraw(ctx, scaling, style) {\r\n\t\tctx.strokeStyle = style;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(250, 250);\r\n\t\tfor (var i = 1; i < this.coordinates.length; i++) {\r\n\t\t\tlet x = 250 + Math.round(250 * this.coordinates[i].x / scaling);\r\n\t\t\tlet y = 250 - Math.round(250 * this.coordinates[i].y / scaling);\r\n\t\t\tctx.lineTo(x, y);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `Wire:\\n#coordinates: ${this.coordinates.length}\\nbounds: [ Up:${this.bounds.u}, Down:${this.bounds.d}, Left:${this.bounds.l}, Right:${this.bounds.r}]`;\r\n\t}\r\n}\r\n\r\nexport class S3a extends Solver {\r\n\tstate = {}\r\n\r\n\tsolve(input) {\r\n\t\tlet grid = new Grid();\r\n\t\tlet wires = input.split(\"\\n\");\r\n\t\tlet wireA = new Wire(wires[0], grid);\r\n\t\tlet wireB = new Wire(wires[1]);\r\n\t\twireA.markGrid(grid);\r\n\t\tlet intersections = wireB.findIntersections(grid);\r\n\t\tlet distance = 0;\r\n\t\tlet distCoord = 0;\r\n\t\tintersections.forEach(i => {\r\n\t\t\tif (distance === 0 || i.distance() < distance) {\r\n\t\t\t\tdistance = i.distance();\r\n\t\t\t\tdistCoord = i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet delay = 0;\r\n\t\tlet delCoord;\r\n\t\tintersections.forEach(i => {\r\n\t\t\tlet d = wireA.distAlong(i) + wireB.distAlong(i);\r\n\t\t\tif (delay === 0 || d < delay) {\r\n\t\t\t\tdelay = d;\r\n\t\t\t\tdelCoord = i;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet bounds = wireA.bounds.union(wireB.bounds);\r\n\t\tlet scaling = 100 * (Math.floor(Math.max(bounds.u, -bounds.d, -bounds.l, bounds.r) / 100) + 1);\r\n\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, 500, 500);\r\n\t\twireA.draw(ctx, scaling, \"#00FF00\");\r\n\t\twireB.draw(ctx, scaling, \"#0000FF\");\r\n\t\tthis.drawCircle(ctx, distCoord, 5, scaling, \"#FF0000\", 3);\r\n\t\tthis.drawCircle(ctx, delCoord, 5, scaling, \"#FF0000\", 3);\r\n\t\tthis.drawOrigin(ctx, 20, scaling, \"#3F3F3F\");\r\n\r\n\t\tthis.setState({ wireA: wireA, wireB: wireB, intersections: intersections, distance: distance, distCoord: distCoord, delay: delay, delCoord: delCoord, scaling: scaling });\r\n\t}\r\n\r\n\tdrawOrigin(ctx, size, scaling, style) {\r\n\t\tctx.strokeStyle = style;\r\n\t\tctx.lineWidth = 1;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(250 - size, 250);\r\n\t\tctx.lineTo(250 + size, 250);\r\n\t\tctx.stroke();\r\n\t\tctx.moveTo(250, 250 - size);\r\n\t\tctx.lineTo(250, 250 + size);\r\n\t\tctx.stroke();\r\n\t\tthis.drawCircle(ctx, new Coordinate(0, 0), size * 0.75, scaling, style, 1);\r\n\t}\r\n\r\n\tdrawCircle(ctx, coord, radius, scaling, style, lineWidth) {\r\n\t\tlet x = 250 + Math.round(250 * coord.x / scaling);\r\n\t\tlet y = 250 - Math.round(250 * coord.y / scaling);\r\n\t\tctx.strokeStyle = style;\r\n\t\tctx.lineWidth = lineWidth;\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(x, y, radius, 0, 2 * Math.PI);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet bounds = { u: 0, d: 0, l: 0, r: 0 };\r\n\t\tif (this.state.wireA && this.state.wireB) {\r\n\t\t\tbounds = this.state.wireA.bounds.union(this.state.wireB.bounds);\r\n\t\t}\r\n\r\n\t\treturn <div>\r\n\t\t\t<canvas id=\"solution\" ref=\"canvas\" width=\"500\" height=\"500\" />\r\n\t\t\t<p>Wire A: {this.state.wireA && this.state.wireA.coordinates.length} coordinates</p>\r\n\t\t\t<p>Wire B: {this.state.wireA && this.state.wireA.coordinates.length} coordinates</p>\r\n\t\t\t<p>Bounds: [ Up: {bounds.u}, Down: {bounds.d}, Left: {bounds.l}, Right: {bounds.r}]</p>\r\n\t\t\t<p>{this.state.intersections && this.state.intersections.length} intersections</p>\r\n\t\t\t<p>Distance to closest intersection: {this.state.distance} {this.state.distCoord && `(${this.state.distCoord.x},${this.state.distCoord.y})`}</p>\r\n\t\t\t<p>Delay to closest intersection: {this.state.delay} {this.state.distCoord && `(${this.state.delCoord.x},${this.state.delCoord.y})`}</p>\r\n\t\t\t<p>Scaling: {this.state.scaling}</p>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S3b extends Solver {\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Password {\r\n\tconstructor(string) {\r\n\t\tthis.digits = string.split(\"\").map(c => parseInt(c));\r\n\t}\r\n\r\n\tequal(b) {\r\n\t\tfor (var i = 0; i < this.digits.length; i++) if (this.digits[i] !== b.digits[i]) return false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tlesser(b) {\r\n\t\tfor (var i = 0; i < this.digits.length; i++) {\r\n\t\t\tif (this.digits[i] < b.digits[i]) return true;\r\n\t\t\tif (this.digits[i] > b.digits[i]) return false;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tgreater(b) {\r\n\t\tfor (var i = 0; i < this.digits.length; i++) {\r\n\t\t\tif (this.digits[i] < b.digits[i]) return false;\r\n\t\t\tif (this.digits[i] > b.digits[i]) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tinc() {\r\n\t\tlet i = this.digits.length;\r\n\t\twhile (i > 0) {\r\n\t\t\ti--;\r\n\t\t\tif (this.digits[i] < 9) {\r\n\t\t\t\tthis.digits[i]++;\r\n\t\t\t\ti++;\r\n\t\t\t\twhile (i < this.digits.length) {\r\n\t\t\t\t\tthis.digits[i] = this.digits[i - 1];\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgood() {\r\n\t\tlet res = false;\r\n\t\tfor (var i = 0; i < this.digits.length - 1; i++) {\r\n\t\t\tif (this.digits[i + 1] < this.digits[i]) return false;\r\n\t\t\tif (this.digits[i + 1] === this.digits[i]) res = true;\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n\tgood2() {\r\n\t\tlet count = 1;\r\n\t\tfor (var i = 0; i < this.digits.length - 1; i++) {\r\n\t\t\tif (this.digits[i + 1] < this.digits[i]) return false;\r\n\t\t}\r\n\t\tfor (var j = 1; j < this.digits.length; j++) {\r\n\t\t\tif (this.digits[j] === this.digits[j - 1]) count++;\r\n\t\t\telse if (count === 2) return true;\r\n\t\t\telse count = 1;\r\n\t\t}\r\n\t\treturn count === 2;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn this.digits.join();\r\n\t}\r\n}\r\n\r\nexport class S4a extends Solver {\r\n\t// Bonus solution\r\n\tsolve2(input) {\r\n\t\tlet cnt = 0, to = parseInt(input.split(\"-\")[1]);\r\n\t\tfor (var p = parseInt(input.split(\"-\")[0]); p <= to; p++) {\r\n\t\t\tlet d = p.toString().split(\"\").map(c => parseInt(c));\r\n\t\t\tif (!(d[0] > d[1] || d[1] > d[2] || d[2] > d[3] || d[3] > d[4] || d[4] > d[5])\r\n\t\t\t\t&& (d[0] === d[1] || d[1] === d[2] || d[2] === d[3] || d[3] === d[4] || d[4] === d[5]))\r\n\t\t\t\tcnt++;\r\n\t\t}\r\n\t\tconsole.log(`#passwords: ${cnt}`);\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\t// this.solve2(input);\r\n\t\tlet range = input.split(\"-\");\r\n\t\tlet from = new Password(range[0]);\r\n\t\tlet i = new Password(range[0]);\r\n\t\tlet to = new Password(range[1]);\r\n\t\tlet count = 0;\r\n\t\tlet count2 = 0;\r\n\r\n\t\twhile (!i.greater(to)) {\r\n\t\t\tif (i.good()) count++;\r\n\t\t\tif (i.good2()) count2++;\r\n\t\t\ti.inc();\r\n\t\t}\r\n\r\n\t\tconsole.log(new Password(\"112233\").good2());\r\n\t\tconsole.log(new Password(\"123444\").good2());\r\n\t\tconsole.log(new Password(\"111122\").good2());\r\n\r\n\t\tthis.setState({ solution: `From: ${from.toString()}\\nTo: ${to.toString()}\\n#passwords(1): ${count}\\n#passwords(2): ${count2}` });\r\n\t}\r\n}\r\n\r\nexport class S4b extends Solver {\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nfunction fill(num, positions) {\r\n\tif (num === undefined) return \"\";\r\n\tif (num < 0) return \"-\" + fill(-num, positions - 1);\r\n\tlet res = num.toString();\r\n\twhile (res.length < positions) res = \"0\" + res;\r\n\treturn res;\r\n}\r\n\r\nfunction dass(mem, ip, positions) {\r\n\tlet i = ip;\r\n\tlet m = [];\r\n\twhile (positions-- > 0) { m.push(fill(mem[i++], 5)); }\r\n\treturn `${fill(ip, 4)}: {${m.join(\", \")}}`;\r\n}\r\n\r\nlet stdin = [];\r\nlet stdout = [];\r\n\r\nclass nop {\r\n\tp = [];\r\n\tdebug(mem, ip) { return `${dass(mem, ip, 4)} NOP`; }\r\n\top(mem, ip) { return ip + 1; }\r\n}\r\n\r\nclass add {\r\n\tp = [true, true, false];\r\n\tdebug(mem, ip, a, b, c) { return `${dass(mem, ip, 4)} mem[${c}] = ${a}+${b} (${a + b})`; }\r\n\top(mem, ip, a, b, c) { mem[c] = a + b; return ip + 4; }\r\n}\r\n\r\nclass mul {\r\n\tp = [true, true, false];\r\n\tdebug(mem, ip, a, b, c) { return `${dass(mem, ip, 4)} mem[${c}] = ${a}*${b} (${a * b})`; }\r\n\top(mem, ip, a, b, c) { mem[c] = a * b; return ip + 4; }\r\n}\r\n\r\nclass input {\r\n\tp = [false];\r\n\tdebug(mem, ip, a) { return `${dass(mem, ip, 2)} input mem[${a}] (${stdin[0]})`; }\r\n\top(mem, ip, a) { mem[a] = stdin.shift(); return ip + 2; }\r\n}\r\n\r\nclass output {\r\n\tp = [true];\r\n\tdebug(mem, ip, a) { return `${dass(mem, ip, 2)} output ${a}`; }\r\n\top(mem, ip, a) { stdout.push(a); return ip + 2; }\r\n}\r\n\r\nclass jmt {\r\n\tp = [true, true];\r\n\tdebug(mem, ip, a, b) { return `${dass(mem, ip, 3)} jmt ${a}, ${b}`; }\r\n\top(mem, ip, a, b) { return a ? b : ip + 3; }\r\n}\r\n\r\nclass jmf {\r\n\tp = [true, true];\r\n\tdebug(mem, ip, a, b) { return `${dass(mem, ip, 3)} jmf ${a}, ${b}`; }\r\n\top(mem, ip, a, b) { return a ? ip + 3 : b; }\r\n}\r\n\r\nclass less {\r\n\tp = [true, true, false];\r\n\tdebug(mem, ip, a, b, c) { return `${dass(mem, ip, 4)} less ${a}, ${b}, ${c} (${a < b})`; }\r\n\top(mem, ip, a, b, c) { mem[c] = a < b ? 1 : 0; return ip + 4; }\r\n}\r\n\r\nclass eq {\r\n\tp = [true, true, false];\r\n\tdebug(mem, ip, a, b, c) { return `${dass(mem, ip, 4)} eq ${a}, ${b}, ${c} (${a === b})`; }\r\n\top(mem, ip, a, b, c) { mem[c] = a === b ? 1 : 0; return ip + 4; }\r\n}\r\n\r\nfunction calc(mem, data) {\r\n\tstdin = data;\r\n\tstdout = [];\r\n\tlet disass = [];\r\n\tlet instr = [\r\n\t\tnew nop(),\r\n\t\tnew add(),\r\n\t\tnew mul(),\r\n\t\tnew input(),\r\n\t\tnew output(),\r\n\t\tnew jmt(),\r\n\t\tnew jmf(),\r\n\t\tnew less(),\r\n\t\tnew eq()\r\n\t];\r\n\r\n\tlet ip = 0;\r\n\twhile (mem[ip] !== 99) {\r\n\t\tlet opcode = mem[ip];\r\n\t\tlet op = instr[opcode % 100];\r\n\t\tlet a = mem[ip + 1];\r\n\t\tlet b = mem[ip + 2];\r\n\t\tlet c = mem[ip + 3];\r\n\t\tif (opcode % 1000 < 100 && op.p[0]) a = mem[a];\r\n\t\tif (opcode % 10000 < 1000 && op.p[1]) b = mem[b];\r\n\t\tif (opcode % 100000 < 10000 && op.p[2]) c = mem[c];\r\n\t\tdisass.push(op.debug(mem, ip, a, b, c));\r\n\t\tip = op.op(mem, ip, a, b, c);\r\n\t}\r\n\r\n\treturn { mem: mem, stdout: stdout, disassembly: disass };\r\n}\r\n\r\nexport class S5a extends Solver {\r\n\trunControls = true;\r\n\tstate = { input: 1, disassembly: [], memory: [] }\r\n\r\n\tsolve(input) {\r\n\t\tif (input) {\r\n\t\t\tlet mem = input.split(\",\").map(s => parseInt(s));\r\n\t\t\tlet stdin = [this.state.input];\r\n\t\t\tlet res = calc(mem, stdin);\r\n\t\t\tthis.setState({\r\n\t\t\t\tmemory: res.mem,\r\n\t\t\t\toutput: res.stdout,\r\n\t\t\t\tdisassembly: res.disassembly\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tmemrow = p => {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tmemrows = p => {\r\n\t\tlet i = 0;\r\n\t\tlet rows = [];\r\n\t\twhile (i < p.value.length) {\r\n\t\t\trows.push(<tr key={i}>\r\n\t\t\t\t<td>{fill(i, 3)}:</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t\t<td>{fill(p.value[i++], 5)}</td>\r\n\t\t\t</tr>);\r\n\t\t}\r\n\t\treturn rows;\r\n\t}\r\n\r\n\tmemoryTable = p => {\r\n\t\tif (!p.value) return null;\r\n\t\treturn <div>\r\n\t\t\t<p>Memory: {p.value.length} positions</p>\r\n\t\t\t<table>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<this.memrows value={p.value} />\r\n\t\t\t\t</tbody>\r\n\t\t\t</table></div>;\r\n\t}\r\n\r\n\tresult() {\r\n\t\tlet i = 1;\r\n\t\treturn <div>\r\n\t\t\t<div>{this.state.output && \"Output: \" + this.state.output.join(\", \")}</div>\r\n\t\t\t<div>Debug:<br />{this.state.disassembly && this.state.disassembly.map(d => <span key={i++}>{d}<br /></span>)}</div>\r\n\t\t\t<this.memoryTable value={this.state.memory} />\r\n\t\t</div>;\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<div>Input: <input value={this.state.input} onChange={e => this.setState({ input: parseInt(e.target.value) || 0 })} /></div>\r\n\t\t\t{this.state.error ? <div>Error: {this.state.error.toString()}</div> : this.result()}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S5b extends S5a {\r\n\tstate = { input: 5, disassembly: [], memory: [] }\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Orbit {\r\n\tconstructor(id, orbit) {\r\n\t\tthis.id = id;\r\n\t\tthis.orbit = orbit;\r\n\t\tthis.sat = [];\r\n\t}\r\n\r\n\tsetDistance(d) {\r\n\t\tthis.dist = d;\r\n\t\tthis.sat.forEach(s => s.setDistance(d + 1));\r\n\t}\r\n\r\n\tsetWidth() {\r\n\t\tthis.sat.forEach(s => s.setWidth());\r\n\t\tif (this.sat.length === 0) this.width = 1;\r\n\t\telse this.width = this.sat.map(s => s.width).reduce((t, n) => t + n);\r\n\t}\r\n\r\n\tsetY(start) {\r\n\t\tthis.y = start + Math.floor(this.width / 2);\r\n\t\tthis.sat.forEach(s => {\r\n\t\t\ts.setY(start);\r\n\t\t\tstart += s.width;\r\n\t\t});\r\n\t}\r\n\r\n\tmaxDistance() {\r\n\t\tvar d = this.dist;\r\n\t\tthis.sat.forEach(s => {\r\n\t\t\tlet sd = s.maxDistance();\r\n\t\t\tif (sd > d) d = sd;\r\n\t\t});\r\n\t\treturn d;\r\n\t}\r\n\r\n\tnumberAt(distance) {\r\n\t\tif (distance === this.dist) return 1;\r\n\t\tif (this.sat.length === 0) return 0;\r\n\t\treturn this.sat.map(s => s.numberAt(distance)).reduce((t, n) => t + n);\r\n\t}\r\n\r\n\tdraw(ctx, offsetX, offsetY, scaleX, scaleY, style) {\r\n\t\tctx.strokeStyle = style;\r\n\t\tctx.lineWidth = 1;\r\n\t\tif (this.up) {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(this.up.dist * scaleX + offsetX, this.up.y * scaleY + offsetY);\r\n\t\t\tctx.lineTo(this.dist * scaleX + offsetX, this.y * scaleY + offsetY);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t}\r\n\r\n\tdrawTree(ctx, offsetX, offsetY, scaleX, scaleY, style) {\r\n\t\tthis.draw(ctx, offsetX, offsetY, scaleX, scaleY, style);\r\n\t\tthis.sat.forEach(s => s.drawTree(ctx, offsetX, offsetY, scaleX, scaleY, style));\r\n\t}\r\n}\r\n\r\nexport class S6a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet orbits = input.split(\"\\n\").map(o => o.split(\")\")).map(o => new Orbit(o[1], o[0]));\r\n\t\torbits.push(new Orbit(\"COM\", null));\r\n\t\tlet dict = {};\r\n\t\torbits.forEach(o => { dict[o.id] = o; });\r\n\t\tlet count = 0;\r\n\t\tfor (var k in dict) {\r\n\t\t\tlet o = dict[k];\r\n\t\t\tif (o.orbit) {\r\n\t\t\t\to.up = dict[o.orbit];\r\n\t\t\t\to.up.sat.push(o);\r\n\t\t\t}\r\n\t\t\twhile (o && o.orbit !== null) {\r\n\t\t\t\to = dict[o.orbit];\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet root = dict[\"COM\"];\r\n\t\troot.setDistance(0);\r\n\t\tlet maxDist = root.maxDistance();\r\n\t\tlet density = [];\r\n\t\tfor (let i = 0; i <= maxDist; i++) {\r\n\t\t\tdensity.push(root.numberAt(i));\r\n\t\t}\r\n\t\troot.setWidth();\r\n\t\troot.setY(0);\r\n\t\tconsole.log(root);\r\n\r\n\t\tlet scaleY = 560 / maxDist;\r\n\t\tlet scaleX = 500 / root.width;\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, 600, 600);\r\n\t\troot.drawTree(ctx, 20, 50, scaleX, scaleY, \"#00FF00\");\r\n\r\n\t\tlet you = dict[\"YOU\"];\r\n\t\tlet san = dict[\"SAN\"];\r\n\t\tyou.draw(ctx, 20, 50, scaleX, scaleY, \"#FF0000\");\r\n\t\tsan.draw(ctx, 20, 50, scaleX, scaleY, \"#FF0000\");\r\n\t\tlet yPath = [];\r\n\t\tlet sPath = [];\r\n\t\twhile (you.orbit !== null) { yPath.unshift(you.up); you = you.up; }\r\n\t\twhile (san.orbit !== null) { sPath.unshift(san.up); san = san.up; }\r\n\t\tlet lcd = null;\r\n\t\twhile (yPath[0].id === sPath[0].id) {\r\n\t\t\tlcd = yPath.shift();\r\n\t\t\tsPath.shift();\r\n\t\t}\r\n\t\tyPath.forEach(p => { p.draw(ctx, 20, 50, scaleX, scaleY, \"#FF0000\"); });\r\n\t\tsPath.forEach(p => { p.draw(ctx, 20, 50, scaleX, scaleY, \"#FF0000\"); });\r\n\t\tyPath.reverse();\r\n\t\tyPath.push(lcd);\r\n\t\tlet path = yPath.concat(sPath);\r\n\t\tthis.setState({\r\n\t\t\torbits: orbits,\r\n\t\t\tcount: count,\r\n\t\t\tpath: path\r\n\t\t});\r\n\t}\r\n\r\n\tcustomRender = p => {\r\n\t\treturn <div>\r\n\t\t\t<p>Orbits: {this.state.orbits && this.state.orbits.length}</p>\r\n\t\t\t<p>Count: {this.state.count}</p>\r\n\t\t\t<p>Hops from you to santa: {this.state.path && this.state.path.length - 1}</p>\r\n\t\t\t<canvas id=\"solution\" ref=\"canvas\" width=\"600\" height=\"600\" />\r\n\t\t\t{false && this.state.path && <p>{this.state.path.map(s => <span key={s}>{s}<br /></span>)}</p>}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S6b extends Solver {\r\n}","export class Computer {\r\n\tfill(num, positions) {\r\n\t\tif (num === undefined) return \"\";\r\n\t\tif (num < 0) return \"-\" + this.fill(-num, positions - 1);\r\n\t\tlet res = num.toString();\r\n\t\twhile (res.length < positions) res = \"0\" + res;\r\n\t\treturn res;\r\n\t}\r\n\r\n\tdass(ip, positions) {\r\n\t\tlet i = ip;\r\n\t\tlet m = [];\r\n\t\twhile (positions-- > 0) { m.push(this.fill(this.mem[i++], 5)); }\r\n\t\treturn `${this.fill(ip, 4)}: {${m.join(\", \")}}`;\r\n\t}\r\n\r\n\tnop = {\r\n\t\tp: [],\r\n\t\tdebug: (ip) => { return `${this.dass(ip, 4)} NOP`; },\r\n\t\top: (ip) => { return ip + 1; }\r\n\t}\r\n\r\n\tadd = {\r\n\t\tp: [true, true, false],\r\n\t\tdebug: (ip, a, b, c) => { return `${this.dass(ip, 4)} mem[${c}] = ${a}+${b} (${a + b})`; },\r\n\t\top: (ip, a, b, c) => { this.mem[c] = a + b; return ip + 4; }\r\n\t}\r\n\r\n\tmul = {\r\n\t\tp: [true, true, false],\r\n\t\tdebug: (ip, a, b, c) => { return `${this.dass(ip, 4)} mem[${c}] = ${a}*${b} (${a * b})`; },\r\n\t\top: (ip, a, b, c) => { this.mem[c] = a * b; return ip + 4; }\r\n\t}\r\n\r\n\tinput = {\r\n\t\tp: [false],\r\n\t\tdebug: (ip, a) => { return `${this.dass(ip, 2)} input mem[${a}] (${this.stdin[0]})`; },\r\n\t\top: (ip, a) => { this.mem[a] = this.stdin.shift(); return ip + 2; }\r\n\t}\r\n\r\n\toutput = {\r\n\t\tp: [true],\r\n\t\tdebug: (ip, a) => { return `${this.dass(ip, 2)} output ${a}`; },\r\n\t\top: (ip, a) => { this.stdout.push(a); return ip + 2; }\r\n\t}\r\n\r\n\tjmt = {\r\n\t\tp: [true, true],\r\n\t\tdebug: (ip, a, b) => { return `${this.dass(ip, 3)} jmt ${a}, ${b}`; },\r\n\t\top: (ip, a, b) => { return a ? b : ip + 3; }\r\n\t}\r\n\r\n\tjmf = {\r\n\t\tp: [true, true],\r\n\t\tdebug: (ip, a, b) => { return `${this.dass(ip, 3)} jmf ${a}, ${b}`; },\r\n\t\top: (ip, a, b) => { return a ? ip + 3 : b; }\r\n\t}\r\n\r\n\tless = {\r\n\t\tp: [true, true, false],\r\n\t\tdebug: (ip, a, b, c) => { return `${this.dass(ip, 4)} less ${a}, ${b}, ${c} (${a < b})`; },\r\n\t\top: (ip, a, b, c) => { this.mem[c] = a < b ? 1 : 0; return ip + 4; }\r\n\t}\r\n\r\n\teq = {\r\n\t\tp: [true, true, false],\r\n\t\tdebug: (ip, a, b, c) => { return `${this.dass(ip, 4)} eq ${a}, ${b}, ${c} (${a === b})`; },\r\n\t\top: (ip, a, b, c) => { this.mem[c] = a === b ? 1 : 0; return ip + 4; }\r\n\t}\r\n\r\n\trelative_base = 0;\r\n\r\n\trbo = {\r\n\t\tp: [true],\r\n\t\tdebug: (ip, a) => { return `${this.dass(ip, 2)} rbo ${a}`; },\r\n\t\top: (ip, a) => { this.relative_base += a; return ip + 2; }\r\n\t}\r\n\r\n\tinstr = [\r\n\t\tthis.nop, // 0\r\n\t\tthis.add, // 1\r\n\t\tthis.mul, // 2\r\n\t\tthis.input, // 3\r\n\t\tthis.output, // 4\r\n\t\tthis.jmt,  // 5\r\n\t\tthis.jmf, // 6\r\n\t\tthis.less, // 7\r\n\t\tthis.eq, // 8\r\n\t\tthis.rbo // 9\r\n\t];\r\n\r\n\tconstructor() {\r\n\t\tthis.mem = [];\r\n\t\tthis.stdin = [];\r\n\t\tthis.stdout = [];\r\n\t\tthis.disass = [];\r\n\t\tthis.ip = 0;\r\n\t}\r\n\r\n\tinit(program, input, output) {\r\n\t\tthis.mem = program.split(\",\").map(c => parseInt(c));\r\n\t\tif (input) this.stdin = input;\r\n\t\tif (output) this.stdout = output;\r\n\t\tthis.ip = 0;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tcopy() {\r\n\t\tlet n = new Computer();\r\n\t\tn.mem = this.mem.slice();\r\n\t\tn.relative_base = this.relative_base;\r\n\t\tn.ip = this.ip;\r\n\t\treturn n;\r\n\t}\r\n\r\n\trun() {\r\n\t\twhile (this.mem[this.ip] !== 99) {\r\n\t\t\tlet opcode = this.mem[this.ip];\r\n\t\t\tif (opcode % 100 === 3 && this.stdin.length === 0) return 1;\r\n\t\t\tlet op = this.instr[opcode % 100];\r\n\t\t\tlet a = this.mem[this.ip + 1];\r\n\t\t\tlet b = this.mem[this.ip + 2];\r\n\t\t\tlet c = this.mem[this.ip + 3];\r\n\t\t\tif (opcode % 1000 < 100 && op.p[0]) a = this.mem[a];\r\n\t\t\tif (opcode % 1000 > 199) { a += this.relative_base; if (op.p[0]) { a = this.mem[a]; } }\r\n\t\t\tif (opcode % 10000 < 1000 && op.p[1]) b = this.mem[b];\r\n\t\t\tif (opcode % 10000 > 1999) { b += this.relative_base; if (op.p[1]) { b = this.mem[b]; } }\r\n\t\t\tif (opcode % 100000 < 10000 && op.p[2]) c = this.mem[c];\r\n\t\t\tif (opcode % 100000 > 19999) { c += this.relative_base; if (op.p[2]) { c = this.mem[c]; } }\r\n\t\t\tif (this.debug) { console.log(op.debug(this.ip, a, b, c)); }\r\n\t\t\tthis.ip = op.op(this.ip, a, b, c);\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n}\r\n","// import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\n\r\nfunction combine(arr, f) {\r\n\tarr.forEach(p1 => {\r\n\t\tarr.forEach(p2 => {\r\n\t\t\tif (p2 !== p1) arr.forEach(p3 => {\r\n\t\t\t\tif (p3 !== p2 && p3 !== p1) arr.forEach(p4 => {\r\n\t\t\t\t\tif (p4 !== p3 && p4 !== p2 && p4 !== p1) arr.forEach(p5 => {\r\n\t\t\t\t\t\tif (p5 !== p4 && p5 !== p3 && p5 !== p2 && p5 !== p1) f([p1, p2, p3, p4, p5]);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport class S7a extends Solver {\r\n\tcalc(input, phase) {\r\n\t\tlet i = 0;\r\n\t\tfor (var p = 0; p < 5; p++) {\r\n\t\t\tlet c = new Computer().init(input, [phase[p], i], []);\r\n\t\t\tc.run();\r\n\t\t\ti = c.stdout[0];\r\n\t\t}\r\n\t\treturn i;\r\n\t}\r\n\r\n\tcalc2(program, phase) {\r\n\t\tlet p1 = [phase[0], 0],\r\n\t\t\tp2 = [phase[1]],\r\n\t\t\tp3 = [phase[2]],\r\n\t\t\tp4 = [phase[3]],\r\n\t\t\tp5 = [phase[4]];\r\n\t\tlet amps = [\r\n\t\t\tnew Computer().init(program, p1, p2),\r\n\t\t\tnew Computer().init(program, p2, p3),\r\n\t\t\tnew Computer().init(program, p3, p4),\r\n\t\t\tnew Computer().init(program, p4, p5),\r\n\t\t\tnew Computer().init(program, p5, p1),\r\n\t\t];\r\n\t\twhile (amps.length > 0) {\r\n\t\t\tlet amp = amps.shift();\r\n\t\t\tif (amp.run() === 1) amps.push(amp);\r\n\t\t}\r\n\t\treturn p1[0];\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet res = 0;\r\n\t\tlet phase = [0, 1, 2, 3, 4];\r\n\t\tcombine(phase, x => {\r\n\t\t\tlet p = this.calc(input, x);\r\n\t\t\tif (p > res) res = p;\r\n\t\t});\r\n\r\n\t\tlet res2 = 0;\r\n\t\tlet phase2 = [5, 6, 7, 8, 9];\r\n\t\tcombine(phase2, x => {\r\n\t\t\tlet p = this.calc2(input, x);\r\n\t\t\tconsole.log(`[${x.join()}] => ${p}`);\r\n\t\t\tif (p > res2) res2 = p;\r\n\t\t});\r\n\r\n\t\tthis.setState({ solution: `Maximum signal: ${res}\\nMaximum signal with feedback loop: ${res2}` });\r\n\t}\r\n}\r\n\r\nexport class S7b extends Solver {\r\n}","import './CssImage.css';\r\nimport React from 'react';\r\n\r\nexport class CssImage extends React.Component {\r\n\trender() {\r\n\t\tlet { value, colors } = this.props;\r\n\t\tif (!value || !colors) return <div className=\"css-image\"></div>;\r\n\t\tconsole.log(\"rendering\");\r\n\t\tconsole.log(value);\r\n\t\tconsole.log(colors);\r\n\r\n\t\tlet ri = 0, ci = 0;\r\n\t\tlet rows = value.filter(r => r !== undefined);\r\n\t\tlet maxcol = Math.max(...rows.map(r => r.length));\r\n\t\trows.forEach(r => {\r\n\t\t\tfor (let i = 0; i < maxcol; i++) { r[i] = r[i] === 1 ? 1 : 0 }\r\n\t\t});\r\n\t\treturn <div className=\"css-image\">\r\n\t\t\t{rows.map(r => <div className=\"css-image-row\" key={ri++}>{r.map(c => <div className=\"css-image-pixel\" key={ci++} style={{ backgroundColor: colors[c] }}></div>)}</div>)}\r\n\t\t</div>;\r\n\t}\r\n}","export function drawCircle(ctx, x, y, radius, style, lineWidth) {\r\n\tif (style) ctx.strokeStyle = style;\r\n\tif (lineWidth) ctx.lineWidth = lineWidth;\r\n\tctx.beginPath();\r\n\tctx.arc(x, y, radius, 0, 2 * Math.PI);\r\n\tctx.stroke();\r\n}\r\n\r\nexport function drawFilledCircle(ctx, x, y, radius, style) {\r\n\tif (style) ctx.fillStyle = style;\r\n\tctx.beginPath();\r\n\tctx.arc(x, y, radius, 0, 2 * Math.PI);\r\n\tctx.fill();\r\n}\r\n\r\nexport function drawLine(ctx, x1, y1, x2, y2, style, lineWidth) {\r\n\tif (style) ctx.strokeStyle = style;\r\n\tif (lineWidth) ctx.lineWidth = lineWidth;\r\n\tctx.beginPath();\r\n\tctx.moveTo(x1, y1);\r\n\tctx.lineTo(x2, y2);\r\n\tctx.stroke();\r\n}\r\n\r\nexport function drawFilledRect(ctx, x1, y1, x2, y2, style) {\r\n\tif (style) ctx.fillStyle = style;\r\n\tctx.fillRect(x1, y1, x2 - x1, y2 - y1);\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { CssImage } from '../util';\r\n\r\nexport class S8a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet digits = input.split(\"\").map(c => parseInt(c));\r\n\t\tlet layers = [];\r\n\t\twhile (digits.length > 0) {\r\n\t\t\tlayers.push(digits.splice(0, 150));\r\n\t\t}\r\n\r\n\t\tlet zeroes = 150;\r\n\t\tlet minzerolayer = null;\r\n\t\tlayers.forEach(l => {\r\n\t\t\tlet f = l.filter(x => x === 0);\r\n\t\t\tif (f.length < zeroes) {\r\n\t\t\t\tzeroes = f.length;\r\n\t\t\t\tminzerolayer = l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet checksum = minzerolayer.filter(x => x === 1).length * minzerolayer.filter(y => y === 2).length;\r\n\r\n\t\tlet img = [];\r\n\t\tfor (let i = 0; i < 150; i++) {\r\n\t\t\tlet r = Math.floor(i / 25);\r\n\t\t\tlet c = i % 25;\r\n\t\t\tif (c === 0) {\r\n\t\t\t\timg[r] = [];\r\n\t\t\t\timg[r][24] = 4;\r\n\t\t\t\timg[r].fill(4, 0, 25);\r\n\t\t\t}\r\n\t\t\tfor (let z = 0; z < layers.length; z++) {\r\n\t\t\t\tif (img[r][c] === 4 && layers[z][i] !== 2) {\r\n\t\t\t\t\timg[r][c] = layers[z][i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// this.drawImage(img);\r\n\t\tthis.setState({ checksum: checksum, image: img });\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet i = 0;\r\n\t\treturn <div>\r\n\t\t\t<CssImage value={this.state.image} colors={[\"black\", \"white\"]} />\r\n\t\t\t<p>Checksum: {this.state.checksum}</p>\r\n\t\t\t{this.state.text && <p>Text:<br />\r\n\t\t\t\t{this.state.text.split(\"\\n\").map(t => <span key={i++} style={{ fontFamily: 'Courier, monospace', whiteSpace: 'pre' }}>{t}<br /></span>)}\r\n\t\t\t</p>}\r\n\t\t</div>;\r\n\t}\r\n\r\n\tred = [0, 255];\r\n\tgreen = [0, 255];\r\n\tblue = [0, 255];\r\n\r\n\tdrawImage(image) {\r\n\t\tif (!image) return;\r\n\t\tlet pixel_size = 4;\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tlet img = ctx.createImageData(25 * pixel_size, 6 * pixel_size);\r\n\t\tlet imgPtr = 0;\r\n\t\tfor (var y = 0; y < 6 * pixel_size; y++)\r\n\t\t\tfor (var x = 0; x < 25 * pixel_size; x++) {\r\n\t\t\t\tlet i = Math.floor(y / pixel_size) * 25 + Math.floor(x / pixel_size);\r\n\t\t\t\timg.data[imgPtr++] = this.red[image[i]];\r\n\t\t\t\timg.data[imgPtr++] = this.green[image[i]];\r\n\t\t\t\timg.data[imgPtr++] = this.blue[image[i]];\r\n\t\t\t\timg.data[imgPtr++] = 255;\r\n\t\t\t}\r\n\t\tctx.putImageData(img, 0, 0);\r\n\t}\r\n}\r\n\r\nexport class S8b extends Solver {\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\n\r\nexport class S9a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet comp1 = new Computer().init(input, [1]);\r\n\t\tcomp1.run();\r\n\t\tlet comp2 = new Computer().init(input, [2]);\r\n\t\tcomp2.run();\r\n\t\tthis.setState({ solution: `BOOST keycode: ${comp1.stdout.join()}\\nDistress signal coordinate: ${comp2.stdout.join()}` });\r\n\t}\r\n}\r\n\r\nexport class S9b extends Solver {\r\n}","import '../util/Blink.css';\r\nimport React from 'react';\r\nimport Solver from './Solver';\r\nimport { drawCircle, drawFilledCircle, drawLine } from '../util';\r\n\r\nexport class S10a extends Solver {\r\n\tscaling = 15;\r\n\tstate = { phase: 0 };\r\n\r\n\tvisible(map, x1, y1, x2, y2) {\r\n\t\tlet dy = y2 - y1, dx = x2 - x1;\r\n\t\tlet d = Math.abs(dy);\r\n\t\tif (d === 0 || (dx !== 0 && Math.abs(dx) < d)) d = Math.abs(dx);\r\n\t\twhile (d > 1) {\r\n\t\t\tif (dy % d === 0 && dx % d === 0) {\r\n\t\t\t\tlet sy = dy / d, sx = dx / d;\r\n\t\t\t\tlet y3 = y2 - sy, x3 = x2 - sx;\r\n\t\t\t\twhile (y3 !== y1 || x3 !== x1) {\r\n\t\t\t\t\tif (map[y3][x3] !== 0) { return false; }\r\n\t\t\t\t\ty3 -= sy;\r\n\t\t\t\t\tx3 -= sx;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\td--;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tcalcVisible(map, x, y) {\r\n\t\tlet lc = 0;\r\n\t\tfor (let y2 = 0; y2 < map.length; y2++) {\r\n\t\t\tfor (let x2 = 0; x2 < map[y2].length; x2++) {\r\n\t\t\t\tif (map[y2][x2] !== 0 && (y2 !== y || x2 !== x) && this.visible(map, x, y, x2, y2)) { lc++; }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn lc;\r\n\t}\r\n\r\n\tcalcAllVisible(map) {\r\n\t\tlet result = {\r\n\t\t\tmax: 0,\r\n\t\t\tcount: 0,\r\n\t\t\tx: -1,\r\n\t\t\ty: -1\r\n\t\t};\r\n\t\tfor (let y = 0; y < map.length; y++) {\r\n\t\t\tfor (let x = 0; x < map[y].length; x++) {\r\n\t\t\t\tif (map[y][x] !== 0) {\r\n\t\t\t\t\tresult.count++;\r\n\t\t\t\t\tmap[y][x] = this.calcVisible(map, x, y);\r\n\t\t\t\t\tif (map[y][x] > result.max) {\r\n\t\t\t\t\t\tresult.max = map[y][x];\r\n\t\t\t\t\t\tresult.x = x;\r\n\t\t\t\t\t\tresult.y = y;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tbearing(x1, y1, x2, y2) {\r\n\t\tlet dx = x2 - x1, dy = y2 - y1;\r\n\t\tlet length = Math.sqrt(dx * dx + dy * dy);\r\n\t\tlet b = 0;\r\n\t\tif (dy !== 0) {\r\n\t\t\tb = (Math.PI / 2) - Math.asin(-dy / length);\r\n\t\t\tif (dx < 0) b = -b;\r\n\t\t} else {\r\n\t\t\tb = (Math.PI / 2) - Math.acos(dx / length);\r\n\t\t}\r\n\t\twhile (b < 0) { b += 2 * Math.PI }\r\n\t\treturn b;\r\n\t}\r\n\r\n\tcalcOrder(map, x, y, previous) {\r\n\t\tlet result = [];\r\n\t\tfor (let y2 = 0; y2 < map.length; y2++) {\r\n\t\t\tfor (let x2 = 0; x2 < map[y].length; x2++) {\r\n\t\t\t\tif (map[y2][x2] !== 0 && (y2 !== y || x2 !== x) && this.visible(map, x, y, x2, y2)) {\r\n\t\t\t\t\tresult.push({ x: x2, y: y2, bearing: this.bearing(x, y, x2, y2) });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tresult = result.sort((a, b) => a.bearing - b.bearing);\r\n\t\tresult.forEach(d => map[d.y][d.x] = 0);\r\n\t\tif (previous) return previous.concat(result);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tconvert(coord) {\r\n\t\treturn (coord + 0.5) * this.scaling;\r\n\t}\r\n\r\n\tdrawAsteroids(ctx) {\r\n\t\tlet { result } = this.state;\r\n\t\tdrawCircle(ctx, this.convert(result.x), this.convert(result.y), 1, \"#000000\");\r\n\t\tthis.state.result.destroyOrder.forEach(d => drawCircle(ctx, this.convert(d.x), this.convert(d.y), 1, \"#000000\"));\r\n\t}\r\n\r\n\tdrawBase(ctx) {\r\n\t\tlet { result } = this.state;\r\n\t\tif (!result) return;\r\n\t\tdrawFilledCircle(ctx, this.convert(result.x), this.convert(result.y), 3, \"#0000FF\");\r\n\t}\r\n\r\n\tshoot(ctx) {\r\n\t\tlet { result } = this.state;\r\n\t\tlet { destroyOrder } = result;\r\n\t\tlet to = destroyOrder[0];\r\n\t\tdrawLine(ctx, this.convert(result.x), this.convert(result.y), this.convert(to.x), this.convert(to.y), \"#FF0000\", 1);\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet map = input.split(\"\\n\").map(l => l.split(\"\").map(c => c === \"#\" ? 1 : 0));\r\n\t\tlet result = this.calcAllVisible(map);\r\n\t\tlet destroy = []\r\n\t\twhile (destroy.length < result.count - 1) { destroy = this.calcOrder(map, result.x, result.y, destroy); }\r\n\t\tresult.destroyOrder = destroy;\r\n\t\tresult.target = result.destroyOrder[199];\r\n\t\tsetTimeout(() => this.updatePhase(), 3000);\r\n\t\tthis.setState({\r\n\t\t\tmap: map,\r\n\t\t\tcount: result.count,\r\n\t\t\tresult: result,\r\n\t\t\tphase: 0,\r\n\t\t\ttext: \"Scanning asteroids\",\r\n\t\t\tblink: true\r\n\t\t});\r\n\t}\r\n\r\n\tupdatePhase() {\r\n\t\ttry {\r\n\t\t\tlet { map, phase, destroyed, result, count } = this.state;\r\n\t\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\t\tctx.clearRect(0, 0, map[0].length * this.scaling, map.length * this.scaling);\r\n\t\t\tif (phase > 0) this.drawBase(ctx);\r\n\t\t\tthis.drawAsteroids(ctx);\r\n\t\t\tswitch (phase) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.setState({ phase: 1, text: \"Asteroids mapped - deploying base\", blink: false });\r\n\t\t\t\t\tsetTimeout(() => this.updatePhase(), 1000)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.setState({ phase: 2, text: \"Base deployed - calculating fire solution\", blink: true });\r\n\t\t\t\t\tsetTimeout(() => this.updatePhase(), 1000)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tif (!destroyed) destroyed = [];\r\n\t\t\t\t\tthis.shoot(ctx);\r\n\t\t\t\t\tlet tgt = result.destroyOrder.shift();\r\n\t\t\t\t\tmap[tgt.y][tgt.x] = 0;\r\n\t\t\t\t\tdestroyed.push(tgt);\r\n\t\t\t\t\tthis.setState({ phase: result.destroyOrder.length > 0 ? 2 : 3, count: count - 1, text: \"Firing!!!\", blink: true, firing: true, destroyed: destroyed });\r\n\t\t\t\t\tsetTimeout(() => this.updatePhase(), 20);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tthis.setState({ phase: 3, text: \"All targets neutralized, sir!\", blink: false, firing: false, destroyed: destroyed });\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} catch { }\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet { map, result, blink, firing, count } = this.state;\r\n\t\tlet i = 1;\r\n\t\treturn <div>\r\n\t\t\t{map && <p>Map: {`${map.length}x${map[0].length}`}</p>}\r\n\t\t\t{result && <p>Asteroids: {`${count}`}</p>}\r\n\t\t\t{result && <p>Max: {`${result.max}`}</p>}\r\n\t\t\t{result && <p>Max @ [{`${result.x}, ${result.y}`}]</p>}\r\n\t\t\t{result && <p>200th lasered: {`${result.target.x * 100 + result.target.y}`}</p>}\r\n\t\t\t{result && <div>\r\n\t\t\t\t<canvas id=\"solution\" ref=\"canvas\" width={map[0].length * this.scaling} height={map.length * this.scaling} style={{ margin: \"10px\" }} />\r\n\t\t\t\t<p className={blink ? \"blink\" : undefined} style={{ fontWeight: firing ? \"bold\" : undefined, color: firing ? \"red\" : \"black\" }}>{this.state.text}</p>\r\n\t\t\t</div>}\r\n\r\n\t\t\t{result && <table style={{ borderSpacing: \"10px 0\" }}>\r\n\t\t\t\t<thead><tr><th>#</th><th>Key</th><th>(X, Y)</th><th>Bearing</th></tr></thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{result.destroyOrder.map(c => <tr key={c.x * 100 + c.y}><td>{i++}</td><td>{c.x * 100 + c.y}</td><td>({c.x}, {c.y})</td><td>{c.bearing}</td></tr>)}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S10b extends Solver {\r\n\tstatic hide = true;\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { CssImage } from '../util';\r\nimport { Computer } from './IntCode';\r\n\r\nclass Robot {\r\n\tstatic up = 0;\r\n\tstatic down = 1;\r\n\tstatic left = 2;\r\n\tstatic right = 3;\r\n\r\n\tstep = [\r\n\t\t{ x: 0, y: -1 },\r\n\t\t{ x: 0, y: 1 },\r\n\t\t{ x: -1, y: 0 },\r\n\t\t{ x: 1, y: 0 }\r\n\t];\r\n\r\n\tturn = [\r\n\t\t[Robot.left, Robot.right, Robot.down, Robot.up],\r\n\t\t[Robot.right, Robot.left, Robot.up, Robot.down]\r\n\t];\r\n\r\n\tfacing = Robot.up;\r\n\r\n\tconstructor(x, y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tmove(direction) {\r\n\t\tthis.facing = this.turn[direction][this.facing];\r\n\t\tthis.x += this.step[this.facing].x;\r\n\t\tthis.y += this.step[this.facing].y;\r\n\t}\r\n}\r\n\r\nclass Hull {\r\n\tsurface = [];\r\n\r\n\tvalidate(x, y) {\r\n\t\tif (x < 0 || y < 0) throw new Error(`Out of bounds: <${x}, ${y}>`);\r\n\t\tif (this.surface[y] === undefined) this.surface[y] = [];\r\n\t}\r\n\r\n\tget(x, y) {\r\n\t\tthis.validate(x, y);\r\n\t\treturn this.surface[y][x];\r\n\t}\r\n\r\n\tset(x, y, value) {\r\n\t\tthis.validate(x, y);\r\n\t\tthis.surface[y][x] = value;\r\n\t}\r\n\r\n\tdisplay(start) {\r\n\t\tlet ri = 0, ci = 0;\r\n\t\tlet rows = this.surface.filter(r => r !== undefined);\r\n\t\tlet maxcol = Math.max(...rows.map(r => r.length));\r\n\t\trows.forEach(r => {\r\n\t\t\tfor (let i = 0; i < maxcol; i++) { r[i] = r[i] === 1 ? 1 : 0 }\r\n\t\t});\r\n\t\treturn <div className=\"hull-grid\">\r\n\t\t\t{rows.map(r => <div className=\"hull-row\" key={ri++}>{r.map(c => <div className={c === 1 ? \"hull-white\" : \"hull-black\"} key={ci++}></div>)}</div>)}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S11a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet hull = new Hull();\r\n\t\tlet stdin = [0];\r\n\t\tlet stdout = [];\r\n\t\tlet c = new Computer().init(input, stdin, stdout);\r\n\t\tlet rob = new Robot(100, 100);\r\n\t\twhile (c.run() === 1) {\r\n\t\t\thull.set(rob.x, rob.y, stdout.shift());\r\n\t\t\trob.move(stdout.shift());\r\n\t\t\tstdin.push(hull.get(rob.x, rob.y) === 1 ? 1 : 0);\r\n\t\t}\r\n\t\tthis.setState({ hull: hull });\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t{this.state.hull && <p>Panel count: {this.state.hull.surface.reduce((t, n) => t.concat(n)).filter(e => e !== undefined).length}</p>}\r\n\t\t\t{this.state.error && <p>Error: {this.state.error.message}</p>}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S11b extends Solver {\r\n\tsolve(input) {\r\n\t\tlet hull = new Hull();\r\n\t\thull.set(0, 0, 1);\r\n\t\tlet c = new Computer().init(input, [1]);\r\n\t\tlet rob = new Robot(0, 0);\r\n\t\twhile (c.run() === 1) {\r\n\t\t\thull.set(rob.x, rob.y, c.stdout.shift());\r\n\t\t\trob.move(c.stdout.shift());\r\n\t\t\tc.stdin.push(hull.get(rob.x, rob.y) === 1 ? 1 : 0);\r\n\t\t}\r\n\t\tthis.setState({ hull: hull });\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t{this.state.hull && <CssImage value={this.state.hull.surface} colors={[\"black\", \"white\"]} />}\r\n\t\t\t{this.state.hull && <p>Panel count: {this.state.hull.surface.reduce((t, n) => t.concat(n)).filter(e => e !== undefined).length}</p>}\r\n\t\t\t{this.state.error && <p>Error: {this.state.error.message}</p>}\r\n\t\t</div>;\r\n\t}\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Moon {\r\n\tconstructor(input) {\r\n\t\tif (input.startsWith(\"<\")) input = input.substring(1);\r\n\t\tif (input.endsWith(\">\")) input = input.substring(0, input.length - 1);\r\n\t\tinput = input.split(\", \").map(m => m.split(\"=\"));\r\n\t\tthis.x = parseInt(input[0][1]);\r\n\t\tthis.y = parseInt(input[1][1]);\r\n\t\tthis.z = parseInt(input[2][1]);\r\n\t\tthis.dx = 0;\r\n\t\tthis.dy = 0;\r\n\t\tthis.dz = 0;\r\n\t}\r\n\r\n\taddGravity(other) {\r\n\t\tif (this.x > other.x) { this.dx--; other.dx++; }\r\n\t\tif (this.x < other.x) { this.dx++; other.dx--; }\r\n\t\tif (this.y > other.y) { this.dy--; other.dy++; }\r\n\t\tif (this.y < other.y) { this.dy++; other.dy--; }\r\n\t\tif (this.z > other.z) { this.dz--; other.dz++; }\r\n\t\tif (this.z < other.z) { this.dz++; other.dz--; }\r\n\t}\r\n\r\n\tmove() {\r\n\t\tthis.x += this.dx;\r\n\t\tthis.y += this.dy;\r\n\t\tthis.z += this.dz;\r\n\t}\r\n\r\n\tpotentialEnergy() {\r\n\t\treturn Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\r\n\t}\r\n\r\n\tkineticEnergy() {\r\n\t\treturn Math.abs(this.dx) + Math.abs(this.dy) + Math.abs(this.dz);\r\n\t}\r\n\r\n\tenergy() {\r\n\t\treturn this.potentialEnergy() * this.kineticEnergy();\r\n\t}\r\n\r\n\tchecksum() {\r\n\t\treturn this.x + this.y + this.z + this.dx + this.dy + this.dz;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `${this.name}: <x=${this.x}, y=${this.y}, z=${this.z}> <dx=${this.dx}, dy=${this.dy}, dz=${this.dz}> pE=${this.potentialEnergy()} kE=${this.kineticEnergy()} E=${this.energy()}`\r\n\t}\r\n\r\n\ttoMarkup() {\r\n\t\treturn <tr key={this.name}>\r\n\t\t\t<td>{this.name}</td>\r\n\t\t\t<td>{this.x}</td>\r\n\t\t\t<td>{this.y}</td>\r\n\t\t\t<td>{this.z}</td>\r\n\t\t\t<td>{this.dx}</td>\r\n\t\t\t<td>{this.dy}</td>\r\n\t\t\t<td>{this.dz}</td>\r\n\t\t\t<td>{this.potentialEnergy()}</td>\r\n\t\t\t<td>{this.kineticEnergy()}</td>\r\n\t\t\t<td>{this.energy()}</td>\r\n\t\t</tr>;\r\n\t}\r\n}\r\n\r\nfunction moveMoons(moons) {\r\n\tfor (let i = 0; i < moons.length; i++) {\r\n\t\tfor (let j = i + 1; j < moons.length; j++) {\r\n\t\t\tmoons[i].addGravity(moons[j]);\r\n\t\t}\r\n\t}\r\n\tmoons.forEach(m => m.move());\r\n}\r\n\r\nfunction renderMoons(moons) {\r\n\treturn <table style={{ borderSpacing: \"10px 0\" }}>\r\n\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>Name</th>\r\n\t\t\t\t<th>X</th>\r\n\t\t\t\t<th>Y</th>\r\n\t\t\t\t<th>Z</th>\r\n\t\t\t\t<th>dX</th>\r\n\t\t\t\t<th>dY</th>\r\n\t\t\t\t<th>dZ</th>\r\n\t\t\t\t<th>pE</th>\r\n\t\t\t\t<th>kE</th>\r\n\t\t\t\t<th>E</th>\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\t\t<tbody>\r\n\t\t\t{moons.map(m => m.toMarkup())}\r\n\t\t</tbody>\r\n\t</table>;\r\n}\r\n\r\nfunction initMoons(input) {\r\n\tlet moons = input.split(\"\\n\").map(m => new Moon(m));\r\n\tmoons[0].name = \"Io\";\r\n\tmoons[1].name = \"Europa\";\r\n\tmoons[2].name = \"Ganymede\";\r\n\tmoons[3].name = \"Callisto\";\r\n\treturn moons;\r\n}\r\n\r\nexport class S12a extends Solver {\r\n\tcalculate(input) {\r\n\t\tlet moons = initMoons(input);\r\n\t\tlet xs = [moons.map(m => m.x.toString()).join(\"\")], ys = [moons.map(m => m.y.toString()).join(\"\")], zs = [moons.map(m => m.z.toString()).join(\"\")];\r\n\t\tlet limit = 5000;\r\n\t\tlet px = 0, py = 0, pz = 0;\r\n\t\twhile (px === 0 || py === 0 || pz === 0) {\r\n\t\t\tfor (let s = Math.max(xs.length, ys.length, zs.length); s < limit; s++) {\r\n\t\t\t\tmoveMoons(moons);\r\n\t\t\t\tif (px === 0) xs.push(moons.map(m => m.x.toString()).join(\"\"));\r\n\t\t\t\tif (py === 0) ys.push(moons.map(m => m.y.toString()).join(\"\"));\r\n\t\t\t\tif (pz === 0) zs.push(moons.map(m => m.z.toString()).join(\"\"));\r\n\t\t\t}\r\n\t\t\tlimit *= 2;\r\n\t\t\tif (px === 0) px = this.calculatePeriod(xs);\r\n\t\t\tif (py === 0) py = this.calculatePeriod(ys);\r\n\t\t\tif (pz === 0) pz = this.calculatePeriod(zs);\r\n\t\t}\r\n\t\t// console.log(`px: ${px}, py: ${py}, pz: ${pz}`);\r\n\t\t// console.log(px * py * pz);\r\n\t\tlet p = px * py * pz;\r\n\t\tlet primes = [2, 3, 5, 7, 11, 13];\r\n\t\tlet mx = p / px, my = p / py, mz = p / pz;\r\n\t\t// console.log(`mx: ${mx}, my: ${my}, mz: ${mz}`);\r\n\t\tprimes.forEach(prime => {\r\n\t\t\twhile (mx % prime === 0 && my % prime === 0 && mz % prime === 0) {\r\n\t\t\t\tmx /= prime;\r\n\t\t\t\tmy /= prime;\r\n\t\t\t\tmz /= prime;\r\n\t\t\t\tp /= prime;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// console.log(`p: ${p}, mx: ${mx}, my: ${my}, mz: ${mz}`);\r\n\t\tthis.setState({ period: { tot: p, x: px, y: py, z: pz } });\r\n\t}\r\n\r\n\tcalculatePeriod(v) {\r\n\t\tlet p = 1;\r\n\t\twhile (p < v.length / 2) {\r\n\t\t\twhile (p < v.length / 2 && v[0] !== v[p]) { p++; }\r\n\t\t\tif (p < v.length / 2) {\r\n\t\t\t\tlet match = true;\r\n\t\t\t\tfor (let i = 0; i < p; i++) { if (v[i] !== v[i + p]) { match = false; break; } }\r\n\t\t\t\tif (match) {\r\n\t\t\t\t\t// console.log(`Period: ${p}`);\r\n\t\t\t\t\t// console.log(v.slice(0, p));\r\n\t\t\t\t\t// console.log(v.slice(p, p * 2));\r\n\t\t\t\t\treturn p;\r\n\t\t\t\t}\r\n\t\t\t\tp++\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet moons = initMoons(input);\r\n\t\tfor (let i = 0; i < 1000; i++) { moveMoons(moons); }\r\n\t\tthis.setState({ moons: moons });\r\n\t\tsetTimeout(() => this.calculate(input), 1);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet { moons, period } = this.state;\r\n\t\tif (!moons) return <div></div>;\r\n\t\treturn <div>\r\n\t\t\t<p>Total energy after 1000 steps: {moons.map(m => m.energy()).reduce((t, n) => t + n)}</p>\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t\t{renderMoons(moons)}\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t\t<p>Period: {period ? period.tot : \"Calculating...\"}</p>\r\n\t\t\t{period && <p>Period (X): {period.x}</p>}\r\n\t\t\t{period && <p>Period (Y): {period.y}</p>}\r\n\t\t\t{period && <p>Period (Z): {period.z}</p>}\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\nexport class S12b extends Solver {\r\n}","import '../util/CssImage.css';\r\nimport React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\nimport { drawCircle, drawFilledCircle, drawLine, drawFilledRect } from '../util';\r\n\r\nexport class S13a extends Solver {\r\n\tpixel_size = 25;\r\n\tstdin = [];\r\n\tstdout = [];\r\n\tscreen = [];\r\n\tscore = 0;\r\n\tnextInput = 0;\r\n\tcheat = false;\r\n\tcolors = [];\r\n\tcolorList = [\r\n\t\t\"#CFFFCF\",\r\n\t\t\"#00FF00\",\r\n\t\t\"#00CF00\",\r\n\t\t\"#7F7FFF\",\r\n\t\t\"#3F3FFF\",\r\n\t\t\"#00007F\",\r\n\t\t\"#FF7F7F\",\r\n\t\t\"#FF3F3F\",\r\n\t\t\"#7F0000\",\r\n\t\t\"#3F3FFF\",\r\n\t\t\"#CFCF00\",\r\n\t\t\"#00CFCF\",\r\n\t\t\"#CFCFCF\",\r\n\t\t\"#CFFFCF\",\r\n\t\t\"#00FF00\",\r\n\t\t\"#00CF00\",\r\n\t\t\"#7F7FFF\",\r\n\t\t\"#3F3FFF\",\r\n\t\t\"#00007F\",\r\n\t\t\"#FF7F7F\",\r\n\t\t\"#FF3F3F\",\r\n\t\t\"#7F0000\",\r\n\t\t\"#3F3FFF\",\r\n\t\t\"#CFCF00\",\r\n\t\t\"#00CFCF\",\r\n\t\t\"#CFCFCF\",\r\n\t];\r\n\tmap = [\"\", \"#\", \"U\", \"=\", \"o\"];\r\n\tstyles = [\r\n\t\t\"empty\",\r\n\t\t\"wall\",\r\n\t\t\"block\",\r\n\t\t\"paddle\",\r\n\t\t\"ball\"\r\n\t]\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tdocument.addEventListener('keydown', e => {\r\n\t\t\tif (e.keyCode === 37) this.nextInput = -1;\r\n\t\t\tif (e.keyCode === 39) this.nextInput = 1;\r\n\t\t});\r\n\t\tdocument.addEventListener('keyup', e => {\r\n\t\t\tif (e.keyCode === 37 || e.keyCode === 39) this.nextInput = 0;\r\n\t\t});\r\n\t}\r\n\r\n\tupdateScreen() {\r\n\t\tlet output = this.stdout;\r\n\t\tlet screen = this.screen;\r\n\t\tlet score = 0;\r\n\t\twhile (output.length > 0) {\r\n\t\t\tlet x = output.shift();\r\n\t\t\tlet y = output.shift();\r\n\t\t\tlet t = output.shift();\r\n\t\t\tif (x === -1) {\r\n\t\t\t\tscore = t;\r\n\t\t\t} else {\r\n\t\t\t\tif (screen[y] === undefined) screen[y] = [];\r\n\t\t\t\tif (t === 3) this.paddle = x;\r\n\t\t\t\tif (t === 4) this.ball = x;\r\n\t\t\t\tscreen[y][x] = t;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn score;\r\n\t}\r\n\r\n\tblockCount() {\r\n\t\treturn this.screen.map(r => r.filter(c => c === 2).length).reduce((t, n) => t + n);\r\n\t}\r\n\r\n\tdrawWalls() {\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.strokeStyle = \"#FF0000\";\r\n\t\tctx.lineWidth = 5;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(0.5 * this.pixel_size, (this.screen.length - 0.5) * this.pixel_size);\r\n\t\tctx.lineTo(0.5 * this.pixel_size, 0.5 * this.pixel_size);\r\n\t\tctx.lineTo((this.screen[0].length - 0.5) * this.pixel_size, 0.5 * this.pixel_size);\r\n\t\tctx.lineTo((this.screen[0].length - 0.5) * this.pixel_size, (this.screen.length - 0.5) * this.pixel_size);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\ttransform(x) {\r\n\t\treturn Math.floor((x + 0.5) * this.pixel_size);\r\n\t}\r\n\r\n\tdrawGame() {\r\n\t\tif (!this.refs.canvas) return;\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(this.pixel_size, this.pixel_size, (this.screen[0].length - 2) * this.pixel_size, (this.screen.length - 1) * this.pixel_size);\r\n\t\tfor (let y = 1; y < this.screen.length; y++) {\r\n\t\t\tfor (let x = 1; x < this.screen[0].length - 1; x++) {\r\n\t\t\t\tswitch (this.screen[y][x]) {\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tif (!this.colors[y]) { this.colors[y] = this.colorList.shift(); }\r\n\t\t\t\t\t\tdrawFilledRect(ctx, this.transform(x - 0.4), this.transform(y - 0.2), this.transform(x + 0.4), this.transform(y + 0.2), this.colors[y]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tdrawLine(ctx, this.transform(x - 0.5), this.transform(y), this.transform(x + 0.5), this.transform(y), \"#0000FF\", 3);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tdrawFilledCircle(ctx, this.transform(x), this.transform(y), 3, \"#CFCF00\");\r\n\t\t\t\t\t\tdrawCircle(ctx, this.transform(x), this.transform(y), 3, \"#000000\", 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tthis.computer = new Computer().init(input, this.stdin, this.stdout);\r\n\t\tlet res = this.computer.run();\r\n\t\tthis.updateScreen();\r\n\t\tlet blocks = this.blockCount();\r\n\t\tsetTimeout(() => this.drawWalls(), 10);\r\n\t\tsetTimeout(() => this.drawGame(), 10);\r\n\t\tthis.setState({\r\n\t\t\tprogram: input,\r\n\t\t\ttiles: blocks,\r\n\t\t\tcurrent: blocks,\r\n\t\t\tresult: res\r\n\t\t});\r\n\t}\r\n\r\n\tplay(cheat) {\r\n\t\tthis.stdin = [];\r\n\t\tthis.stdout = [];\r\n\t\tthis.score = 0;\r\n\t\tthis.cheat = cheat;\r\n\t\tthis.computer = new Computer().init(this.state.program, this.stdin, this.stdout);\r\n\t\tthis.computer.mem[0] = 2;\r\n\t\tthis.move();\r\n\t}\r\n\r\n\tinput() {\r\n\t\tif (this.stdin.length === 0 && this.cheat) {\r\n\t\t\tthis.nextInput = 0;\r\n\t\t\tif (this.ball > this.paddle) this.nextInput = 1;\r\n\t\t\tif (this.ball < this.paddle) this.nextInput = -1;\r\n\t\t}\r\n\t\tthis.stdin.push(this.nextInput);\r\n\t\tthis.move();\r\n\t}\r\n\r\n\tmove() {\r\n\t\tlet result = this.computer.run();\r\n\t\tlet score = this.updateScreen();\r\n\t\tthis.drawGame();\r\n\t\tif (score !== 0) this.score = score;\r\n\t\tthis.setState({\r\n\t\t\tcurrent: this.blockCount(),\r\n\t\t\tresult: result\r\n\t\t});\r\n\t\tif (result === 1)\r\n\t\t\tsetTimeout(() => this.input(), this.cheat ? 10 : 1000);\r\n\t}\r\n\r\n\trenderImage() {\r\n\t\tlet i = 0;\r\n\t\treturn <div className=\"css-image\">\r\n\t\t\t{this.screen.map(r => <div className=\"css-image-row\" key={i++}>\r\n\t\t\t\t{r.map(c => <div className={`css-image-pixel ${this.styles[c]}`} key={i++}>{this.map[c]}</div>)}\r\n\t\t\t</div>)}\r\n\t\t</div>;\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div className=\"s13\">\r\n\t\t\t<div style={{ width: this.screen[0].length * this.pixel_size + \"px\", display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\" }}><p>Tiles: {this.state.tiles}</p><p>Left:{this.state.current}</p><p>Score: {this.score}</p></div>\r\n\t\t\t<canvas id=\"solution\" ref=\"canvas\" width={this.screen[0].length * this.pixel_size} height={this.screen.length * this.pixel_size} />\r\n\t\t\t{/*this.renderImage(this.state.output)*/}\r\n\t\t\t<div className=\"controls\" style={{ width: this.screen[0].length * this.pixel_size + \"px\" }}>\r\n\t\t\t\t<div className=\"spacer\"></div>\r\n\t\t\t\t{this.state.result === 0 && <div>\r\n\t\t\t\t\tGame over! Play again? <input type=\"button\" value=\"PLAY\" onClick={() => this.play(false)} />\r\n\t\t\t\t\t<input type=\"button\" value=\"CHEAT\" onClick={() => this.play(true)} />\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div className=\"spacer\"></div>\r\n\t\t\t</div>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S13b extends Solver {\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nclass Reaction {\r\n\tconstructor(formulae) {\r\n\t\tformulae = formulae.split(\" => \");\r\n\t\tlet output = formulae[1].split(\" \");\r\n\t\tthis.output = { q: parseInt(output[0]), c: output[1] };\r\n\t\tthis.input = formulae[0].split(\", \").map(i => i.split(\" \")).map(i => { return { q: parseInt(i[0]), c: i[1] } });\r\n\t}\r\n}\r\n\r\nexport class S14a extends Solver {\r\n\tcalculate(n, have) {\r\n\t\tlet needs = [{ q: n, c: \"FUEL\" }];\r\n\t\tlet ore = 0;\r\n\t\tlet add = (r, m) => {\r\n\t\t\tif (r.c === \"ORE\") ore += r.q * m;\r\n\t\t\telse needs.push({ c: r.c, q: r.q * m });\r\n\t\t}\r\n\t\twhile (needs.length > 0) {\r\n\t\t\tlet need = needs.shift();\r\n\t\t\tif (have[need.c]) {\r\n\t\t\t\tif (need.q >= have[need.c]) {\r\n\t\t\t\t\tneed.q -= have[need.c];\r\n\t\t\t\t\thave[need.c] = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\thave[need.c] -= need.q;\r\n\t\t\t\t\tneed.q = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (need.q > 0) {\r\n\t\t\t\tlet f = this.reactions[need.c];\r\n\t\t\t\tlet c = Math.floor(need.q / f.output.q);\r\n\t\t\t\tif (need.q % f.output.q !== 0) c++;\r\n\t\t\t\tneed.q -= f.output.q * c;\r\n\t\t\t\tif (need.q < 0) {\r\n\t\t\t\t\tif (have[need.c] === undefined) have[need.c] = -need.q;\r\n\t\t\t\t\telse have[need.c] -= need.q;\r\n\t\t\t\t}\r\n\t\t\t\tf.input.forEach(i => add(i, c));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ore;\r\n\t}\r\n\r\n\tmaxHelper() {\r\n\t\tconst target = 1000000000000;\r\n\t\tif (this.oreneed < target) {\r\n\t\t\tthis.setState({ maxfuel: this.maxfuel, oreneed: this.oreneed });\r\n\t\t\tlet next = Math.max(Math.floor((target - this.oreneed) / this.oreperfuel), 1);\r\n\t\t\tthis.maxfuel += next;\r\n\t\t\tthis.oreneed += this.calculate(next, this.have);\r\n\t\t\tsetTimeout(() => this.maxHelper(), 1);\r\n\t\t} else {\r\n\t\t\tthis.setState({ done: true });\r\n\t\t}\r\n\t}\r\n\r\n\tcalcMaxFuel() {\r\n\t\tthis.needs = [];\r\n\t\tthis.have = {};\r\n\t\tthis.oreneed = 0;\r\n\t\tthis.maxfuel = 0;\r\n\t\tthis.maxHelper();\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tinput = input.split(\"\\n\").map(f => new Reaction(f));\r\n\t\tthis.reactions = {};\r\n\t\tinput.forEach(r => this.reactions[r.output.c] = r);\r\n\t\tthis.oreperfuel = this.calculate(1, {});\r\n\t\tsetTimeout(() => this.calcMaxFuel(), 1);\r\n\t\tthis.setState({\r\n\t\t\treactions: input.length,\r\n\t\t\tore: this.oreperfuel\r\n\t\t});\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<p>Reactions: {this.state.reactions}</p>\r\n\t\t\t<p>Ore required: {this.state.ore}</p>\r\n\t\t\t<p>Max fuel: {this.state.maxfuel || \"Calculating...\"}</p>\r\n\t\t\t<p>Ore load: {this.state.oreneed || \"Calculating...\"}</p>\r\n\t\t\t<p>{this.state.done ? \"Done!\" : \"Calculating...\"}</p>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S14b extends Solver {\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\nimport { drawFilledRect } from '../util';\r\n\r\nconst north = { c: 1, x: 0, y: -1 };\r\nconst south = { c: 2, x: 0, y: 1 };\r\nconst west = { c: 3, x: -1, y: 0 };\r\nconst east = { c: 4, x: 1, y: 0 };\r\n\r\nconst wall = 0;\r\nconst open = 1;\r\nconst oxygen = 2;\r\n\r\nconst colors = [\r\n\t\"#000000\",\r\n\t\"#7F7F7F\",\r\n\t\"#7F7FCF\"\r\n]\r\n\r\nclass Map {\r\n\tmap = [];\r\n\r\n\tget(x, y) {\r\n\t\tif (this.map[y] === undefined) this.map[y] = [];\r\n\t\treturn this.map[y][x];\r\n\t}\r\n\r\n\tset(x, y, value) {\r\n\t\tif (this.map[y] === undefined) this.map[y] = [];\r\n\t\tthis.map[y][x] = value;\r\n\t}\r\n\r\n\theight() { return this.map.length; }\r\n\twidth() { return Math.max(...this.map.map(r => r === undefined ? 0 : r.length)); }\r\n}\r\n\r\nexport class S15a extends Solver {\r\n\tpixel_size = 5;\r\n\r\n\ttransform(c) {\r\n\t\treturn (c + 50) * this.pixel_size;\r\n\t}\r\n\r\n\tsetPos(x, y, terrain) {\r\n\t\tthis.map.set(x, y, terrain);\r\n\t\tif (this.refs.canvas) {\r\n\t\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\t\tx = this.transform(x);\r\n\t\t\ty = this.transform(y);\r\n\t\t\tdrawFilledRect(ctx, x, y, x + this.pixel_size, y + this.pixel_size, colors[terrain]);\r\n\t\t}\r\n\t}\r\n\r\n\tappendPath(p, dir) {\r\n\t\tlet n = { comp: p.comp.copy(), pos: { x: p.pos.x + dir.x, y: p.pos.y + dir.y }, path: [...p.path, dir] };\r\n\t\tn.comp.stdin.push(dir.c);\r\n\t\tn.comp.run();\r\n\t\tlet res = n.comp.stdout.shift();\r\n\t\tthis.setPos(n.pos.x, n.pos.y, res);\r\n\t\tif (res !== wall) this.paths.push(n);\r\n\t}\r\n\r\n\tsearch() {\r\n\t\tlet p = this.paths.shift();\r\n\t\tlet terrain = this.map.get(p.pos.x, p.pos.y);\r\n\t\tif (terrain === oxygen) return p;\r\n\t\tif (terrain === wall) return null;\r\n\t\tif (this.map.get(p.pos.x + north.x, p.pos.y + north.y) === undefined) { this.appendPath(p, north); }\r\n\t\tif (this.map.get(p.pos.x + south.x, p.pos.y + south.y) === undefined) { this.appendPath(p, south); }\r\n\t\tif (this.map.get(p.pos.x + west.x, p.pos.y + west.y) === undefined) { this.appendPath(p, west); }\r\n\t\tif (this.map.get(p.pos.x + east.x, p.pos.y + east.y) === undefined) { this.appendPath(p, east); }\r\n\t\treturn null;\r\n\t}\r\n\r\n\texplore() {\r\n\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\tif (this.paths.length === 0) return;\r\n\t\t\tlet res = this.search();\r\n\t\t\tif (res !== null) {\r\n\t\t\t\tthis.setState({ path: res });\r\n\t\t\t\tthis.setPos(res.pos.x, res.pos.y, open);\r\n\t\t\t\tthis.fillPaths = [{ comp: res.comp, pos: res.pos, path: [] }];\r\n\t\t\t\tsetTimeout(() => this.fill(), 1);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetTimeout(() => this.explore(), 1);\r\n\t}\r\n\r\n\tappendFill(p, dir) {\r\n\t\tlet n = { comp: p.comp.copy(), pos: { x: p.pos.x + dir.x, y: p.pos.y + dir.y }, path: [...p.path, dir] };\r\n\t\tlet terrain = this.map.get(n.pos.x, n.pos.y);\r\n\t\tif (terrain === oxygen || terrain === wall) return;\r\n\t\tn.comp.stdin.push(dir.c);\r\n\t\tn.comp.run();\r\n\t\tlet res = n.comp.stdout.shift();\r\n\t\tthis.setPos(n.pos.x, n.pos.y, res);\r\n\t\tif (res !== wall) this.fillPaths.push(n);\r\n\t}\r\n\r\n\tpumpOxy() {\r\n\t\tlet p = this.fillPaths.shift();\r\n\t\tlet terrain = this.map.get(p.pos.x, p.pos.y);\r\n\t\tif (terrain === open) {\r\n\t\t\tthis.setPos(p.pos.x, p.pos.y, oxygen);\r\n\t\t\tif (!this.state.fill || this.state.fill.path.length < p.path.length) this.setState({ fill: p });\r\n\t\t\tthis.appendFill(p, north);\r\n\t\t\tthis.appendFill(p, south);\r\n\t\t\tthis.appendFill(p, west);\r\n\t\t\tthis.appendFill(p, east);\r\n\t\t}\r\n\t}\r\n\r\n\tfill() {\r\n\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\tif (this.fillPaths.length === 0) return;\r\n\t\t\tthis.pumpOxy();\r\n\t\t}\r\n\t\tsetTimeout(() => this.fill(), 1);\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tif (input.length === 0) return;\r\n\t\tthis.map = new Map();\r\n\t\tif (this.refs.canvas) {\r\n\t\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\t\tctx.clearRect(0, 0, 100 * this.pixel_size, 100 * this.pixel_size);\r\n\t\t}\r\n\t\tthis.setPos(0, 0, open);\r\n\t\tthis.paths = [{ comp: new Computer().init(input), pos: { x: 0, y: 0 }, path: [] }];\r\n\t\tsetTimeout(() => this.explore(), 10);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet height = 100;\r\n\t\tlet width = 100;\r\n\t\treturn <div>\r\n\t\t\t<p>Shortest path: {this.state.path && this.state.path.path.length}</p>\r\n\t\t\t<p>Time to fill: {this.state.fill && this.state.fill.path.length} minutes</p>\r\n\t\t\t{this.map && <canvas id=\"solution\" ref=\"canvas\" width={width * this.pixel_size} height={height * this.pixel_size} />}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S15b extends Solver {\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nfunction pattern(n, l) {\r\n\tlet res = [];\r\n\tres[l - 1] = 0;\r\n\tres.fill(0, 0);\r\n\tlet i = n - 1;\r\n\twhile (i < l) {\r\n\t\tres.fill(1, i, i + n);\r\n\t\ti += 2 * n;\r\n\t\tres.fill(-1, i, i + n);\r\n\t\ti += 2 * n;\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nfunction fft(input, times) {\r\n\tfor (let n = 0; n < times; n++) {\r\n\t\tlet res = [];\r\n\t\tfor (let r = 0; r < input.length; r++) {\r\n\t\t\tlet p = pattern(r + 1, input.length);\r\n\t\t\tres[r] = input[r];\r\n\t\t\tfor (let i = r + 1; i < input.length; i++) {\r\n\t\t\t\tres[r] += input[i] * p[i];\r\n\t\t\t\tres[r] = res[r] % 10;\r\n\t\t\t}\r\n\t\t\tres[r] = Math.abs(res[r] % 10);\r\n\t\t}\r\n\t\tinput = res;\r\n\t}\r\n\treturn input;\r\n}\r\n\r\nexport class S16a extends Solver {\r\n\tsolve(input) {\r\n\t\tinput = input.split(\"\").map(d => parseInt(d));\r\n\t\tlet offset = parseInt(input.slice(0, 7).join(\"\"));\r\n\t\tlet first8 = fft(input, 100).slice(0, 8).join(\"\");\r\n\t\tlet p = input.length;\r\n\t\tlet scratch = [];\r\n\t\tscratch[100] = input[p - 1];\r\n\t\tscratch.fill(input[p - 1], 0, 100);\r\n\t\tlet result = [];\r\n\t\tfor (let i = 10000 * p - 2; i >= offset; i--) {\r\n\t\t\tscratch[0] = input[i % p];\r\n\t\t\tfor (let j = 1; j < 101; j++) {\r\n\t\t\t\tscratch[j] = (scratch[j] + scratch[j - 1]) % 10;\r\n\t\t\t}\r\n\t\t\tif (i - offset < 8 && i - offset > -1) { result[i - offset] = scratch[100]; }\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlength: input.length,\r\n\t\t\tfirst8: first8,\r\n\t\t\toffset: offset,\r\n\t\t\tfromEnd: offset - 10000 * input.length,\r\n\t\t\trelative: offset / (input.length * 10000),\r\n\t\t\tmessage: result.join(\"\")\r\n\t\t});\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<p>Input length: {this.state.length}</p>\r\n\t\t\t<p>First 8: {this.state.first8}</p>\r\n\t\t\t<p>Offset: {this.state.offset}</p>\r\n\t\t\t<p>From end: {this.state.fromEnd}</p>\r\n\t\t\t<p>Relative: {this.state.relative}</p>\r\n\t\t\t<p>Message: {this.state.message}</p>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S16b extends Solver {\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\nimport { drawCircle, drawFilledCircle } from '../util';\r\n\r\nexport class S17a extends Solver {\r\n\tpixel_size = 13;\r\n\tstate = {\r\n\t\tw: 0,\r\n\t\th: 0,\r\n\t\tmain: \"B,C,B,C,B,A,C,A,B,A\",\r\n\t\tsubA: \"L,8,L,8,R,10,R,4\",\r\n\t\tsubB: \"R,4,L,10,L,10\",\r\n\t\tsubC: \"L,8,R,12,R,10,R,4\",\r\n\t\tfeed: \"y\"\r\n\t}\r\n\r\n\tdrawScaffold(ctx, x, y) {\r\n\t\tlet fromX = x * this.pixel_size, toX = (x + 1) * this.pixel_size - 1;\r\n\t\tlet fromY = y * this.pixel_size, toY = (y + 1) * this.pixel_size - 1;\r\n\t\tlet x1 = Math.floor((x + 0.5) * this.pixel_size) - 3;\r\n\t\tlet x2 = x1 + 7;\r\n\t\tlet y1 = Math.floor((y + 0.5) * this.pixel_size) - 3;\r\n\t\tlet y2 = y1 + 7;\r\n\t\tctx.strokeStyle = \"#000000\";\r\n\t\tctx.lineWidth = 1;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(fromX, y1);\r\n\t\tctx.lineTo(toX, y1);\r\n\t\tctx.stroke();\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(fromX, y2);\r\n\t\tctx.lineTo(toX, y2);\r\n\t\tctx.stroke();\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x1, fromY);\r\n\t\tctx.lineTo(x1, toY);\r\n\t\tctx.stroke();\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x2, fromY);\r\n\t\tctx.lineTo(x2, toY);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tdrawRobot(ctx, x, y, c) {\r\n\t\tx = Math.floor((x + 0.5) * this.pixel_size);\r\n\t\ty = Math.floor((y + 0.5) * this.pixel_size);\r\n\t\tdrawFilledCircle(ctx, x, y, 5, c === \"X\" ? \"#FF7F7F\" : \"#FFFF7F\");\r\n\t\tdrawCircle(ctx, x, y, 5, \"#000000\");\r\n\t}\r\n\r\n\tdrawImage(img) {\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, this.state.w * this.pixel_size, this.state.h * this.pixel_size);\r\n\t\tfor (let y = 0; y < img.length; y++) {\r\n\t\t\tfor (let x = 0; x < img[y].length; x++) {\r\n\t\t\t\tif (\"#\" === img[y][x]) this.drawScaffold(ctx, x, y);\r\n\t\t\t\tif (\"^<>vV\".includes(img[y][x])) this.drawRobot(ctx, x, y, img[y][x]);\r\n\t\t\t\tif (\"X\" === img[y][x]) this.drawRobot(ctx, x, y, img[y][x]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet c = new Computer().init(input);\r\n\t\twhile (c.run() === 1);\r\n\t\tlet alignment = 0;\r\n\t\tlet img = c.stdout.map(c => String.fromCharCode(c)).join(\"\").split(\"\\n\").filter(l => !l.startsWith(\"M\")).filter(l => l && l.length > 0).map(l => l.split(\"\"));\r\n\t\tconsole.log(img);\r\n\t\tfor (let y = 1; y < img.length - 1; y++) {\r\n\t\t\tfor (let x = 1; x < img[y].length - 1; x++) {\r\n\t\t\t\tif (img[y][x] === \"#\" && img[y + 1][x] === \"#\" && img[y - 1][x] === \"#\" && img[y][x + 1] === \"#\" && img[y][x - 1] === \"#\") {\r\n\t\t\t\t\talignment += x * y;\r\n\t\t\t\t\t// c.stdout[y * (img[0].length + 1) + x] = \"O\".charCodeAt(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetTimeout(() => this.drawImage(img), 10);\r\n\t\tthis.setState({ prg: input, img: img, alignment: alignment, w: img[0].length, h: img.length });\r\n\t}\r\n\r\n\tconsumeLine(c) {\r\n\t\twhile (c.stdout[c.read] !== 10) c.read++;\r\n\t\twhile (c.stdout[c.read] === 10) c.read++;\r\n\t}\r\n\r\n\treadOutput(c) {\r\n\t\tif (c.read < c.stdout.length - 1) {\r\n\t\t\twhile (\"MFC\".includes(String.fromCharCode(c.stdout[c.read]))) this.consumeLine(c);\r\n\t\t\tlet img = [];\r\n\t\t\tfor (let y = 0; y < this.state.img.length; y++) {\r\n\t\t\t\timg[y] = [];\r\n\t\t\t\tfor (let x = 0; x < this.state.img[y].length; x++) {\r\n\t\t\t\t\timg[y][x] = String.fromCharCode(c.stdout[c.read++]);\r\n\t\t\t\t}\r\n\t\t\t\tthis.consumeLine(c);\r\n\t\t\t}\r\n\r\n\t\t\tthis.drawImage(img);\r\n\t\t\tthis.setState({ img: img });\r\n\t\t\tsetTimeout(() => this.readOutput(c), 20);\r\n\t\t} else {\r\n\t\t\tthis.setState({ dust: c.stdout[c.read] });\r\n\t\t}\r\n\t}\r\n\r\n\trunProgram() {\r\n\t\tlet c = new Computer().init(this.state.prg);\r\n\t\tc.mem[0] = 2;\r\n\t\tlet p = `${this.state.main}\\n${this.state.subA}\\n${this.state.subB}\\n${this.state.subC}\\n${this.state.feed}\\n`;\r\n\t\tfor (let i = 0; i < p.length; i++) {\r\n\t\t\tc.stdin.push(p.charCodeAt(i));\r\n\t\t}\r\n\t\tc.run();\r\n\t\tc.read = 0;\r\n\t\tthis.readOutput(c);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet i = 0;\r\n\t\treturn <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t<div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n\t\t\t\t<p>Alignment: {this.state.alignment}</p>\r\n\t\t\t\t<canvas id=\"solution\" ref=\"canvas\" width={this.state.w * this.pixel_size} height={this.state.h * this.pixel_size} />\r\n\t\t\t\t{this.state.output && this.state.output.map(c => String.fromCharCode(c)).join(\"\").split(\"\\n\").map(s => <p key={i++} style={{ whiteSpace: \"pre\", fontFamily: \"monospace\" }}>{s}</p>)}\r\n\t\t\t</div>\r\n\t\t\t<div style={{\r\n\t\t\t\tdisplay: \"inline-grid\",\r\n\t\t\t\tgridTemplateColumns: \"auto auto\",\r\n\t\t\t\tgridGap: \"10px\",\r\n\t\t\t\talignContent: \"start\"\r\n\t\t\t}}>\r\n\t\t\t\t<span>Main program:</span> <span><input value={this.state.main} onChange={e => this.setState({ main: e.target.value })} /></span>\r\n\t\t\t\t<span>Subroutine A:</span> <span><input value={this.state.subA} onChange={e => this.setState({ subA: e.target.value })} /></span>\r\n\t\t\t\t<span>Subroutine B:</span> <span><input value={this.state.subB} onChange={e => this.setState({ subB: e.target.value })} /></span>\r\n\t\t\t\t<span>Subroutine C:</span> <span><input value={this.state.subC} onChange={e => this.setState({ subC: e.target.value })} /></span>\r\n\t\t\t\t<span>Continuous feed:</span> <span><input value={this.state.feed} onChange={e => this.setState({ feed: e.target.value })} /></span>\r\n\t\t\t\t<input type=\"button\" value=\"Run!\" onClick={() => this.runProgram()} /> <span></span>\r\n\t\t\t\t{this.state.dust && <span>Dust: {this.state.dust}</span>}\r\n\t\t\t</div>\r\n\t\t</div >;\r\n\t}\r\n}\r\n\r\nexport class S17b extends Solver {\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { drawFilledRect } from '../util';\r\n\r\nconst keys = \"abcdefghijklmnopqrstuvwxyz\";\r\nconst doors = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\nconst north = { x: 0, y: -1 };\r\nconst south = { x: 0, y: 1 };\r\nconst east = { x: 1, y: 0 };\r\nconst west = { x: -1, y: 0 };\r\n\r\nclass Path {\r\n\tconstructor(key, dist, from) {\r\n\t\tthis.keys = key;\r\n\t\tthis.distance = dist;\r\n\t\tif (from) {\r\n\t\t\tthis.keys = from.keys + key;\r\n\t\t\tthis.distance += from.distance;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class S18a extends Solver {\r\n\tpixel_size = 7;\r\n\tpreCalc = {}\r\n\r\n\tfind(map, key) {\r\n\t\tfor (let y = 0; y < map.length; y++) {\r\n\t\t\tfor (let x = 0; x < map[y].length; x++) {\r\n\t\t\t\tif (map[y][x] === key) return { x: x, y: y };\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttryMove(path, from, map, distMap, dists, paths, dir) {\r\n\t\tlet to = { x: from.x + dir.x, y: from.y + dir.y };\r\n\t\tlet c = map[to.y][to.x];\r\n\t\tif ('#' === c) return; // bumped into wall\r\n\t\tif (doors.includes(c) && !path.keys.includes(c.toLowerCase())) return; // Locked door\r\n\t\tif (keys.includes(c) && !path.keys.includes(c)) {\r\n\t\t\tpaths.push(new Path(c, distMap[from.y][from.x] + 1, path));\r\n\t\t\treturn; // New key found\r\n\t\t}\r\n\r\n\t\tlet steps = distMap[from.y][from.x] + 1;\r\n\t\tlet tgtSteps = distMap[to.y][to.x];\r\n\t\tif (tgtSteps === 0 || steps < tgtSteps) {\r\n\t\t\tdistMap[to.y][to.x] = steps;\r\n\t\t\tdists.push(to);\r\n\t\t}\r\n\t}\r\n\r\n\texplore(map, paths, best) {\r\n\t\tfor (let i = 1000; i > 0; i--) {\r\n\t\t\tif (paths.length < 1) {\r\n\t\t\t\tif (best) {\r\n\t\t\t\t\tthis.setState({ done: true, paths: [best] });\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthrow new Error(\"Search failed\");\r\n\t\t\t}\r\n\t\t\tlet p = paths.shift();\r\n\t\t\tif (p.keys.length === this.keyCount) {\r\n\t\t\t\tif (best === undefined || p.distance < best.distance) {\r\n\t\t\t\t\tbest = p;\r\n\t\t\t\t\tconsole.log(`New best: ${best.distance}`);\r\n\t\t\t\t}\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tlet dists = [this.find(map, p.keys[p.keys.length - 1])];\r\n\t\t\tlet distMap = map.map(l => l.map(c => 0));\r\n\t\t\twhile (dists.length > 0) {\r\n\t\t\t\tlet f = dists.shift();\r\n\t\t\t\tthis.tryMove(p, f, map, distMap, dists, paths, north);\r\n\t\t\t\tthis.tryMove(p, f, map, distMap, dists, paths, south);\r\n\t\t\t\tthis.tryMove(p, f, map, distMap, dists, paths, east);\r\n\t\t\t\tthis.tryMove(p, f, map, distMap, dists, paths, west);\r\n\t\t\t}\r\n\t\t\tpaths.sort((a, b) => b.keys.length === a.keys.length ? a.distance - b.distance : b.keys.length - a.keys.length);\r\n\t\t}\r\n\t\tif (best)\r\n\t\t\tthis.setState({ paths: [best] });\r\n\t\t// setTimeout(() => this.explore(map, paths, best), 0);\r\n\t}\r\n\r\n\tinventory(pos, dists, distMap, map, quad, dir) {\r\n\t\tlet to = { x: pos.x + dir.x, y: pos.y + dir.y };\r\n\t\tlet c = map[to.y][to.x];\r\n\t\tif ('#' === c) return; // bumped into wall\r\n\t\tlet steps = distMap[pos.y][pos.x] + 1;\r\n\t\tif (keys.includes(c)) {\r\n\t\t\tif (!quad.keys.includes(c)) quad.keys += c;\r\n\t\t\tif (quad[c] === undefined || quad[c] > steps) quad[c] = steps;\r\n\t\t}\r\n\r\n\t\tlet tgtSteps = distMap[to.y][to.x];\r\n\t\tif (tgtSteps === 0 || steps < tgtSteps) {\r\n\t\t\tdistMap[to.y][to.x] = steps;\r\n\t\t\tdists.push(to);\r\n\t\t}\r\n\t}\r\n\r\n\tinventoryKeys(map, x, y) {\r\n\t\tlet quad = { doors: \"\", keys: \"\" };\r\n\t\tlet dists = [{ x: x, y: y }];\r\n\t\tlet distMap = map.map(l => l.map(c => 0));\r\n\t\twhile (dists.length > 0) {\r\n\t\t\tlet p = dists.shift();\r\n\t\t\tthis.inventory(p, dists, distMap, map, quad, north);\r\n\t\t\tthis.inventory(p, dists, distMap, map, quad, south);\r\n\t\t\tthis.inventory(p, dists, distMap, map, quad, east);\r\n\t\t\tthis.inventory(p, dists, distMap, map, quad, west);\r\n\t\t}\r\n\t\treturn quad;\r\n\t}\r\n\r\n\tkeyPath(key, path, paths, distMap, map, quad, dir) {\r\n\t\tlet to = { ...path, x: path.x + dir.x, y: path.y + dir.y, steps: path.steps + 1 };\r\n\t\tlet c = map[to.y][to.x];\r\n\t\tif ('#' === c) return; // bumped into wall\r\n\t\tif (key === c) {\r\n\t\t\tconsole.log(`Found path: ${to.steps}`);\r\n\t\t\tquad.paths.push(to);\r\n\t\t}\r\n\r\n\t\tif (keys.includes(c) && !to.keys.includes(c)) { to.keys += c; }\r\n\t\tif (doors.includes(c) && !to.doors.includes(c)) { to.doors += c; }\r\n\r\n\t\tlet tgtSteps = distMap[to.y][to.x];\r\n\t\tif (tgtSteps === 0 || to.steps < tgtSteps) {\r\n\t\t\tdistMap[to.y][to.x] = to.steps;\r\n\t\t\tpaths.push(to);\r\n\t\t}\r\n\t}\r\n\r\n\tfindPath(map, x, y, key, quad) {\r\n\t\tlet paths = [{ x: x, y: y, steps: 0, keys: \"\", doors: \"\" }];\r\n\t\tquad.paths = [];\r\n\t\tlet distMap = map.map(l => l.map(c => 0));\r\n\t\twhile (paths.length > 0) {\r\n\t\t\tlet p = paths.shift();\r\n\t\t\tthis.keyPath(key, p, paths, distMap, map, quad, north);\r\n\t\t\tthis.keyPath(key, p, paths, distMap, map, quad, south);\r\n\t\t\tthis.keyPath(key, p, paths, distMap, map, quad, east);\r\n\t\t\tthis.keyPath(key, p, paths, distMap, map, quad, west);\r\n\t\t}\r\n\t}\r\n\r\n\tcalcDoors(map, x, y, quad) {\r\n\t\tlet key = '';\r\n\t\tlet max = 0;\r\n\t\tfor (let i = 0; i < quad.keys.length; i++) {\r\n\t\t\tlet k = quad.keys[i];\r\n\t\t\tif (quad[k] > max) {\r\n\t\t\t\tkey = k;\r\n\t\t\t\tmax = quad[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.findPath(map, x, y, key, quad);\r\n\t}\r\n\r\n\tscanQuadrant(map, x, y) {\r\n\t\tlet quad = this.inventoryKeys(map, x, y);\r\n\t\tthis.calcDoors(map, x, y, quad);\r\n\t\treturn quad;\r\n\t}\r\n\r\n\tcalculatePath(map) {\r\n\t\tlet start = this.find(map, '@');\r\n\t\tlet scanMap = map.map(l => l.slice());\r\n\t\tscanMap[start.y + 1][start.x] = '#';\r\n\t\tscanMap[start.y - 1][start.x] = '#';\r\n\t\tscanMap[start.y][start.x + 1] = '#';\r\n\t\tscanMap[start.y][start.x - 1] = '#';\r\n\t\tlet quad = [];\r\n\t\tquad.push(this.scanQuadrant(scanMap, start.x - 1, start.y - 1));\r\n\t\tquad.push(this.scanQuadrant(scanMap, start.x + 1, start.y - 1));\r\n\t\tquad.push(this.scanQuadrant(scanMap, start.x - 1, start.y + 1));\r\n\t\tquad.push(this.scanQuadrant(scanMap, start.x + 1, start.y + 1));\r\n\t\tconsole.log(quad);\r\n\t}\r\n\r\n\tcolor(c) {\r\n\t\tif (c === '#') return \"#000000\";\r\n\t\tif (doors.includes(c)) return \"#fF3F3F\";\r\n\t\tif (keys.includes(c)) return \"#FFFF7F\";\r\n\t\treturn \"#CFCFCF\";\r\n\t}\r\n\r\n\tdrawMap(map) {\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, map[0].length * this.pixel_size, map.length * this.pixel_size);\r\n\t\tfor (let y = 0; y < map.length; y++) {\r\n\t\t\tfor (let x = 0; x < map[y].length; x++) {\r\n\t\t\t\tdrawFilledRect(ctx, x * this.pixel_size, y * this.pixel_size, (x + 1) * this.pixel_size, (y + 1) * this.pixel_size, this.color(map[y][x]));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstep(pos, paths, distMap, map, key, result, dir) {\r\n\t\tlet to = { x: pos.x + dir.x, y: pos.y + dir.y };\r\n\t\tlet c = map[to.y][to.x];\r\n\t\tif ('#' === c) return; // bumped into wall\r\n\t\tlet steps = distMap[pos.y][pos.x] + 1;\r\n\t\tif (key === c) {\r\n\t\t\tif (result.steps === undefined || steps < result.steps) {\r\n\t\t\t\tresult.x = to.x;\r\n\t\t\t\tresult.y = to.y;\r\n\t\t\t\tresult.steps = steps;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet tgtSteps = distMap[to.y][to.x];\r\n\t\tif (tgtSteps === 0 || steps < tgtSteps) {\r\n\t\t\tdistMap[to.y][to.x] = steps;\r\n\t\t\tpaths.push(to);\r\n\t\t}\r\n\t}\r\n\r\n\tfindShortest(map, pos, key) {\r\n\t\tlet result = {};\r\n\t\tlet dists = [pos];\r\n\t\tlet distMap = map.map(l => l.map(() => 0));\r\n\t\twhile (dists.length > 0) {\r\n\t\t\tlet p = dists.shift();\r\n\t\t\tthis.step(p, dists, distMap, map, key, result, north);\r\n\t\t\tthis.step(p, dists, distMap, map, key, result, south);\r\n\t\t\tthis.step(p, dists, distMap, map, key, result, east);\r\n\t\t\tthis.step(p, dists, distMap, map, key, result, west);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tcalculatePath2(map, order) {\r\n\t\tlet start = this.find(map, '@');\r\n\t\tlet total = 0;\r\n\t\tlet i = 0;\r\n\t\twhile (i < order.length) {\r\n\t\t\tstart = this.findShortest(map, start, order[i++]);\r\n\t\t\ttotal += start.steps;\r\n\t\t}\r\n\t\treturn total;\r\n\t\t// this.setState({ total: total });\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tfor (let i = 0; i < input.length; i++) { if (keys.includes(input[i])) this.keyCount++; }\r\n\t\tlet map = input.split(\"\\n\").map(l => l.split(\"\")).map(l => l.map(c => c === '.' ? ' ' : c));\r\n\t\tthis.setState({ map: map });\r\n\t\tsetTimeout(() => this.drawMap(map), 10);\r\n\t\t/*\r\n\t\tlet optimal = [\r\n\t\t\t[\"om\", \"ayx\", \"Qlg\"],\r\n\t\t\t[\"eth\", \"IZuj\", \"IDWr\", \"Fvpn\", \"Bs\"],\r\n\t\t\t[\"Mq\", \"YXLTHGi\"],\r\n\t\t\t[\"kcz\", \"Jdw\", \"Rf\", \"VPNb\"]\r\n\t\t];\r\n\t\tlet t1 = \"omayxqlgkczethiujdwrfvpnbs\";\r\n\t\tlet t2 = \"omayxqlgethikczujdwrfvpnbs\";\r\n\t\tlet t3 = \"omayxkczqethlgiujdwrfvpnbs\";\r\n\t\t*/\r\n\t\tlet t4 = \"omethqkczayxlgiujdwrfvpnbs\";\r\n\t\tlet p1 = \"omayxlg\";\r\n\t\tlet p2 = \"ethujrvpns\";\r\n\t\tlet p3 = \"qi\";\r\n\t\tlet p4 = \"kczdwfb\";\r\n\t\tthis.setState({\r\n\t\t\tpart1: this.calculatePath2(map, t4),\r\n\t\t\tpart2: this.calculatePath2(map, p1) + this.calculatePath2(map, p2) + this.calculatePath2(map, p3) + this.calculatePath2(map, p4) - 8,\r\n\t\t});\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<p>Shortest (pt1): {this.state.part1}</p>\r\n\t\t\t<p>Shortest (pt2): {this.state.part2}</p>\r\n\t\t\t{this.state.map && <canvas id=\"solution\" ref=\"canvas\" width={this.state.map[0].length * this.pixel_size} height={this.state.map.length * this.pixel_size} />}\r\n\t\t\t{/*this.state.map && <div style={{ fontFamily: \"monospace\", whiteSpace: \"pre\" }}>{this.state.map.map(l => <p key={i++}>{l.join(\"\")}</p>)}</div>*/}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S18b extends Solver {\r\n}\r\n","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nfunction isLetter(c) { return c >= 'A' && c <= 'Z'; }\r\nfunction validCoordinate(map, x, y) { return y >= 0 && y < map.length && x >= 0 && x < map[y].length; }\r\n\r\nconst portalCoords = [\r\n\t{ idX: 0, idY: 1, eX: 0, eY: -1, pX: 0, pY: 0 },\r\n\t{ idX: 0, idY: 1, eX: 0, eY: 2, pX: 0, pY: 1 },\r\n\t{ idX: 1, idY: 0, eX: -1, eY: 0, pX: 0, pY: 0 },\r\n\t{ idX: 1, idY: 0, eX: 2, eY: 0, pX: 1, pY: 0 }\r\n];\r\n\r\nconst north = { x: 0, y: -1 };\r\nconst south = { x: 0, y: 1 };\r\nconst east = { x: 1, y: 0 };\r\nconst west = { x: -1, y: 0 };\r\nconst directions = [north, south, east, west];\r\nconst pixel_size = 5;\r\n\r\nexport class S20a extends Solver {\r\n\tfindPortals(map) {\r\n\t\tlet portals = {};\r\n\t\tfor (let y = 0; y < map.length - 1; y++) {\r\n\t\t\tfor (let x = 0; x < map[0].length - 1; x++) {\r\n\t\t\t\tlet c = map[y][x];\r\n\t\t\t\tif (isLetter(c)) {\r\n\t\t\t\t\tportalCoords.forEach(p => {\r\n\t\t\t\t\t\tlet idX = x + p.idX;\r\n\t\t\t\t\t\tlet idY = y + p.idY;\r\n\t\t\t\t\t\tlet eX = x + p.eX;\r\n\t\t\t\t\t\tlet eY = y + p.eY;\r\n\t\t\t\t\t\tif (validCoordinate(map, idX, idY) && validCoordinate(map, eX, eY) &&\r\n\t\t\t\t\t\t\tisLetter(map[idY][idX]) && '.' === map[eY][eX]) {\r\n\t\t\t\t\t\t\tlet id = c + map[idY][idX];\r\n\t\t\t\t\t\t\tif (portals[id] === undefined) portals[id] = [];\r\n\t\t\t\t\t\t\tportals[id].push({ x: x + p.pX, y: y + p.pY });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let p in portals) {\r\n\t\t\tif (Object.prototype.hasOwnProperty.call(portals, p)) {\r\n\t\t\t\tif (portals[p].length === 2)\r\n\t\t\t\t\tportals[p].forEach(coord => {\r\n\t\t\t\t\t\tmap[coord.y][coord.x] = portals[p];\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn portals;\r\n\t}\r\n\r\n\ttryMove(path, dir, map, distMap, paths, recurse) {\r\n\t\tlet n = { x: path.x + dir.x, y: path.y + dir.y, steps: path.steps + 1, lvl: path.lvl };\r\n\t\tif (!recurse) n.prev = path;\r\n\t\tlet c = map[n.y][n.x];\r\n\t\tif (typeof (c) === \"object\") {\r\n\t\t\tif (recurse) {\r\n\t\t\t\tif (n.x === 1 || n.y === 1 || n.x === map[n.y].length - 2 || n.y === map.length - 2) {\r\n\t\t\t\t\tn.lvl--;\r\n\t\t\t\t\tif (n.lvl < 0) return; // No portal from lvl 0\r\n\t\t\t\t} else {\r\n\t\t\t\t\tn.lvl++;\r\n\t\t\t\t\tif (distMap[n.lvl] === undefined) distMap[n.lvl] = map.map(l => l.map(() => 0));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet newPos = c.filter(p => p.x !== n.x || p.y !== n.y)[0];\r\n\t\t\tn.x = newPos.x;\r\n\t\t\tn.y = newPos.y;\r\n\t\t\tn.steps -= 1;\r\n\t\t\tdirections.forEach(d => this.tryMove(n, d, map, distMap, paths));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (c === '.' || (c === 'Z' && n.lvl === 0)) {\r\n\t\t\tlet p = distMap[n.lvl][n.y][n.x];\r\n\t\t\tif (p === 0 || p > n.steps) {\r\n\t\t\t\tdistMap[n.lvl][n.y][n.x] = n.steps;\r\n\t\t\t\tpaths.push(n);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfindPath(map, start, stop, recurse) {\r\n\t\tlet distMap = [];\r\n\t\tdistMap[0] = map.map(l => l.map(() => 0));\r\n\t\tstart.steps = 0;\r\n\t\tstart.lvl = 0;\r\n\t\tlet paths = [start];\r\n\t\tdistMap[start.lvl][start.y][start.x] = 0;\r\n\t\twhile (paths.length > 0) {\r\n\t\t\tlet p = paths.shift();\r\n\t\t\tif (p.x === stop.x && p.y === stop.y) {\r\n\t\t\t\treturn p;\r\n\t\t\t}\r\n\t\t\tdirections.forEach(d => {\r\n\t\t\t\tthis.tryMove(p, d, map, distMap, paths, recurse);\r\n\t\t\t});\r\n\t\t\tpaths.sort((a, b) => a.steps - b.steps);\r\n\t\t}\r\n\t}\r\n\r\n\tdrawMap(map) {\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, map[0].length * pixel_size, map.length * pixel_size);\r\n\t\tfor (let y = 1; y < map.length - 1; y++) {\r\n\t\t\tfor (let x = 1; x < map[y].length - 1; x++) {\r\n\t\t\t\tlet c = map[y][x];\r\n\t\t\t\tif (c === '#' || c === '.') {\r\n\t\t\t\t\tctx.fillStyle = \"#000000\";\r\n\t\t\t\t\tif (c === '.') ctx.fillStyle = \"#CFCFCF\";\r\n\t\t\t\t\tctx.fillRect(x * pixel_size, y * pixel_size, pixel_size, pixel_size);\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof (c) === \"object\") {\r\n\t\t\t\t\tctx.fillStyle = \"#7F7FCF\";\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.arc((x + 0.5) * pixel_size, (y + 0.5) * pixel_size, pixel_size / 2, 0, 2 * Math.PI);\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t}\r\n\t\t\t\tif (c === 'A' || c === 'Z') {\r\n\t\t\t\t\tctx.fillStyle = \"#FF0000\";\r\n\t\t\t\t\tif (c === 'Z') ctx.fillStyle = \"#00FF00\";\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tif (x === 1) {\r\n\t\t\t\t\t\tctx.moveTo(x * pixel_size, y * pixel_size);\r\n\t\t\t\t\t\tctx.lineTo((x + 1) * pixel_size, (y + 0.5) * pixel_size);\r\n\t\t\t\t\t\tctx.lineTo(x * pixel_size, (y + 1) * pixel_size);\r\n\t\t\t\t\t} else if (x === map[y].length - 2) {\r\n\t\t\t\t\t\tctx.moveTo((x + 1) * pixel_size, y * pixel_size);\r\n\t\t\t\t\t\tctx.lineTo(x * pixel_size, (y + 0.5) * pixel_size);\r\n\t\t\t\t\t\tctx.lineTo((x + 1) * pixel_size, (y + 1) * pixel_size);\r\n\t\t\t\t\t} else if (y === 1) {\r\n\t\t\t\t\t\tctx.moveTo(x * pixel_size, y * pixel_size);\r\n\t\t\t\t\t\tctx.lineTo((x + 0.5) * pixel_size, (y + 1) * pixel_size);\r\n\t\t\t\t\t\tctx.lineTo((x + 1) * pixel_size, y * pixel_size);\r\n\t\t\t\t\t} else if (y === map.length - 2) {\r\n\t\t\t\t\t\tctx.moveTo(x * pixel_size, (y + 1) * pixel_size);\r\n\t\t\t\t\t\tctx.lineTo((x + 0.5) * pixel_size, y * pixel_size);\r\n\t\t\t\t\t\tctx.lineTo((x + 1) * pixel_size, (y + 1) * pixel_size);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdrawSegment(coords) {\r\n\t\tif (coords.length === 1) return;\r\n\t\tif (!this.refs.canvas) return;\r\n\r\n\t\tlet coord = coords.shift();\r\n\t\tlet dist = Math.abs(coord.x - coords[0].x) + Math.abs(coord.y - coords[0].y);\r\n\t\tif (dist === pixel_size) {\r\n\t\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\t\tctx.strokeStyle = \"#FF0000\";\r\n\t\t\tctx.lineWidth = 3;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(coord.x, coord.y);\r\n\t\t\tctx.lineTo(coords[0].x, coords[0].y);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t\tsetTimeout(() => this.drawSegment(coords), 25);\r\n\t}\r\n\r\n\tdrawPath(path) {\r\n\t\tlet coords = [];\r\n\t\twhile (path.prev) {\r\n\t\t\tcoords.unshift(path);\r\n\t\t\tpath = path.prev;\r\n\t\t}\r\n\t\tcoords = coords.map(c => { return { x: (c.x + 0.5) * pixel_size, y: (c.y + 0.5) * pixel_size } });\r\n\t\tthis.drawSegment(coords);\r\n\t}\r\n\r\n\tsolveRecursive(map, portals) {\r\n\t\tthis.setState({ recurse: this.findPath(map, portals[\"AA\"][0], portals[\"ZZ\"][0], true).steps - 2 });\r\n\t}\r\n\r\n\tsolveNonRecursive(map, portals) {\r\n\t\tthis.drawMap(map);\r\n\t\tlet path = this.findPath(map, portals[\"AA\"][0], portals[\"ZZ\"][0], false);\r\n\t\tthis.setState({ path: path.steps - 2 });\r\n\t\tsetTimeout(() => this.drawPath(path), 100);\r\n\t\tsetTimeout(() => this.solveRecursive(map, portals), 10);\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet map = input.split(\"\\n\").map(l => l.split(\"\"));\r\n\t\tlet portals = this.findPortals(map);\r\n\t\tthis.setState({ map: map });\r\n\t\tsetTimeout(() => this.solveNonRecursive(map, portals), 10);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet map = this.state.map;\r\n\t\treturn <div>\r\n\t\t\t<p>Distance non-recursive: {this.state.path}</p>\r\n\t\t\t<p>Distance recursive: {this.state.recurse}</p>\r\n\t\t\t<div style={{ fontFamily: \"monospace\", whiteSpace: \"pre\" }}>\r\n\t\t\t\t{map && <canvas id=\"solution\" ref=\"canvas\" width={map[0].length * pixel_size} height={map.length * pixel_size} />}\r\n\t\t\t</div>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S20b extends Solver {\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nfunction newDeck(n) {\r\n\tlet deck = [];\r\n\tdeck[n - 1] = n - 1;\r\n\tfor (let i = 0; i < n - 2; i++) {\r\n\t\tdeck[i] = i;\r\n\t}\r\n\treturn deck;\r\n}\r\n\r\nfunction dealWithIncrement(deck, increment) {\r\n\tlet n = [];\r\n\tfor (let i = 0; i < deck.length; i++) {\r\n\t\tn[(i * increment) % deck.length] = deck[i];\r\n\t}\r\n\treturn n;\r\n}\r\n\r\nfunction cutDeck(deck, position) {\r\n\twhile (position < 0) position += deck.length;\r\n\treturn deck.slice(position).concat(deck.slice(0, position));\r\n}\r\n\r\nfunction reorder(step, rev, deal, cut) {\r\n\tif (step === \"deal into new stack\") rev();\r\n\tif (step.startsWith(\"deal with increment \")) deal(parseInt(step.substring(20), 10));\r\n\tif (step.startsWith(\"cut \")) cut(parseInt(step.substring(4), 10));\r\n}\r\n\r\nfunction shuffle(deck, input) {\r\n\tlet rev = () => deck.reverse();\r\n\tlet deal = i => { deck = dealWithIncrement(deck, i) }\r\n\tlet cut = i => { deck = cutDeck(deck, i) }\r\n\tfor (let i = 0; i < input.length; i++) {\r\n\t\treorder(input[i], rev, deal, cut);\r\n\t}\r\n\treturn deck;\r\n}\r\n\r\nfunction longMul(a, b, m) {\r\n\tlet x = 0;\r\n\ta = a % m;\r\n\tb = b % m;\r\n\tif (b < 0) b += m;\r\n\twhile (b > 0) {\r\n\t\tx += a * (b % 10);\r\n\t\tx = x % m;\r\n\t\ta = (a * 10) % m;\r\n\t\tb = (b - b % 10) / 10;\r\n\t}\r\n\treturn x;\r\n}\r\n\r\nfunction gcd(a, b) {\r\n\tlet res = [\r\n\t\t{\r\n\t\t\tr: Math.min(a, b),\r\n\t\t\ts: 1,\r\n\t\t\tt: 0\r\n\t\t},\r\n\t\t{\r\n\t\t\tr: Math.max(a, b),\r\n\t\t\ts: 0,\r\n\t\t\tt: 1\r\n\t\t}\r\n\t];\r\n\twhile (res[0].r > 1) {\r\n\t\tlet q = Math.floor(res[1].r / res[0].r);\r\n\t\tres.unshift({\r\n\t\t\tr: res[1].r - q * res[0].r,\r\n\t\t\ts: res[1].s - q * res[0].s,\r\n\t\t\tt: res[1].t - q * res[0].t\r\n\t\t});\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nfunction computeMatrix(a, b, n, m) {\r\n\t// Compute {a,b}^n mod m\r\n\t// console.log(`a=${a}, b=${b}, n=${n}, m=${m}`);\r\n\tif (n === 1) return { a: a, b: b };\r\n\tlet m2 = computeMatrix(longMul(a, a, m), longMul((a + 1) % m, b, m), Math.floor(n / 2), m);\r\n\tif (n % 2 === 1) {\r\n\t\tm2.a = longMul(a, m2.a, m);\r\n\t\tm2.b = (b + longMul(a, m2.b, m)) % m;\r\n\t}\r\n\treturn m2;\r\n}\r\n\r\nexport class S22a extends Solver {\r\n\ttest(input) {\r\n\t\tlet len = 10007;\r\n\t\tlet n = 5;\r\n\t\tlet mul = 1;\r\n\t\tlet add = 0;\r\n\t\tinput = input.split(\"\\n\");\r\n\t\tlet deck = newDeck(10007);\r\n\t\tfor (let i = 0; i < n; i++) { deck = shuffle(deck, input) }\r\n\t\tconsole.log(`After ${n} shuffles, card 2020 is: ${deck[2020]}`);\r\n\t\tlet rev = () => { mul *= -1; add *= -1; add--; }\r\n\t\tlet deal = i => {\r\n\t\t\tlet g = gcd(i, len);\r\n\t\t\tmul = longMul(mul, g[0].s, len);\r\n\t\t\tadd = longMul(add, g[0].s, len);\r\n\t\t}\r\n\t\tlet cut = i => { add = (add + i) % len; }\r\n\t\tinput.reverse();\r\n\t\tfor (let i = 0; i < input.length; i++) { reorder(input[i], rev, deal, cut) }\r\n\t\tlet m = computeMatrix(mul, add, n, len);\r\n\t\tlet card = (longMul(2020, m.a, len) + m.b) % len;\r\n\t\tif (card < 0) card += len;\r\n\t\tconsole.log(`Computed card is: ${card}`);\r\n\t}\r\n\r\n\tsolve1(input) {\r\n\t\tlet len = 10007;\r\n\t\tlet mul = 1;\r\n\t\tlet add = 0;\r\n\t\tlet rev = () => { mul *= -1; add *= -1; add--; }\r\n\t\tlet deal = i => { mul *= i; add *= i; mul = mul % len; add = add % len; }\r\n\t\tlet cut = i => { add += -i; add = add % len; }\r\n\t\tinput = input.split(\"\\n\");\r\n\t\tfor (let i = 0; i < input.length; i++) { reorder(input[i], rev, deal, cut) }\r\n\t\tlet pos = (longMul(mul, 2019, len) + add) % len;\r\n\t\tif (pos < 0) { pos += len; }\r\n\t\treturn pos;\r\n\t}\r\n\r\n\tsolve2(input) {\r\n\t\tlet len = 119315717514047;\r\n\t\tlet n = 101741582076661;\r\n\t\tlet mul = 1;\r\n\t\tlet add = 0;\r\n\t\tlet rev = () => { mul *= -1; add *= -1; add--; }\r\n\t\tlet deal = i => {\r\n\t\t\tlet g = gcd(len, i);\r\n\t\t\tmul = longMul(mul, g[0].s, len);\r\n\t\t\tadd = longMul(add, g[0].s, len);\r\n\t\t}\r\n\t\tlet cut = i => { add += i; add = add % len; }\r\n\t\tinput = input.split(\"\\n\");\r\n\t\tinput.reverse();\r\n\t\tfor (let i = 0; i < input.length; i++) { reorder(input[i], rev, deal, cut) }\r\n\t\tconsole.log(`Multiplier per iteration: ${mul}`);\r\n\t\tconsole.log(`Addition per iteration: ${add}`);\r\n\t\tlet m = computeMatrix(mul, add, n, len);\r\n\t\tconsole.log(`Multiplier for n iterations: ${m.a}`);\r\n\t\tconsole.log(`Addition for n iterations: ${m.b}`);\r\n\t\tlet card = (longMul(2020, m.a, len) + m.b) % len;\r\n\t\tif (card < 0) card += len;\r\n\t\treturn card;\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\t// this.test(input);\r\n\t\tlet pt1 = this.solve1(input);\r\n\t\tlet pt2 = this.solve2(input);\r\n\t\tthis.setState({ solution: `Index of card 2019: ${pt1}\\nCard in position 2020: ${pt2}` });\r\n\t}\r\n}\r\n\r\nexport class S22b extends Solver {\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\n\r\nconst room_size = 25;\r\nconst map_width = 800;\r\nconst map_height = 450;\r\n\r\nfunction putCmd(comp, cmd) {\r\n\tfor (let i = 0; i < cmd.length; i++) {\r\n\t\tcomp.stdin.push(cmd.charCodeAt(i));\r\n\t}\r\n}\r\n\r\nexport class S25a extends Solver {\r\n\trooms = [];\r\n\tpos = { x: 0, y: 0 }\r\n\tstate = { cmd: \"\" }\r\n\twarp = [\r\n\t\t{ dir: 'south', x: 0, y: 1, dx: 0, dy: 3 },\r\n\t\t{ dir: 'north', x: 0, y: 3, dx: 0, dy: -3 },\r\n\t\t{ dir: 'east', x: 1, y: 0, dx: 3, dy: 0 },\r\n\t\t{ dir: 'west', x: 3, y: 0, dx: -3, dy: 0 },\r\n\t\t{ dir: 'south', x: 4, y: 1, dx: 0, dy: 6 },\r\n\t\t{ dir: 'north', x: 4, y: 6, dx: 0, dy: -6 },\r\n\t\t{ dir: 'east', x: -5, y: 7, dx: 9, dy: 0 },\r\n\t\t{ dir: 'west', x: 3, y: 7, dx: -9, dy: 0 },\r\n\t]\r\n\r\n\titems = [\"pointer\", \"coin\", \"mug\", \"manifold\", \"hypercube\", \"easter egg\", \"astrolabe\", \"candy cane\"];\r\n\r\n\tautoCmd = \"west\\ntake mug\\nnorth\\ntake easter egg\\nsouth\\neast\\nsouth\\neast\\nnorth\\ntake candy cane\\n\" +\r\n\t\t\"south\\nwest\\nnorth\\neast\\ntake coin\\nnorth\\nnorth\\ntake hypercube\\nsouth\\neast\\ntake manifold\\nwest\\n\" +\r\n\t\t\"south\\nsouth\\neast\\ntake pointer\\nwest\\nwest\\ntake astrolabe\\nnorth\\neast\\nnorth\\ndrop pointer\\n\" +\r\n\t\t\"drop coin\\ndrop mug\\ndrop manifold\\ndrop hypercube\\ndrop easter egg\\ndrop astrolabe\\ndrop candy cane\";\r\n\r\n\tenterInput(cmd) {\r\n\t\tif (cmd.length > 0) {\r\n\t\t\tputCmd(this.comp, cmd + \"\\n\");\r\n\t\t}\r\n\t\tlet r = this.rooms.find(r => r.x === this.pos.x && r.y === this.pos.y);\r\n\t\tif (cmd === 'north' && r.dir.includes(\"N\")) { this.pos.y--; }\r\n\t\tif (cmd === 'south' && r.dir.includes(\"S\")) { this.pos.y++; }\r\n\t\tif (cmd === 'east' && r.dir.includes(\"E\")) { this.pos.x++; }\r\n\t\tif (cmd === 'west' && r.dir.includes(\"W\")) { this.pos.x--; }\r\n\r\n\t\tthis.warp.forEach(w => {\r\n\t\t\tif (cmd === w.dir && this.pos.x === w.x && this.pos.y === w.y) { this.pos.x += w.dx; this.pos.y += w.dy; }\r\n\t\t});\r\n\t}\r\n\r\n\ttranslateX(x) {\r\n\t\treturn (x + 16) * room_size;\r\n\t}\r\n\r\n\ttranslateY(y) {\r\n\t\treturn (y + 5) * room_size;\r\n\t}\r\n\r\n\tupdateMap() {\r\n\t\tconst ctx = this.refs.canvas.getContext('2d');\r\n\t\tctx.clearRect(0, 0, map_width, map_height);\r\n\t\tctx.strokeStyle = \"#000000\";\r\n\t\tctx.fillStyle = \"#CF7F00\";\r\n\t\tthis.rooms.forEach(r => {\r\n\t\t\tlet x = this.translateX(r.x);\r\n\t\t\tlet y = this.translateY(r.y);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(x, y, room_size, room_size);\r\n\t\t\tctx.stroke();\r\n\t\t\tif (r.dir.includes(\"N\")) { ctx.fillRect(x + 5, y - 2, 15, 5); }\r\n\t\t\tif (r.dir.includes(\"S\")) { ctx.fillRect(x + 5, y + room_size - 2, 15, 5); }\r\n\t\t\tif (r.dir.includes(\"E\")) { ctx.fillRect(x + room_size - 2, y + 5, 5, 15); }\r\n\t\t\tif (r.dir.includes(\"W\")) { ctx.fillRect(x - 2, y + 5, 5, 15); }\r\n\t\t});\r\n\t\tctx.strokeStyle = \"#00CF00\";\r\n\t\tlet x = this.translateX(this.pos.x) + 5;\r\n\t\tlet y = this.translateY(this.pos.y) + 5;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x, y);\r\n\t\tctx.lineTo(x + 15, y + 15);\r\n\t\tctx.stroke();\r\n\t\tctx.moveTo(x + 15, y);\r\n\t\tctx.lineTo(x, y + 15);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tparseOutput() {\r\n\t\tlet output = \"\";\r\n\t\twhile (this.comp.stdout.length > 0) {\r\n\t\t\toutput += String.fromCharCode(this.comp.stdout.shift());\r\n\t\t}\r\n\t\tif (!this.rooms.some(r => r.x === this.pos.x && r.y === this.pos.y)) {\r\n\t\t\tlet dir = \"\";\r\n\t\t\tif (output.includes(\"- north\\n\")) { dir += \"N\" }\r\n\t\t\tif (output.includes(\"- south\\n\")) { dir += \"S\" }\r\n\t\t\tif (output.includes(\"- east\\n\")) { dir += \"E\" }\r\n\t\t\tif (output.includes(\"- west\\n\")) { dir += \"W\" }\r\n\t\t\tthis.rooms.push({ ...this.pos, dir: dir });\r\n\t\t}\r\n\t\tthis.updateMap();\r\n\t\treturn output;\r\n\t}\r\n\r\n\trunCommand(cmd) {\r\n\t\tthis.enterInput(cmd);\r\n\t\tthis.comp.run();\r\n\t\tthis.setState({ cmd: \"\", output: this.parseOutput() });\r\n\t}\r\n\r\n\ttryCombinations() {\r\n\t\tfor (let i = 1; i < 256; i++) {\r\n\t\t\tlet comp = this.comp.copy();\r\n\t\t\twhile (comp.stdout.length > 0) { comp.stdout.shift(); }\r\n\t\t\tlet p = i, n = 0;\r\n\t\t\twhile (p > 0) {\r\n\t\t\t\tif (p % 2 === 1) { putCmd(comp, `take ${this.items[n]}\\n`) }\r\n\t\t\t\tn++;\r\n\t\t\t\tp = Math.floor(p / 2);\r\n\t\t\t}\r\n\t\t\tcomp.run();\r\n\t\t\twhile (comp.stdout.length > 0) { comp.stdout.shift(); }\r\n\t\t\tputCmd(comp, \"east\\n\");\r\n\t\t\tcomp.run();\r\n\t\t\tlet msg = ``;\r\n\t\t\twhile (comp.stdout.length > 0) { msg += String.fromCharCode(comp.stdout.shift()); }\r\n\t\t\tif (!msg.includes(\"ejected back to the checkpoint\")) {\r\n\t\t\t\tthis.setState({ output: msg });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tautoCommands(auto) {\r\n\t\tif (auto.length === 0) {\r\n\t\t\tthis.tryCombinations();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.runCommand(auto.shift());\r\n\t\tsetTimeout(() => this.autoCommands(auto), 100);\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tthis.program = input;\r\n\t\tthis.comp = new Computer().init(input);\r\n\t\tthis.runCommand(\"\");\r\n\t\tsetTimeout(() => this.autoCommands(this.autoCmd.split(\"\\n\")), 100);\r\n\t}\r\n\r\n\thandleKey(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tthis.runCommand(this.state.cmd);\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<canvas id=\"solution\" ref=\"canvas\" width={map_width} height={map_height} />\r\n\t\t\t{this.state.output && this.state.output.split(\"\\n\").map((l, i) => <p key={i}>{l}</p>)}\r\n\t\t\t<p><input value={this.state.cmd} onChange={e => this.setState({ cmd: e.target.value })} onKeyPress={e => this.handleKey(e)} /></p>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S25b extends Solver {\r\n}","import './App.css';\r\nimport React from 'react';\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport { AppGrid } from './AppGrid';\r\nimport { Solution } from './Solution';\r\nimport {\r\n\tS1a, S1b, S2a, S2b, S3a, S3b, S4a, S4b, S5a, S5b, S6a, S6b, S7a, S7b, S8a, S8b, S9a, S9b,\r\n\tS10a, S10b, S11a, S11b, S12a, S12b, S13a, S13b, S14a, S14b, S15a, S15b, S16a, S16b, S17a, S17b,\r\n\tS18a, S18b, S19a, S19b, S20a, S20b, S21a, S21b, S22a, S22b, S23a, S23b, S24a, S24b, S25a, S25b\r\n} from './Solvers';\r\n\r\nlet solvers = [\r\n\t{ a: S1a, b: S1b },\r\n\t{ a: S2a, b: S2b },\r\n\t{ a: S3a, b: S3b },\r\n\t{ a: S4a, b: S4b },\r\n\t{ a: S5a, b: S5b },\r\n\t{ a: S6a, b: S6b },\r\n\t{ a: S7a, b: S7b },\r\n\t{ a: S8a, b: S8b },\r\n\t{ a: S9a, b: S9b },\r\n\t{ a: S10a, b: S10b },\r\n\t{ a: S11a, b: S11b },\r\n\t{ a: S12a, b: S12b },\r\n\t{ a: S13a, b: S13b },\r\n\t{ a: S14a, b: S14b },\r\n\t{ a: S15a, b: S15b },\r\n\t{ a: S16a, b: S16b },\r\n\t{ a: S17a, b: S17b },\r\n\t{ a: S18a, b: S18b },\r\n\t{ a: S19a, b: S19b },\r\n\t{ a: S20a, b: S20b },\r\n\t{ a: S21a, b: S21b },\r\n\t{ a: S22a, b: S22b },\r\n\t{ a: S23a, b: S23b },\r\n\t{ a: S24a, b: S24b },\r\n\t{ a: S25a, b: S25b }\r\n];\r\n\r\nexport default function App() {\r\n\treturn (\r\n\t\t<Router basename={`${process.env.PUBLIC_URL}`}>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/:day\" render={p => <Solution solvers={solvers} {...p} />} />\r\n\t\t\t\t<Route exact path=\"/\" component={AppGrid} />\r\n\t\t\t\t<Route path=\"/\" render={p => <h2>404 - this puzzle does not exist!</h2>} />\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\n\r\nexport class S19a extends Solver {\r\n\tdetect(x, y) {\r\n\t\tlet comp = new Computer().init(this.program);\r\n\t\tcomp.stdin.push(x);\r\n\t\tcomp.stdin.push(y);\r\n\t\tcomp.run();\r\n\t\treturn comp.stdout.shift();\r\n\t}\r\n\r\n\tsolve2() {\r\n\t\tlet ctx = this.refs.canvas.getContext('2d');\r\n\t\tlet x = 100, y = 0;\r\n\t\twhile (true) {\r\n\t\t\tctx.fillStyle = \"#CFCFCF\";\r\n\t\t\twhile (this.detect(x, y) === 0) {\r\n\t\t\t\tctx.fillRect(x, y, 1, 1);\r\n\t\t\t\ty++;\r\n\t\t\t}\r\n\t\t\tctx.fillStyle = \"#CF7FCF\";\r\n\t\t\twhile (this.detect(x, y) === 1) {\r\n\t\t\t\tctx.fillRect(x, y, 1, 1);\r\n\t\t\t\tx++;\r\n\t\t\t}\r\n\t\t\tif (this.detect(x - 100, y + 99) === 1) {\r\n\t\t\t\tthis.setState({ minX: x - 100, minY: y });\r\n\t\t\t\tctx.fillRect(x - 100, y, 100, 100);\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tctx.fillStyle = \"#CFCFCF\";\r\n\t\t\t\tctx.fillRect(x - 100, y + 99, 1, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet count = 0;\r\n\t\tlet ctx = this.refs.canvas.getContext('2d');\r\n\t\tfor (let y = 0; y < 50; y++) {\r\n\t\t\tfor (let x = 0; x < 50; x++) {\r\n\t\t\t\tlet comp = new Computer().init(input);\r\n\t\t\t\tcomp.stdin.push(x);\r\n\t\t\t\tcomp.stdin.push(y);\r\n\t\t\t\tcomp.run();\r\n\t\t\t\tlet res = comp.stdout.shift();\r\n\t\t\t\tif (res === 1) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\tctx.fillStyle = \"#CF7FCF\";\r\n\t\t\t\t}\r\n\t\t\t\tif (res === 0) {\r\n\t\t\t\t\tctx.fillStyle = \"#CFCFCF\";\r\n\t\t\t\t}\r\n\t\t\t\tctx.fillRect(x, y, 1, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.program = input;\r\n\t\tthis.setState({ pulls: count });\r\n\t\tsetTimeout(() => this.solve2(), 10);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<p>{this.state.pulls} coordinates pulled</p>\r\n\t\t\t<p>Min X: {this.state.minX}</p>\r\n\t\t\t<p>Min Y: {this.state.minY}</p>\r\n\t\t\t<p>Value: {this.state.minX && 10000 * this.state.minX + this.state.minY}</p>\r\n\t\t\t<canvas id=\"solution\" ref=\"canvas\" style={{ margin: \"10px\" }} width=\"1100\" height=\"1100\" />\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S19b extends Solver {\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\n\r\nexport class S21a extends Solver {\r\n\tstate = {\r\n\t\tspringCode1: \"NOT C J\\nAND D J\\nNOT A T\\nOR T J\\nWALK\\n\",\r\n\t\tspringCode2: \"NOT A J\\nNOT B T\\nOR T J\\nNOT C T\\nOR T J\\nAND D J\\nNOT E T\\nNOT T T\\nOR H T\\nAND T J\\nRUN\\n\"\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tthis.setState({ program: input });\r\n\t}\r\n\r\n\trunProgram(code) {\r\n\t\tlet comp = new Computer().init(this.state.program);\r\n\t\tfor (let i = 0; i < code.length; i++) {\r\n\t\t\tcomp.stdin.push(code.charCodeAt(i));\r\n\t\t}\r\n\t\tcomp.run();\r\n\t\tlet result = {};\r\n\t\tif (comp.stdout[comp.stdout.length - 1] > 255) {\r\n\t\t\tresult.answer = comp.stdout[comp.stdout.length - 1];\r\n\t\t}\r\n\t\tresult.output = \"\";\r\n\t\twhile (comp.stdout.length > 0) {\r\n\t\t\tresult.output += String.fromCharCode(comp.stdout.shift());\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\tlet i = 0;\r\n\t\treturn <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t<div style={{ display: \"inline\", marginRight: \"10px\" }}>\r\n\t\t\t\t<p>Part 1:</p>\r\n\t\t\t\t<textarea rows=\"16\" cols=\"20\" value={this.state.springCode1} onChange={e => this.setState({ springCode1: e.target.value })} />\r\n\t\t\t\t<p><input type=\"button\" value=\"Walk\" onClick={() => { let r = this.runProgram(this.state.springCode1); this.setState({ answer1: r.answer, output: r.output }); }} /></p>\r\n\t\t\t\t<p>Answer: {this.state.answer1}</p>\r\n\t\t\t\t<p>Part 2:</p>\r\n\t\t\t\t<textarea rows=\"16\" cols=\"20\" value={this.state.springCode2} onChange={e => this.setState({ springCode2: e.target.value })} />\r\n\t\t\t\t<p><input type=\"button\" value=\"Run\" onClick={() => { let r = this.runProgram(this.state.springCode2); this.setState({ answer2: r.answer, output: r.output }); }} /></p>\r\n\t\t\t\t<p>Answer: {this.state.answer2}</p>\r\n\t\t\t</div>\r\n\t\t\t{this.state.output && <div style={{ fontFamily: \"monospace\", whiteSpace: \"pre\" }}>\r\n\t\t\t\t{this.state.output.split(\"\\n\").map(l => <p key={i++}>{l}</p>)}\r\n\t\t\t</div>}\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport class S21b extends Solver {\r\n}","// import React from 'react';\r\nimport Solver from './Solver';\r\nimport { Computer } from './IntCode';\r\n\r\nexport class S23a extends Solver {\r\n\tsolve(input) {\r\n\t\tlet net = [];\r\n\t\tlet nat = {};\r\n\t\tlet firstY = false;\r\n\t\tlet sent = [];\r\n\t\tfor (let i = 0; i < 50; i++) {\r\n\t\t\tnet[i] = new Computer().init(input, [i, -1]);\r\n\t\t}\r\n\t\twhile (true) {\r\n\t\t\tlet idle = true;\r\n\t\t\tfor (let i = 0; i < 50; i++) {\r\n\t\t\t\tlet cmp = net[i];\r\n\t\t\t\tif (cmp.stdin.length === 0) {\r\n\t\t\t\t\tcmp.stdin.push(-1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tidle = false;\r\n\t\t\t\t}\r\n\t\t\t\tcmp.run();\r\n\t\t\t\twhile (cmp.stdout.length > 0) {\r\n\t\t\t\t\tlet tgt = cmp.stdout.shift();\r\n\t\t\t\t\tlet x = cmp.stdout.shift();\r\n\t\t\t\t\tlet y = cmp.stdout.shift();\r\n\t\t\t\t\tif (tgt < 50) {\r\n\t\t\t\t\t\tnet[tgt].stdin.push(x);\r\n\t\t\t\t\t\tnet[tgt].stdin.push(y);\r\n\t\t\t\t\t\tidle = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (tgt === 255) {\r\n\t\t\t\t\t\tif (firstY === false) { firstY = y; }\r\n\t\t\t\t\t\tnat.x = x;\r\n\t\t\t\t\t\tnat.y = y;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (idle) {\r\n\t\t\t\tnet[0].stdin.push(nat.x);\r\n\t\t\t\tnet[0].stdin.push(nat.y);\r\n\t\t\t\tsent.push(nat.y);\r\n\t\t\t\tif (sent.filter(v => v === nat.y).length > 1) {\r\n\t\t\t\t\tthis.setState({ solution: `First Y sent to NAT: ${firstY}\\nFirst duplicate Y sent by NAT: ${nat.y}` });\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class S23b extends Solver {\r\n}","import React from 'react';\r\nimport Solver from './Solver';\r\n\r\nexport class S24a extends Solver {\r\n\tbio(map) {\r\n\t\tlet i = 1;\r\n\t\tlet b = 0;\r\n\t\tfor (let y = 0; y < map.length; y++) {\r\n\t\t\tfor (let x = 0; x < map[y].length; x++) {\r\n\t\t\t\tif (map[y][x] === '#') { b += i; }\r\n\t\t\t\ti *= 2;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn b;\r\n\t}\r\n\r\n\tbugCount(map, x, y) {\r\n\t\tlet c = 0;\r\n\t\tif (x > 0 && map[y][x - 1] === '#') c++;\r\n\t\tif (x + 1 < map[y].length && map[y][x + 1] === '#') c++;\r\n\t\tif (y > 0 && map[y - 1][x] === '#') c++;\r\n\t\tif (y + 1 < map.length && map[y + 1][x] === '#') c++;\r\n\t\treturn c;\r\n\t}\r\n\r\n\ttick(map) {\r\n\t\tlet n = map.map(l => l.slice());\r\n\t\tfor (let y = 0; y < n.length; y++) {\r\n\t\t\tfor (let x = 0; x < n[y].length; x++) {\r\n\t\t\t\tlet b = this.bugCount(map, x, y);\r\n\t\t\t\tif (n[y][x] === '#') {\r\n\t\t\t\t\tif (b !== 1) { n[y][x] = '.'; }\r\n\t\t\t\t} else if (b === 1 || b === 2) {\r\n\t\t\t\t\tn[y][x] = '#';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet map = input.split(\"\\n\").map(l => l.split(\"\"));\r\n\t\tlet bios = [this.bio(map)];\r\n\t\twhile (true) {\r\n\t\t\tmap = this.tick(map);\r\n\t\t\tlet b = this.bio(map);\r\n\t\t\tif (bios.includes(b)) {\r\n\t\t\t\tthis.setState({ solution: `First bio score to repeat: ${b}` });\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tbios.push(b);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class S24b extends Solver {\r\n\tbugCount(maps, l, x, y) {\r\n\t\tlet c = 0;\r\n\r\n\t\t// Exterior\r\n\t\tif (x === 0 && l > 0 && maps[l - 1][2][1] === '#') { c++; }\r\n\t\tif (y === 0 && l > 0 && maps[l - 1][1][2] === '#') { c++; }\r\n\t\tif (x === 4 && l > 0 && maps[l - 1][2][3] === '#') { c++; }\r\n\t\tif (y === 4 && l > 0 && maps[l - 1][3][2] === '#') { c++; }\r\n\r\n\t\t// Interior\r\n\t\tif (x === 2 && y === 1 && l < 400) {\r\n\t\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\t\tif (maps[l + 1][0][i] === '#') { c++; }\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (x === 2 && y === 3 && l < 400) {\r\n\t\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\t\tif (maps[l + 1][4][i] === '#') { c++; }\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (x === 1 && y === 2 && l < 400) {\r\n\t\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\t\tif (maps[l + 1][i][0] === '#') { c++; }\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (x === 3 && y === 2 && l < 400) {\r\n\t\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\t\tif (maps[l + 1][i][4] === '#') { c++; }\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Self\r\n\t\tif (x > 0 && maps[l][y][x - 1] === '#') { c++; }\r\n\t\tif (x < 4 && maps[l][y][x + 1] === '#') { c++; }\r\n\t\tif (y > 0 && maps[l][y - 1][x] === '#') { c++; }\r\n\t\tif (y < 4 && maps[l][y + 1][x] === '#') { c++; }\r\n\r\n\t\treturn c;\r\n\t}\r\n\r\n\ttick(maps) {\r\n\t\tlet n = [];\r\n\t\tfor (let l = 0; l <= 400; l++) {\r\n\t\t\tn[l] = maps[l].map(m => m.map(l => l.slice()));\r\n\t\t\tfor (let y = 0; y < 5; y++) {\r\n\t\t\t\tfor (let x = 0; x < 5; x++) {\r\n\t\t\t\t\tif (x !== 2 || y !== 2) {\r\n\t\t\t\t\t\tlet b = this.bugCount(maps, l, x, y);\r\n\t\t\t\t\t\tif (n[l][y][x] === '#') {\r\n\t\t\t\t\t\t\tif (b !== 1) { n[l][y][x] = '.'; }\r\n\t\t\t\t\t\t} else if (b === 1 || b === 2) {\r\n\t\t\t\t\t\t\tn[l][y][x] = '#';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n\tcountBugs(maps) {\r\n\t\tlet n = 0;\r\n\t\tmaps.forEach(m => {\r\n\t\t\tfor (let y = 0; y < 5; y++) {\r\n\t\t\t\tfor (let x = 0; x < 5; x++) {\r\n\t\t\t\t\tif ((y !== 2 || x !== 2) && m[y][x] === '#') { n++; }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn n;\r\n\t}\r\n\r\n\tpassTime(maps) {\r\n\t\tif (this.state.ticks === 200) {\r\n\t\t\tthis.setState({ answer: this.countBugs(maps) });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tmaps = this.tick(maps);\r\n\t\tthis.setState({ ticks: this.state.ticks + 1, maps: maps });\r\n\t\tsetTimeout(() => this.passTime(maps), 1);\r\n\t}\r\n\r\n\tassert(maps, l, x, y, exp) {\r\n\t\tlet act = this.bugCount(maps, l, x, y);\r\n\t\tif (act !== exp) { console.log(`bugCount(${l},${x},${y}) should be ${exp} but was ${act}!`); }\r\n\t}\r\n\r\n\tlogMap(map) {\r\n\t\tfor (let y = 0; y < 5; y++) {\r\n\t\t\tconsole.log(\"\" + y + \": \" + map[y].join(\"\"));\r\n\t\t}\r\n\t}\r\n\r\n\tsolve(input) {\r\n\t\tlet maps = [];\r\n\t\tmaps[200] = input.split(\"\\n\").map(l => l.split(\"\"));\r\n\t\tfor (let i = 0; i <= 400; i++) {\r\n\t\t\tif (i !== 200) {\r\n\t\t\t\tmaps[i] = maps[200].map(l => l.map(() => '.'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({ ticks: 0, maps });\r\n\t\tsetTimeout(() => this.passTime(maps), 10);\r\n\t}\r\n\r\n\tcustomRender() {\r\n\t\treturn <div>\r\n\t\t\t<p>Step: {this.state.ticks}</p>\r\n\t\t\t{this.state.answer && <p>Number of bugs: {this.state.answer}</p>}\r\n\t\t\t<div style={{ fontFamily: \"monospace\", whiteSpace: \"pre\" }}>\r\n\t\t\t\t{this.state.maps && this.state.maps[199].map((l, i) => <p key={1990 + i}>{l.join(\"\")}</p>)}\r\n\t\t\t\t<p>&nbsp;</p>\r\n\t\t\t\t{this.state.maps && this.state.maps[200].map((l, i) => <p key={2000 + i}>{l.join(\"\")}</p>)}\r\n\t\t\t\t<p>&nbsp;</p>\r\n\t\t\t\t{this.state.maps && this.state.maps[201].map((l, i) => <p key={2010 + i}>{l.join(\"\")}</p>)}\r\n\t\t\t</div>\r\n\t\t</div>;\r\n\t}\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}